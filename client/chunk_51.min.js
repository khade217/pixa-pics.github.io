/*! For license information please see chunk_51.min.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{1054:function(t,n,e){"use strict";function r(t,n){if(t.length!==n.length)throw Error(`Cannot merge real and imag arrays of different lengths. real:${t.length}, imag: ${n.length}.`);const e=new Float32Array(2*t.length);for(let r=0;r<e.length;r+=2)e[r]=t[r/2],e[r+1]=n[r/2];return e}function i(t){const n=new Float32Array(t.length/2),e=new Float32Array(t.length/2);for(let r=0;r<t.length;r+=2)n[r/2]=t[r],e[r/2]=t[r+1];return{real:n,imag:e}}function u(t){const n=Math.ceil(t.length/4),e=new Float32Array(n),r=new Float32Array(n);for(let i=0;i<t.length;i+=4)e[Math.floor(i/4)]=t[i],r[Math.floor(i/4)]=t[i+1];return{real:e,imag:r}}function o(t){const n=Math.floor(t.length/4),e=new Float32Array(n),r=new Float32Array(n);for(let i=2;i<t.length;i+=4)e[Math.floor(i/4)]=t[i],r[Math.floor(i/4)]=t[i+1];return{real:e,imag:r}}function c(t,n){return{real:t[2*n],imag:t[2*n+1]}}function s(t,n,e,r){t[2*r]=n,t[2*r+1]=e}function a(t,n){const e=new Float32Array(t/2),r=new Float32Array(t/2);for(let i=0;i<Math.ceil(t/2);i++){const u=(n?2:-2)*Math.PI*(i/t);e[i]=Math.cos(u),r[i]=Math.sin(u)}return{real:e,imag:r}}function d(t,n,e){const r=(e?2:-2)*Math.PI*(t/n);return{real:Math.cos(r),imag:Math.sin(r)}}function f(t,n){const e=((t=t.replace(/\s/g,"")).length-t.replace(wt,"").length)/It.length;if(e<1)throw Error("Equations without an arrow are not supported.");if(e>1)throw Error(`Equation must contain exactly one arrow ("${It}").`);const[r,i]=t.split(It);Object(st.c)(-1===r.indexOf(St),(()=>`The ellipsis notation ("${St}") is not supported yet.`));const u=r.split(vt),o=u.length;if(n!==o)throw Error(`Expected ${o} input tensors, received ${n}`);if(o>2)throw Error("Support for more than 2 input tensors is not implemented yet.");const c=[];for(let f=0;f<i.length;++f){const t=i[f];if(!u.some((n=>-1!==n.indexOf(t))))throw Error(`Output subscripts contain the label ${t} not present in the input subscripts.`);-1===c.indexOf(t)&&c.push(t)}for(let f=0;f<r.length;++f){const t=r[f];-1===c.indexOf(t)&&t!==vt&&c.push(t)}const s=Array(u.length);for(let f=0;f<o;++f){if(new Set(u[f].split("")).size!==u[f].length)throw Error(`Found duplicate axes in input component ${u[f]}. Support for duplicate axes in input is not implemented yet.`);s[f]=[];for(let t=0;t<u[f].length;++t)s[f].push(c.indexOf(u[f][t]))}const a=c.length,d=[];for(let f=i.length;f<a;++f)d.push(f);return{allDims:c,summedDims:d,idDims:s}}function h(t,n){let e=Array(t);e.fill(-1);for(let i=0;i<n.length;++i)e[n[i]]=i;const r=[];for(let i=0;i<t;++i)-1===e[i]&&r.push(i);return e=e.filter((t=>-1!==t)),{permutationIndices:e,expandDims:r}}function l(t,n,e){const r=Array(t);for(let i=0;i<e.length;++i){const t=e[i].shape;for(let e=0;e<n[i].length;++e)void 0===r[n[i][e]]?r[n[i][e]]=t[e]:Object(st.c)(r[n[i][e]]===t[e],(()=>`Expected dimension ${r[n[i][e]]} at axis ${e} of input shaped ${JSON.stringify(t)}, but got dimension `+t[e]))}}function g(t,n){const e=t,r=[];let i=0;0===t.length&&e.push(-1),i=t.length+1;for(let o=0;o<i;++o)r.push([]);const u=[];for(let o=0;o<e.length;++o){const t=b(n,e[o]);for(const n of t)-1===u.indexOf(n)&&(r[o].push(n),u.push(n))}return{path:e,steps:r}}function p(t){return t.every(((t,n)=>t===n))}function b(t,n){const e=[];for(let r=0;r<t.length;++r)0!==t[r].length&&-1===t[r].indexOf(n)&&-1!==n||e.push(r);return e}function m(t){try{return t.map((t=>Object(M.decodeString)(t)))}catch(n){throw Error("Failed to decode encoded string bytes into utf-8, error: "+n)}}function y(t){return t.map((t=>Object(M.encodeString)(t)))}var k,I,w,v,S,T,F,E,x,A,B,M,O,R,D,P,N,j,C,V,z,U,L,G,_,K,$,W,q,H,J,Q,Y,Z,X,tt,nt,et,rt,it,ut,ot,ct,st,at,dt,ft,ht,lt,gt,pt,bt,mt,yt,kt={};e.r(kt),e.d(kt,"axesAreInnerMostDims",(function(){return Y.b})),e.d(kt,"combineLocations",(function(){return Y.c})),e.d(kt,"computeOutAndReduceShapes",(function(){return Y.d})),e.d(kt,"expandShapeToKeepDim",(function(){return Y.e})),e.d(kt,"assertAxesAreInnerMostDims",(function(){return Y.a})),e.d(kt,"getAxesPermutation",(function(){return Y.f})),e.d(kt,"getUndoAxesPermutation",(function(){return Y.h})),e.d(kt,"getInnerMostAxes",(function(){return Y.g})),e.d(kt,"getBroadcastDims",(function(){return v.getBroadcastDims})),e.d(kt,"getReductionAxes",(function(){return v.getReductionAxes})),e.d(kt,"assertAndGetBroadcastShape",(function(){return v.assertAndGetBroadcastShape})),e.d(kt,"computeDilation2DInfo",(function(){return X.e})),e.d(kt,"computePool2DInfo",(function(){return X.f})),e.d(kt,"computePool3DInfo",(function(){return X.g})),e.d(kt,"computeConv2DInfo",(function(){return X.b})),e.d(kt,"computeConv3DInfo",(function(){return X.c})),e.d(kt,"computeDefaultPad",(function(){return X.d})),e.d(kt,"tupleValuesAreOne",(function(){return X.k})),e.d(kt,"eitherStridesOrDilationsAreOne",(function(){return X.i})),e.d(kt,"stridesOrDilationsArePositive",(function(){return X.j})),e.d(kt,"convertConv2DDataFormat",(function(){return X.h})),e.d(kt,"checkPadOnDimRoundingMode",(function(){return X.a})),e.d(kt,"getFusedDyActivation",(function(){return tt.c})),e.d(kt,"getFusedBiasGradient",(function(){return tt.b})),e.d(kt,"applyActivation",(function(){return tt.a})),e.d(kt,"shouldFuse",(function(){return tt.d})),e.d(kt,"slice_util",(function(){return E})),e.d(kt,"upcastType",(function(){return G.e})),e.d(kt,"validateUpdateShape",(function(){return F.validateUpdateShape})),e.d(kt,"validateInput",(function(){return F.validateInput})),e.d(kt,"calculateShapes",(function(){return F.calculateShapes})),e.d(kt,"warn",(function(){return ct.b})),e.d(kt,"log",(function(){return ct.a})),e.d(kt,"segment_util",(function(){return lt})),e.d(kt,"fromUint8ToStringArray",(function(){return m})),e.d(kt,"fromStringArrayToUint8",(function(){return y})),e.d(kt,"assertParamsConsistent",(function(){return Z.a})),e.d(kt,"computeOutShape",(function(){return Z.b})),e.d(kt,"RowPartitionType",(function(){return nt.a})),e.d(kt,"combineRaggedTensorToTensorShapes",(function(){return nt.b})),e.d(kt,"getRowPartitionTypesHelper",(function(){return nt.d})),e.d(kt,"getRaggedRank",(function(){return nt.c})),e.d(kt,"validateDefaultValueShape",(function(){return nt.e})),e.d(kt,"PARALLELIZE_THRESHOLD",(function(){return et.a})),e.d(kt,"computeOptimalWindowSize",(function(){return et.b})),e.d(kt,"getImageCenter",(function(){return rt.a})),e.d(kt,"getReshaped",(function(){return it.b})),e.d(kt,"getPermuted",(function(){return it.a})),e.d(kt,"getReshapedPermuted",(function(){return it.c})),e.d(kt,"getSliceBeginCoords",(function(){return it.d})),e.d(kt,"getSliceSize",(function(){return it.e})),e.d(kt,"prepareAndValidate",(function(){return T.prepareAndValidate})),e.d(kt,"SELU_SCALEALPHA",(function(){return ut.b})),e.d(kt,"SELU_SCALE",(function(){return ut.a})),e.d(kt,"ERF_P",(function(){return ot.f})),e.d(kt,"ERF_A1",(function(){return ot.a})),e.d(kt,"ERF_A2",(function(){return ot.b})),e.d(kt,"ERF_A3",(function(){return ot.c})),e.d(kt,"ERF_A4",(function(){return ot.d})),e.d(kt,"ERF_A5",(function(){return ot.e})),e.d(kt,"mergeRealAndImagArrays",(function(){return r})),e.d(kt,"splitRealAndImagArrays",(function(){return i})),e.d(kt,"complexWithEvenIndex",(function(){return u})),e.d(kt,"complexWithOddIndex",(function(){return o})),e.d(kt,"getComplexWithIndex",(function(){return c})),e.d(kt,"assignToTypedArray",(function(){return s})),e.d(kt,"exponents",(function(){return a})),e.d(kt,"exponent",(function(){return d})),e.d(kt,"decodeEinsumEquation",(function(){return f})),e.d(kt,"getEinsumPermutation",(function(){return h})),e.d(kt,"checkEinsumDimSizes",(function(){return l})),e.d(kt,"getEinsumComputePath",(function(){return g})),e.d(kt,"isIdentityPermutation",(function(){return p})),e.d(kt,"prepareSplitSize",(function(){return at.a})),e.d(kt,"getSparseFillEmptyRowsIndicesDenseShapeMismatch",(function(){return dt.a})),e.d(kt,"getSparseFillEmptyRowsNegativeIndexErrorMessage",(function(){return dt.b})),e.d(kt,"getSparseFillEmptyRowsOutOfRangeIndexErrorMessage",(function(){return dt.c})),e.d(kt,"getSparseReshapeMultipleNegativeOneOutputDimErrorMessage",(function(){return ft.d})),e.d(kt,"getSparseReshapeNegativeOutputDimErrorMessage",(function(){return ft.e})),e.d(kt,"getSparseReshapeEmptyTensorZeroOutputDimErrorMessage",(function(){return ft.a})),e.d(kt,"getSparseReshapeInputOutputMultipleErrorMessage",(function(){return ft.c})),e.d(kt,"getSparseReshapeInputOutputMismatchErrorMessage",(function(){return ft.b})),e.d(kt,"getSparseSegmentReductionNegativeSegmentIdsErrorMessage",(function(){return ht.b})),e.d(kt,"getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage",(function(){return ht.c})),e.d(kt,"getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage",(function(){return ht.d})),e.d(kt,"getSparseSegmentReductionIndicesOutOfRangeErrorMessage",(function(){return ht.a})),k={},e.r(k),e.d(k,"nonMaxSuppressionV3Impl",(function(){return pt.a})),e.d(k,"nonMaxSuppressionV4Impl",(function(){return pt.b})),e.d(k,"nonMaxSuppressionV5Impl",(function(){return pt.c})),e.d(k,"whereImpl",(function(){return bt.a})),I=e(1281),w=e(1189),v=e(637),S=e(1188),T=e(884),F=e(776),E=e(814),x=e(850),A=e(643),B=e(965),M=e(621),O=e(1186),R=e(849),D=e(852),P=e(853),N=e(854),j=e(855),C=e(717),V=e(938),z=e(856),U=e(798),L=e(622),G=e(703),_=e(627),K=e(690),$=e(1185),W=e(676),q=e(794),H=e(677),J=e(657),Q=e(1187),Y=e(689),Z=e(1191),X=e(658),tt=e(747),nt=e(1192),et=e(980),rt=e(1193),it=e(1194),ut=e(981),ot=e(1195),ct=e(847),st=e(661);const It="->",wt=/->/g,vt=",",St="...";at=e(1196),dt=e(1197),ft=e(1198),ht=e(1199),lt=e(1200),gt=e(936),pt=e(762),bt=e(978),mt=e(848),yt=e(617),e.d(n,"d",(function(){return R.a})),e.d(n,"e",(function(){return D.a})),e.d(n,"f",(function(){return P.a})),e.d(n,"g",(function(){return N.a})),e.d(n,"jc",(function(){return j.a})),e.d(n,"uc",(function(){return C.a})),e.d(n,"vc",(function(){return V.a})),e.d(n,"Cc",(function(){return z.a})),e.d(n,"Xc",(function(){return U.a})),e.d(n,"Dd",(function(){return L.a})),e.d(n,"Ed",(function(){return L.b})),e.d(n,"Od",(function(){return L.c})),e.d(n,"Hc",(function(){return G.a})),e.d(n,"ri",(function(){return G.d})),e.d(n,"Qi",(function(){return G.e})),e.d(n,"Rd",(function(){return _.b})),e.d(n,"Sd",(function(){return _.c})),e.d(n,"Td",(function(){return _.d})),e.d(n,"Ud",(function(){return _.e})),e.d(n,"Vd",(function(){return _.f})),e.d(n,"Wd",(function(){return _.g})),e.d(n,"Xd",(function(){return _.h})),e.d(n,"Yd",(function(){return _.i})),e.d(n,"Zd",(function(){return _.j})),e.d(n,"ae",(function(){return _.k})),e.d(n,"be",(function(){return _.l})),e.d(n,"ce",(function(){return _.m})),e.d(n,"de",(function(){return _.n})),e.d(n,"ee",(function(){return _.o})),e.d(n,"fe",(function(){return _.p})),e.d(n,"ge",(function(){return _.q})),e.d(n,"je",(function(){return _.r})),e.d(n,"oe",(function(){return _.w})),e.d(n,"ke",(function(){return _.s})),e.d(n,"le",(function(){return _.t})),e.d(n,"me",(function(){return _.u})),e.d(n,"ne",(function(){return _.v})),e.d(n,"pe",(function(){return _.x})),e.d(n,"qe",(function(){return _.y})),e.d(n,"se",(function(){return _.A})),e.d(n,"te",(function(){return _.B})),e.d(n,"we",(function(){return _.C})),e.d(n,"xe",(function(){return _.D})),e.d(n,"ye",(function(){return _.E})),e.d(n,"ze",(function(){return _.F})),e.d(n,"Ae",(function(){return _.G})),e.d(n,"Be",(function(){return _.H})),e.d(n,"Ce",(function(){return _.I})),e.d(n,"De",(function(){return _.J})),e.d(n,"Ee",(function(){return _.K})),e.d(n,"Fe",(function(){return _.L})),e.d(n,"Ge",(function(){return _.M})),e.d(n,"He",(function(){return _.N})),e.d(n,"Ie",(function(){return _.O})),e.d(n,"Je",(function(){return _.P})),e.d(n,"Ke",(function(){return _.Q})),e.d(n,"Le",(function(){return _.R})),e.d(n,"Ne",(function(){return _.S})),e.d(n,"Oe",(function(){return _.T})),e.d(n,"Qe",(function(){return _.V})),e.d(n,"Re",(function(){return _.W})),e.d(n,"Te",(function(){return _.X})),e.d(n,"Ve",(function(){return _.Y})),e.d(n,"We",(function(){return _.Z})),e.d(n,"Ye",(function(){return _.ab})),e.d(n,"Ze",(function(){return _.bb})),e.d(n,"df",(function(){return _.cb})),e.d(n,"ef",(function(){return _.db})),e.d(n,"ff",(function(){return _.eb})),e.d(n,"hf",(function(){return _.gb})),e.d(n,"if",(function(){return _.hb})),e.d(n,"nf",(function(){return _.jb})),e.d(n,"pf",(function(){return _.kb})),e.d(n,"qf",(function(){return _.lb})),e.d(n,"rf",(function(){return _.mb})),e.d(n,"sf",(function(){return _.nb})),e.d(n,"tf",(function(){return _.ob})),e.d(n,"uf",(function(){return _.pb})),e.d(n,"vf",(function(){return _.qb})),e.d(n,"xf",(function(){return _.sb})),e.d(n,"Af",(function(){return _.tb})),e.d(n,"Bf",(function(){return _.ub})),e.d(n,"Df",(function(){return _.wb})),e.d(n,"Mf",(function(){return _.yb})),e.d(n,"Nf",(function(){return _.zb})),e.d(n,"Pf",(function(){return _.Bb})),e.d(n,"Uf",(function(){return _.Fb})),e.d(n,"Vf",(function(){return _.Gb})),e.d(n,"Wf",(function(){return _.Hb})),e.d(n,"Zf",(function(){return _.Ib})),e.d(n,"ag",(function(){return _.Jb})),e.d(n,"bg",(function(){return _.Kb})),e.d(n,"dg",(function(){return _.Mb})),e.d(n,"eg",(function(){return _.Nb})),e.d(n,"fg",(function(){return _.Ob})),e.d(n,"gg",(function(){return _.Pb})),e.d(n,"hg",(function(){return _.Qb})),e.d(n,"ig",(function(){return _.Rb})),e.d(n,"jg",(function(){return _.Sb})),e.d(n,"kg",(function(){return _.Tb})),e.d(n,"lg",(function(){return _.Ub})),e.d(n,"mg",(function(){return _.Vb})),e.d(n,"ng",(function(){return _.Wb})),e.d(n,"pg",(function(){return _.Yb})),e.d(n,"qg",(function(){return _.Zb})),e.d(n,"sg",(function(){return _.ac})),e.d(n,"tg",(function(){return _.bc})),e.d(n,"ug",(function(){return _.cc})),e.d(n,"vg",(function(){return _.dc})),e.d(n,"wg",(function(){return _.ec})),e.d(n,"xg",(function(){return _.fc})),e.d(n,"zg",(function(){return _.gc})),e.d(n,"Ag",(function(){return _.hc})),e.d(n,"Bg",(function(){return _.ic})),e.d(n,"Cg",(function(){return _.jc})),e.d(n,"Dg",(function(){return _.kc})),e.d(n,"Eg",(function(){return _.lc})),e.d(n,"Gg",(function(){return _.nc})),e.d(n,"Hg",(function(){return _.oc})),e.d(n,"Ig",(function(){return _.pc})),e.d(n,"Jg",(function(){return _.qc})),e.d(n,"Mg",(function(){return _.sc})),e.d(n,"Ng",(function(){return _.tc})),e.d(n,"Og",(function(){return _.uc})),e.d(n,"Pg",(function(){return _.vc})),e.d(n,"Rg",(function(){return _.xc})),e.d(n,"Sg",(function(){return _.yc})),e.d(n,"Tg",(function(){return _.zc})),e.d(n,"Ug",(function(){return _.Ac})),e.d(n,"Vg",(function(){return _.Bc})),e.d(n,"Wg",(function(){return _.Cc})),e.d(n,"Xg",(function(){return _.Dc})),e.d(n,"Yg",(function(){return _.Ec})),e.d(n,"Zg",(function(){return _.Fc})),e.d(n,"ah",(function(){return _.Gc})),e.d(n,"bh",(function(){return _.Hc})),e.d(n,"dh",(function(){return _.Ic})),e.d(n,"eh",(function(){return _.Jc})),e.d(n,"fh",(function(){return _.Kc})),e.d(n,"gh",(function(){return _.Lc})),e.d(n,"hh",(function(){return _.Mc})),e.d(n,"ih",(function(){return _.Nc})),e.d(n,"jh",(function(){return _.Oc})),e.d(n,"kh",(function(){return _.Pc})),e.d(n,"lh",(function(){return _.Qc})),e.d(n,"mh",(function(){return _.Rc})),e.d(n,"oh",(function(){return _.Sc})),e.d(n,"ph",(function(){return _.Tc})),e.d(n,"th",(function(){return _.Uc})),e.d(n,"uh",(function(){return _.Vc})),e.d(n,"wh",(function(){return _.Wc})),e.d(n,"xh",(function(){return _.Xc})),e.d(n,"yh",(function(){return _.Yc})),e.d(n,"zh",(function(){return _.Zc})),e.d(n,"Ah",(function(){return _.ad})),e.d(n,"Bh",(function(){return _.bd})),e.d(n,"Dh",(function(){return _.dd})),e.d(n,"Eh",(function(){return _.ed})),e.d(n,"Fh",(function(){return _.fd})),e.d(n,"Jh",(function(){return _.id})),e.d(n,"Kh",(function(){return _.jd})),e.d(n,"Oh",(function(){return _.kd})),e.d(n,"Ph",(function(){return _.ld})),e.d(n,"Qh",(function(){return _.md})),e.d(n,"Sh",(function(){return _.od})),e.d(n,"Th",(function(){return _.pd})),e.d(n,"Uh",(function(){return _.qd})),e.d(n,"Vh",(function(){return _.rd})),e.d(n,"Wh",(function(){return _.sd})),e.d(n,"Xh",(function(){return _.td})),e.d(n,"Yh",(function(){return _.ud})),e.d(n,"ai",(function(){return _.vd})),e.d(n,"bi",(function(){return _.wd})),e.d(n,"ci",(function(){return _.xd})),e.d(n,"wf",(function(){return _.rb})),e.d(n,"Of",(function(){return _.Ab})),e.d(n,"Tf",(function(){return _.Eb})),e.d(n,"Ch",(function(){return _.cd})),e.d(n,"gi",(function(){return _.Bd})),e.d(n,"hi",(function(){return _.Cd})),e.d(n,"ii",(function(){return _.Dd})),e.d(n,"ji",(function(){return _.Ed})),e.d(n,"ki",(function(){return _.Fd})),e.d(n,"li",(function(){return _.Gd})),e.d(n,"mi",(function(){return _.Hd})),e.d(n,"ni",(function(){return _.Id})),e.d(n,"pi",(function(){return _.Kd})),e.d(n,"qi",(function(){return _.Ld})),e.d(n,"si",(function(){return _.Md})),e.d(n,"ti",(function(){return _.Nd})),e.d(n,"ui",(function(){return _.Od})),e.d(n,"vi",(function(){return _.Pd})),e.d(n,"wi",(function(){return _.Qd})),e.d(n,"xi",(function(){return _.Rd})),e.d(n,"yi",(function(){return _.Sd})),e.d(n,"zi",(function(){return _.Td})),e.d(n,"Ai",(function(){return _.Ud})),e.d(n,"Bi",(function(){return _.Vd})),e.d(n,"Fi",(function(){return _.Wd})),e.d(n,"Hi",(function(){return _.Xd})),e.d(n,"Ki",(function(){return _.Zd})),e.d(n,"Li",(function(){return _.ae})),e.d(n,"Oi",(function(){return _.be})),e.d(n,"Pi",(function(){return _.ce})),e.d(n,"Ri",(function(){return _.de})),e.d(n,"Vi",(function(){return _.ee})),e.d(n,"Yi",(function(){return _.fe})),e.d(n,"Zi",(function(){return _.ge})),e.d(n,"aj",(function(){return _.he})),e.d(n,"bj",(function(){return _.ie})),e.d(n,"Qg",(function(){return _.wc})),e.d(n,"rc",(function(){return _.a})),e.d(n,"Qf",(function(){return _.Cb})),e.d(n,"cg",(function(){return _.Lb})),e.d(n,"og",(function(){return _.Xb})),e.d(n,"fi",(function(){return _.Ad})),e.d(n,"Cf",(function(){return _.vb})),e.d(n,"Rh",(function(){return _.nd})),e.d(n,"di",(function(){return _.yd})),e.d(n,"oi",(function(){return _.Jd})),e.d(n,"re",(function(){return _.z})),e.d(n,"Ji",(function(){return _.Yd})),e.d(n,"Lg",(function(){return _.rc})),e.d(n,"Fg",(function(){return _.mc})),e.d(n,"Gh",(function(){return _.gd})),e.d(n,"Ih",(function(){return _.hd})),e.d(n,"ei",(function(){return _.zd})),e.d(n,"Ef",(function(){return _.xb})),e.d(n,"gf",(function(){return _.fb})),e.d(n,"lf",(function(){return _.ib})),e.d(n,"Pe",(function(){return _.U})),e.d(n,"Rf",(function(){return _.Db})),e.d(n,"Lc",(function(){return K.a})),e.d(n,"Ii",(function(){return $.a})),e.d(n,"kf",(function(){return W.g})),e.d(n,"jf",(function(){return W.f})),e.d(n,"af",(function(){return W.c})),e.d(n,"Ue",(function(){return W.b})),e.d(n,"cf",(function(){return W.e})),e.d(n,"mf",(function(){return W.h})),e.d(n,"yg",(function(){return W.m})),e.d(n,"ch",(function(){return W.n})),e.d(n,"Ei",(function(){return W.t})),e.d(n,"bf",(function(){return W.d})),e.d(n,"Xf",(function(){return W.l})),e.d(n,"Gi",(function(){return W.u})),e.d(n,"Mh",(function(){return W.r})),e.d(n,"nh",(function(){return W.o})),e.d(n,"Gf",(function(){return W.k})),e.d(n,"vh",(function(){return W.q})),e.d(n,"yf",(function(){return W.i})),e.d(n,"zf",(function(){return W.j})),e.d(n,"qh",(function(){return W.p})),e.d(n,"he",(function(){return W.a})),e.d(n,"Nh",(function(){return W.s})),e.d(n,"If",(function(){return q.c})),e.d(n,"Hf",(function(){return q.b})),e.d(n,"Jf",(function(){return q.d})),e.d(n,"sh",(function(){return q.f})),e.d(n,"rh",(function(){return q.e})),e.d(n,"Ni",(function(){return q.h})),e.d(n,"Mi",(function(){return q.g})),e.d(n,"Me",(function(){return q.a})),e.d(n,"Se",(function(){return H.a})),e.d(n,"Kf",(function(){return H.b})),e.d(n,"Lf",(function(){return H.c})),e.d(n,"Ti",(function(){return H.d})),e.d(n,"Ui",(function(){return H.e})),e.d(n,"Wi",(function(){return H.f})),e.d(n,"ib",(function(){return J.b})),e.d(n,"of",(function(){return J.c})),e.d(n,"eb",(function(){return J.a})),e.d(n,"Xi",(function(){return O.a})),e.d(n,"Kg",(function(){return Q.a})),e.d(n,"ve",(function(){return S})),e.d(n,"Sf",(function(){return I})),e.d(n,"rg",(function(){return w})),e.d(n,"Lh",(function(){return x})),e.d(n,"Di",(function(){return B})),e.d(n,"Si",(function(){return M})),e.d(n,"ie",(function(){return kt})),e.d(n,"ue",(function(){return v})),e.d(n,"Ci",(function(){return A})),e.d(n,"Zh",(function(){return E})),e.d(n,"Ff",(function(){return T})),e.d(n,"Hh",(function(){return F})),e.d(n,"Xe",(function(){return gt})),e.d(n,"Yf",(function(){return k})),e.d(n,"Hb",(function(){return mt.b})),e.d(n,"T",(function(){return mt.a})),e.d(n,"a",(function(){return yt.a})),e.d(n,"b",(function(){return yt.b})),e.d(n,"c",(function(){return yt.c})),e.d(n,"h",(function(){return yt.d})),e.d(n,"i",(function(){return yt.e})),e.d(n,"j",(function(){return yt.f})),e.d(n,"k",(function(){return yt.g})),e.d(n,"l",(function(){return yt.h})),e.d(n,"m",(function(){return yt.i})),e.d(n,"n",(function(){return yt.j})),e.d(n,"o",(function(){return yt.k})),e.d(n,"p",(function(){return yt.l})),e.d(n,"r",(function(){return yt.n})),e.d(n,"q",(function(){return yt.m})),e.d(n,"s",(function(){return yt.o})),e.d(n,"v",(function(){return yt.r})),e.d(n,"t",(function(){return yt.p})),e.d(n,"u",(function(){return yt.q})),e.d(n,"w",(function(){return yt.s})),e.d(n,"x",(function(){return yt.t})),e.d(n,"y",(function(){return yt.u})),e.d(n,"z",(function(){return yt.v})),e.d(n,"B",(function(){return yt.x})),e.d(n,"A",(function(){return yt.w})),e.d(n,"C",(function(){return yt.y})),e.d(n,"D",(function(){return yt.z})),e.d(n,"E",(function(){return yt.A})),e.d(n,"F",(function(){return yt.B})),e.d(n,"G",(function(){return yt.C})),e.d(n,"H",(function(){return yt.D})),e.d(n,"I",(function(){return yt.E})),e.d(n,"J",(function(){return yt.F})),e.d(n,"K",(function(){return yt.G})),e.d(n,"L",(function(){return yt.H})),e.d(n,"M",(function(){return yt.I})),e.d(n,"N",(function(){return yt.J})),e.d(n,"O",(function(){return yt.K})),e.d(n,"P",(function(){return yt.L})),e.d(n,"R",(function(){return yt.N})),e.d(n,"S",(function(){return yt.O})),e.d(n,"Q",(function(){return yt.M})),e.d(n,"U",(function(){return yt.P})),e.d(n,"V",(function(){return yt.Q})),e.d(n,"W",(function(){return yt.R})),e.d(n,"X",(function(){return yt.S})),e.d(n,"Y",(function(){return yt.T})),e.d(n,"Z",(function(){return yt.U})),e.d(n,"ab",(function(){return yt.V})),e.d(n,"cb",(function(){return yt.X})),e.d(n,"bb",(function(){return yt.W})),e.d(n,"db",(function(){return yt.Y})),e.d(n,"Jc",(function(){return yt.vc})),e.d(n,"fb",(function(){return yt.Z})),e.d(n,"gb",(function(){return yt.ab})),e.d(n,"hb",(function(){return yt.bb})),e.d(n,"kb",(function(){return yt.db})),e.d(n,"jb",(function(){return yt.cb})),e.d(n,"lb",(function(){return yt.eb})),e.d(n,"mb",(function(){return yt.fb})),e.d(n,"nb",(function(){return yt.gb})),e.d(n,"ob",(function(){return yt.hb})),e.d(n,"pb",(function(){return yt.ib})),e.d(n,"qb",(function(){return yt.jb})),e.d(n,"rb",(function(){return yt.kb})),e.d(n,"sb",(function(){return yt.lb})),e.d(n,"ub",(function(){return yt.nb})),e.d(n,"yb",(function(){return yt.rb})),e.d(n,"xb",(function(){return yt.qb})),e.d(n,"zb",(function(){return yt.sb})),e.d(n,"Ab",(function(){return yt.tb})),e.d(n,"Cb",(function(){return yt.vb})),e.d(n,"Bb",(function(){return yt.ub})),e.d(n,"Db",(function(){return yt.wb})),e.d(n,"Eb",(function(){return yt.xb})),e.d(n,"Fb",(function(){return yt.yb})),e.d(n,"Gb",(function(){return yt.zb})),e.d(n,"Kb",(function(){return yt.Cb})),e.d(n,"Lb",(function(){return yt.Db})),e.d(n,"Mb",(function(){return yt.Eb})),e.d(n,"Nb",(function(){return yt.Fb})),e.d(n,"Ob",(function(){return yt.Gb})),e.d(n,"Pb",(function(){return yt.Hb})),e.d(n,"Rb",(function(){return yt.Jb})),e.d(n,"Sb",(function(){return yt.Kb})),e.d(n,"Tb",(function(){return yt.Lb})),e.d(n,"Ub",(function(){return yt.Mb})),e.d(n,"Qb",(function(){return yt.Ib})),e.d(n,"Vb",(function(){return yt.Nb})),e.d(n,"Ib",(function(){return yt.Ab})),e.d(n,"Jb",(function(){return yt.Bb})),e.d(n,"Wb",(function(){return yt.Ob})),e.d(n,"Xb",(function(){return yt.Pb})),e.d(n,"dc",(function(){return yt.Vb})),e.d(n,"Yb",(function(){return yt.Qb})),e.d(n,"bc",(function(){return yt.Tb})),e.d(n,"Zb",(function(){return yt.Rb})),e.d(n,"ac",(function(){return yt.Sb})),e.d(n,"cc",(function(){return yt.Ub})),e.d(n,"ec",(function(){return yt.Wb})),e.d(n,"fc",(function(){return yt.Xb})),e.d(n,"gc",(function(){return yt.Yb})),e.d(n,"hc",(function(){return yt.Zb})),e.d(n,"ic",(function(){return yt.ac})),e.d(n,"kc",(function(){return yt.bc})),e.d(n,"lc",(function(){return yt.cc})),e.d(n,"mc",(function(){return yt.dc})),e.d(n,"qc",(function(){return yt.hc})),e.d(n,"nc",(function(){return yt.ec})),e.d(n,"oc",(function(){return yt.fc})),e.d(n,"pc",(function(){return yt.gc})),e.d(n,"tc",(function(){return yt.jc})),e.d(n,"sc",(function(){return yt.ic})),e.d(n,"wc",(function(){return yt.kc})),e.d(n,"xc",(function(){return yt.lc})),e.d(n,"yc",(function(){return yt.mc})),e.d(n,"zc",(function(){return yt.nc})),e.d(n,"Ac",(function(){return yt.oc})),e.d(n,"Bc",(function(){return yt.pc})),e.d(n,"Dc",(function(){return yt.qc})),e.d(n,"Ec",(function(){return yt.rc})),e.d(n,"Fc",(function(){return yt.sc})),e.d(n,"Gc",(function(){return yt.tc})),e.d(n,"Ic",(function(){return yt.uc})),e.d(n,"Kc",(function(){return yt.wc})),e.d(n,"Mc",(function(){return yt.xc})),e.d(n,"Oc",(function(){return yt.zc})),e.d(n,"Rc",(function(){return yt.Cc})),e.d(n,"Sc",(function(){return yt.Dc})),e.d(n,"Pc",(function(){return yt.Ac})),e.d(n,"Qc",(function(){return yt.Bc})),e.d(n,"Nc",(function(){return yt.yc})),e.d(n,"Tc",(function(){return yt.Ec})),e.d(n,"Vc",(function(){return yt.Gc})),e.d(n,"Wc",(function(){return yt.Hc})),e.d(n,"Yc",(function(){return yt.Ic})),e.d(n,"Fd",(function(){return yt.nd})),e.d(n,"Zc",(function(){return yt.Jc})),e.d(n,"ad",(function(){return yt.Kc})),e.d(n,"bd",(function(){return yt.Lc})),e.d(n,"gd",(function(){return yt.Qc})),e.d(n,"ed",(function(){return yt.Oc})),e.d(n,"fd",(function(){return yt.Pc})),e.d(n,"dd",(function(){return yt.Nc})),e.d(n,"cd",(function(){return yt.Mc})),e.d(n,"id",(function(){return yt.Sc})),e.d(n,"qd",(function(){return yt.ad})),e.d(n,"Ad",(function(){return yt.kd})),e.d(n,"jd",(function(){return yt.Tc})),e.d(n,"pd",(function(){return yt.Zc})),e.d(n,"hd",(function(){return yt.Rc})),e.d(n,"kd",(function(){return yt.Uc})),e.d(n,"ld",(function(){return yt.Vc})),e.d(n,"md",(function(){return yt.Wc})),e.d(n,"nd",(function(){return yt.Xc})),e.d(n,"od",(function(){return yt.Yc})),e.d(n,"sd",(function(){return yt.cd})),e.d(n,"rd",(function(){return yt.bd})),e.d(n,"td",(function(){return yt.dd})),e.d(n,"vd",(function(){return yt.fd})),e.d(n,"wd",(function(){return yt.gd})),e.d(n,"xd",(function(){return yt.hd})),e.d(n,"yd",(function(){return yt.id})),e.d(n,"zd",(function(){return yt.jd})),e.d(n,"Bd",(function(){return yt.ld})),e.d(n,"Cd",(function(){return yt.md})),e.d(n,"Gd",(function(){return yt.od})),e.d(n,"Hd",(function(){return yt.pd})),e.d(n,"Id",(function(){return yt.qd})),e.d(n,"Jd",(function(){return yt.rd})),e.d(n,"Kd",(function(){return yt.sd})),e.d(n,"Ld",(function(){return yt.td})),e.d(n,"Md",(function(){return yt.ud})),e.d(n,"Nd",(function(){return yt.vd})),e.d(n,"Pd",(function(){return yt.wd})),e.d(n,"ud",(function(){return yt.ed})),e.d(n,"tb",(function(){return yt.mb})),e.d(n,"Uc",(function(){return yt.Fc})),e.d(n,"Qd",(function(){return yt.xd})),e.d(n,"vb",(function(){return yt.ob})),e.d(n,"wb",(function(){return yt.pb}))},1187:function(t,n,e){"use strict";!function(t){function r(){return new Promise((t=>i((()=>t()))))}e.d(n,"a",(function(){return r}));const i="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:void 0!==t?t:t=>t()}(e(1551).setImmediate)},1500:function(t,n,e){"use strict";var r=e(620),i=(e(795),e(1504),e(1505),e(704)),u=e(629),o=e(766),c=e(937),s=e(622);Object(r.b)();const a={buffer:i.a,cast:u.a,clone:o.a,print:c.a};Object(s.f)(a)},620:function(t,n,e){"use strict";function r(t){return null!=t.kernelName}function i(){const t=Object(s.b)();if(null==t._tfengine){const n=new c.b(t);t._tfengine=new k(n)}return Object(c.d)(t._tfengine.ENV),Object(g.g)((()=>t._tfengine)),t._tfengine}function u(t,n){const e={a:t,b:n};return I.runKernel(a.d,e)}var o,c,s,a,d,f,h,l,g,p,b,m;e.d(n,"b",(function(){return i})),e.d(n,"a",(function(){return I})),o=e(848),c=e(657),s=e(935),a=e(617),d=e(794),f=e(847),h=e(1502),l=e(1503),g=e(622),p=e(643),b=e(661),m=e(621);class y{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((t=>t.name))))}}}dispose(){for(const t in this.registeredVariables)this.registeredVariables[t].dispose()}}class k{constructor(t){this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new y}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then((()=>{}));if(null!=this.backendInstance)return;const t=this.getSortedBackends();for(let n=0;n<t.length;n++){const e=t[n];if(await this.initializeBackend(e).success)return void(await this.setBackend(e))}throw Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){const{name:t,asyncInit:n}=this.initializeBackendsAndReturnBest();if(n)throw Error(`The highest priority backend '${t}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(t)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(t){if(!(t in this.registry)){if(!(t in this.registryFactory))return null;{const{asyncInit:n}=this.initializeBackend(t);if(n)return null}}return this.registry[t]}findBackendFactory(t){return t in this.registryFactory?this.registryFactory[t].factory:null}registerBackend(t,n,e=1){return t in this.registryFactory?(f.b(t+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[t]={factory:n,priority:e},!0)}async setBackend(t){if(null==this.registryFactory[t])throw Error(`Backend name '${t}' not found in registry`);if(this.backendName=t,null==this.registry[t]){this.backendInstance=null;const{success:n,asyncInit:e}=this.initializeBackend(t);if(!(e?await n:n))return!1}return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new h.a(this.backendInstance),!0}setupRegisteredKernels(){Object(d.d)(this.backendName).forEach((t=>{null!=t.setupFunc&&t.setupFunc(this.backendInstance)}))}disposeRegisteredKernels(t){Object(d.d)(t).forEach((n=>{null!=n.disposeFunc&&n.disposeFunc(this.registry[t])}))}initializeBackend(t){const n=this.registryFactory[t];if(null==n)throw Error(`Cannot initialize backend ${t}, no registration found.`);try{const e=n.factory();if(!e||e instanceof o.b||"function"!=typeof e.then)return this.registry[t]=e,{success:!0,asyncInit:!1};{const n=++this.pendingBackendInitId,r=e.then((e=>!(n<this.pendingBackendInitId||(this.registry[t]=e,this.pendingBackendInit=null,0)))).catch((e=>(n<this.pendingBackendInitId||(this.pendingBackendInit=null,f.b(`Initialization of backend ${t} failed`),f.b(e.stack||e.message)),!1)));return this.pendingBackendInit=r,{success:r,asyncInit:!0}}}catch(e){return f.b(`Initialization of backend ${t} failed`),f.b(e.stack||e.message),{success:!1,asyncInit:!1}}}removeBackend(t){if(!(t in this.registryFactory))throw Error(t+" backend not found in registry");this.backendName===t&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,t in this.registry&&(this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t]),delete this.registryFactory[t],this.backendName===t&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(((t,n)=>this.registryFactory[n].priority-this.registryFactory[t].priority))}initializeBackendsAndReturnBest(){const t=this.getSortedBackends();for(let n=0;n<t.length;n++){const e=t[n],{success:r,asyncInit:i}=this.initializeBackend(e);if(i||r)return{name:e,asyncInit:i}}throw Error("Could not initialize any backends, all backend initializations failed.")}moveData(t,n){const e=this.state.tensorInfo.get(n),r=e.backend,i=this.readSync(n),u=r.refCount(n);r.disposeData(n,!0),e.backend=t,t.move(n,i,e.shape,e.dtype,u),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(t,n){let e,r=null;if(null==n){if("function"!=typeof t)throw Error("Please provide a function to tidy()");n=t}else{if("string"!=typeof t&&!(t instanceof String))throw Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof n)throw Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=t}return this.scopedRun((()=>this.startScope(r)),(()=>this.endScope(e)),(()=>(e=n(),e instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),e)))}scopedRun(t,n,e){t();try{const t=e();return n(),t}catch(r){throw n(),r}}nextTensorId(){return k.nextTensorId++}nextVariableId(){return k.nextVariableId++}clone(t){const n=I.runKernel(a.vb,{x:t}),e={x:t};return this.addTapeNode(this.state.activeScope.name,e,[n],(t=>({x:()=>{const n={x:t};return I.runKernel(a.y,n,{dtype:"float32"})}})),[],{}),n}runKernel(t,n,e){if(null==this.backendName&&this.backend,null==Object(d.c)(t,this.backendName))throw Error(`Kernel '${t}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:t,inputs:n,attrs:e})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(t,n,e){const r=this.backend.numDataIds();let i=0;e.forEach((t=>{i+="complex64"===t.dtype?3:1}));const u=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=r-n-i-u;if(o>0)throw Error(`Backend '${this.backendName}' has an internal memory leak (${o} data ids) after running '${t}'`)}runKernelFunc(t){let n,e=[];const i=this.isTapeOn(),u=this.state.numBytes,o=this.state.numTensors;let c,s;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;const a=r(t)?t.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(r(t)){const{kernelName:n,inputs:r,attrs:u}=t;null==this.backendName&&this.backend;const o=Object(d.c)(n,this.backendName);b.c(null!=o,(()=>`Cannot find registered kernel '${n}' for backend '${this.backendName}'`)),c=()=>{const t=this.backend.numDataIds();s=o.kernelFunc({inputs:r,attrs:u,backend:this.backend});const c=Array.isArray(s)?s:[s];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(n,t,c);const a=c.map((t=>null!=t.rank?t:this.makeTensorFromTensorInfo(t)));if(i){const t=this.getTensorsForGradient(n,r,a);e=this.saveTensorsForBackwardMode(t)}return a}}else{const{forwardFunc:n}=t,r=t=>{i&&(e=t.map((t=>this.keep(this.clone(t)))))};c=()=>{const t=this.backend.numDataIds();s=this.tidy((()=>n(this.backend,r)));const e=Array.isArray(s)?s:[s];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(a,t,e),e}}const{inputs:f,attrs:h}=t,l=r(t)?null:t.backwardsFunc;let g;return this.scopedRun((()=>this.state.kernelDepth++),(()=>this.state.kernelDepth--),(()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(g=this.profiler.profileKernel(a,f,(()=>c())),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(g),n=g.outputs):n=c()})),i&&this.addTapeNode(a,f,n,l,e,h),this.state.profiling&&this.state.activeProfile.kernels.push({name:a,bytesAdded:this.state.numBytes-u,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-o,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(f).map((t=>null!=f[t]?f[t].shape:null)),outputShapes:n.map((t=>t.shape)),kernelTimeMs:g.timeMs,extraInfo:g.extraInfo}),Array.isArray(s)?n:n[0]}saveTensorsForBackwardMode(t){return t.map((t=>this.keep(this.clone(t))))}getTensorsForGradient(t,n,e){const r=Object(d.b)(t);if(null!=r){const t=r.inputsToSave||[],i=r.outputsToSave||[];let u;r.saveAllInputs?(b.c(Array.isArray(n),(()=>"saveAllInputs is true, expected inputs to be an array.")),u=Object.keys(n).map((t=>n[t]))):u=t.map((t=>n[t]));const o=e.filter(((t,n)=>i[n]));return u.concat(o)}return[]}makeTensor(t,n,e,r){if(null==t)throw Error("Values passed to engine.makeTensor() are null");e=e||"float32",r=r||this.backend;let i=t;"string"===e&&b.A(t[0])&&(i=t.map((t=>m.encodeString(t))));const u=r.write(i,n,e),o=new g.a(n,e,u,this.nextTensorId());if(this.trackTensor(o,r),"string"===e){const t=this.state.tensorInfo.get(u),n=Object(b.g)(i);this.state.numBytes+=n-t.bytes,t.bytes=n}return o}makeTensorFromDataId(t,n,e,r){const i={dataId:t,shape:n,dtype:e=e||"float32"};return this.makeTensorFromTensorInfo(i,r)}makeTensorFromTensorInfo(t,n){const{dataId:e,shape:r,dtype:i}=t,u=new g.a(r,i,e,this.nextTensorId());return this.trackTensor(u,n),u}makeVariable(t,n=!0,e,r){e=e||this.nextVariableId().toString(),null!=r&&r!==t.dtype&&(t=t.cast(r));const i=new g.c(t,n,e,this.nextTensorId());if(null!=this.state.registeredVariables[i.name])throw Error(`Variable with name ${i.name} was already registered`);return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i}trackTensor(t,n){this.state.numTensors++,"string"===t.dtype&&this.state.numStringTensors++;let e=0;"complex64"!==t.dtype&&"string"!==t.dtype&&(e=t.size*b.h(t.dtype)),this.state.numBytes+=e,this.state.tensorInfo.has(t.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(t.dataId,{backend:n||this.backend,dtype:t.dtype,shape:t.shape,bytes:e})),t instanceof g.c||this.track(t)}incRef(t,n){this.trackTensor(t,n),this.backend.incRef(t.dataId)}removeDataId(t,n){this.state.tensorInfo.has(t)&&this.state.tensorInfo.get(t).backend===n&&(this.state.tensorInfo.delete(t),this.state.numDataBuffers--)}disposeTensor(t){if(!this.state.tensorInfo.has(t.dataId))return;const n=this.state.tensorInfo.get(t.dataId);if(this.state.numTensors--,"string"===t.dtype&&(this.state.numStringTensors--,this.state.numBytes-=n.bytes),"complex64"!==t.dtype&&"string"!==t.dtype){const n=t.size*b.h(t.dtype);this.state.numBytes-=n}n.backend.disposeData(t.dataId)&&this.removeDataId(t.dataId,n.backend)}disposeVariables(){for(const t in this.state.registeredVariables){const n=this.state.registeredVariables[t];this.disposeVariable(n)}}disposeVariable(t){this.disposeTensor(t),null!=this.state.registeredVariables[t.name]&&delete this.state.registeredVariables[t.name]}memory(){const t=this.backend.memory();return t.numTensors=this.state.numTensors,t.numDataBuffers=this.state.numDataBuffers,t.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(t.unreliable=!0,null==t.reasons&&(t.reasons=[]),t.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),t}async profile(t){this.state.profiling=!0;const n=this.state.numBytes,e=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await t(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map((t=>t.totalBytesSnapshot))),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-e;for(const r of this.state.activeProfile.kernels)r.kernelTimeMs=await r.kernelTimeMs,r.extraInfo=await r.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(t,n,e,r,i,u){const o={id:this.state.nextTapeNodeId++,kernelName:t,inputs:n,outputs:e,saved:i},c=Object(d.b)(t);null!=c&&(r=c.gradFunc),null!=r&&(o.gradient=t=>(t=t.map(((t,n)=>{if(null==t){const t=e[n],r=b.F(t.size,t.dtype);return this.makeTensor(r,t.shape,t.dtype)}return t})),r(t.length>1?t:t[0],i,u))),this.state.activeTape.push(o)}keep(t){return t.kept=!0,t}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(t){const n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};t&&(n.name=t),this.state.scopeStack.push(n),this.state.activeScope=n}endScope(t){const n=Object(p.getTensorsInContainer)(t),e=new Set(n.map((t=>t.id)));for(let i=0;i<this.state.activeScope.track.length;i++){const t=this.state.activeScope.track[i];t.kept||e.has(t.id)||t.dispose()}const r=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach((t=>{t.kept||t.scopeId!==r.id||this.track(t)}))}gradients(t,n,e,r=!1){if(b.c(n.length>0,(()=>"gradients() received an empty list of xs.")),null!=e&&"float32"!==e.dtype)throw Error(`dy must have 'float32' dtype, but has '${e.dtype}'`);const i=this.scopedRun((()=>this.startTape()),(()=>this.endTape()),(()=>this.tidy("forward",t)));b.c(i instanceof g.a,(()=>"The result y returned by f() must be a tensor."));const o=Object(l.b)(this.state.activeTape,n,i);if(!r&&0===o.length&&n.length>0)throw Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(()=>{const t={};t[i.id]=null==e?function(t){const n=Object(b.D)(Object(b.O)(t),"float32");return I.makeTensor(n,t,"float32")}(i.shape):e,Object(l.a)(t,o,(t=>this.tidy(t)),u);const r=n.map((n=>t[n.id]));return 0===this.state.gradientDepth&&(this.state.activeTape.forEach((t=>{for(const n of t.saved)n.dispose()})),this.state.activeTape=null),{value:i,grads:r}}))}customGrad(t){return b.c(b.v(t),(()=>"The f passed in customGrad(f) must be a function.")),(...n)=>{let e;b.c(n.every((t=>t instanceof g.a)),(()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors"));const r={};return n.forEach(((t,n)=>{r[n]=t})),this.runKernelFunc({forwardFunc:(r,i)=>(e=t(...n,i),b.c(e.value instanceof g.a,(()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor")),b.c(b.v(e.gradFunc),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.")),e.value),backwardsFunc:(t,r)=>{const i=e.gradFunc(t,r),u=Array.isArray(i)?i:[i];b.c(u.length===n.length,(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).")),b.c(u.every((t=>t instanceof g.a)),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."));const o={};return u.forEach(((t,n)=>{o[n]=()=>t})),o},inputs:r})}}readSync(t){return this.state.tensorInfo.get(t).backend.readSync(t)}read(t){return this.state.tensorInfo.get(t).backend.read(t)}readToGPU(t,n){return this.state.tensorInfo.get(t).backend.readToGPU(t,n)}async time(t){const n=Object(m.now)(),e=await this.backend.time(t);return e.wallMs=Object(m.now)()-n,e}track(t){return null!=this.state.activeScope&&(t.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(t)),t}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new y;for(const t in this.registry)this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}k.nextTensorId=0,k.nextVariableId=0;const I=i()},657:function(t,n,e){"use strict";function r(t){const n={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,((t,...e)=>(function(t,n,e){t[decodeURIComponent(n)]=decodeURIComponent(e||"")}(n,e[0],e[1]),e.join("=")))),n}function i(){return a}function u(t){a=t}e.d(n,"b",(function(){return s})),e.d(n,"c",(function(){return i})),e.d(n,"a",(function(){return a})),e.d(n,"d",(function(){return u}));var o=e(661);const c="tfjsflags";class s{constructor(t){this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=r,this.populateURLFlags()}setPlatform(t,n){null!=this.platform&&(i().getBool("IS_TEST")||i().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${t}.`)),this.platformName=t,this.platform=n}registerFlag(t,n,e){if(this.flagRegistry[t]={evaluationFn:n,setHook:e},null!=this.urlFlags[t]){const n=this.urlFlags[t];i().getBool("IS_TEST")||i().getBool("PROD")||console.warn(`Setting feature override from URL ${t}: ${n}.`),this.set(t,n)}}async getAsync(t){return t in this.flags||(this.flags[t]=await this.evaluateFlag(t)),this.flags[t]}get(t){if(t in this.flags)return this.flags[t];const n=this.evaluateFlag(t);if(Object(o.y)(n))throw Error(`Flag ${t} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[t]=n,this.flags[t]}getNumber(t){return this.get(t)}getBool(t){return this.get(t)}getString(t){return this.get(t)}getFlags(){return this.flags}get features(){return this.flags}set(t,n){if(null==this.flagRegistry[t])throw Error(`Cannot set flag ${t} as it has not been registered.`);this.flags[t]=n,null!=this.flagRegistry[t].setHook&&this.flagRegistry[t].setHook(n)}evaluateFlag(t){if(null==this.flagRegistry[t])throw Error(`Cannot evaluate flag '${t}': no evaluation function found.`);return this.flagRegistry[t].evaluationFn()}setFlags(t){this.flags=Object.assign({},t)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(void 0===this.global||void 0===this.global.location||void 0===this.global.location.search)return;const t=this.getQueryParams(this.global.location.search);c in t&&t[c].split(",").forEach((t=>{const[n,e]=t.split(":");this.urlFlags[n]=function(t,n){const e=n.toLowerCase();return"true"===e||"false"===e?"true"===e:""+ +e===e?+e:n}(0,e)}))}}let a=null},762:function(t,n,e){"use strict";function r(t,n,e){const r=function(t,n,e){return function(t,n,e){let r=0,i=t.length,u=0,o=!1;for(;r<i;){u=r+(i-r>>>1);const c=e(n,t[u]);c>0?r=u+1:(i=u,o=!c)}return o?r:-r-1}(t,n,e||i)}(t,n,e),u=r<0?-(r+1):r;t.splice(u,0,n)}function i(t,n){return t>n?1:t<n?-1:0}function u(t,n,e,r,i){return s(t,n,e,r,i,0)}function o(t,n,e,r,i,u){return s(t,n,e,r,i,0,!1,u,!0)}function c(t,n,e,r,i,u){return s(t,n,e,r,i,u,!0)}function s(t,n,e,i,u,o,c=!1,s=!1,h=!1){const l=[];for(let r=0;r<n.length;r++)n[r]>u&&l.push({score:n[r],boxIndex:r,suppressBeginIndex:0});l.sort(f);const g=o>0?-.5/o:0,p=[],b=[];for(;p.length<e&&l.length>0;){const n=l.pop(),{score:e,boxIndex:o,suppressBeginIndex:c}=n;if(e<u)break;let s=!1;for(let r=p.length-1;r>=c;--r){const e=a(t,o,p[r]);if(e>=i){s=!0;break}if(n.score=n.score*d(i,g,e),n.score<=u)break}n.suppressBeginIndex=p.length,s||(n.score===e?(p.push(o),b.push(n.score)):n.score>u&&r(l,n,f))}const m=p.length,y=e-m;s&&y>0&&(p.push(...Array(y).fill(0)),b.push(...Array(y).fill(0)));const k={selectedIndices:p};return c&&(k.selectedScores=b),h&&(k.validOutputs=m),k}function a(t,n,e){const r=t.subarray(4*n,4*n+4),i=t.subarray(4*e,4*e+4),u=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),c=Math.max(r[0],r[2]),s=Math.max(r[1],r[3]),a=Math.min(i[0],i[2]),d=Math.min(i[1],i[3]),f=Math.max(i[0],i[2]),h=Math.max(i[1],i[3]),l=(c-u)*(s-o),g=(f-a)*(h-d);if(l<=0||g<=0)return 0;const p=Math.max(u,a),b=Math.max(o,d),m=Math.min(c,f),y=Math.min(s,h),k=Math.max(m-p,0)*Math.max(y-b,0);return k/(l+g-k)}function d(t,n,e){return e<=t?Math.exp(n*e*e):0}function f(t,n){return t.score-n.score||t.score===n.score&&n.boxIndex-t.boxIndex}e.d(n,"a",(function(){return u})),e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return c}))},795:function(t,n,e){"use strict";!function(t){e(620);var n=e(936),r=e(657);const i=Object(r.c)();i.registerFlag("DEBUG",(()=>!1),(t=>{t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),i.registerFlag("IS_BROWSER",(()=>n.isBrowser())),i.registerFlag("IS_NODE",(()=>void 0!==t&&void 0!==t.versions&&void 0!==t.versions.node)),i.registerFlag("IS_CHROME",(()=>"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))),i.registerFlag("IS_SAFARI",(()=>"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor))),i.registerFlag("PROD",(()=>!1)),i.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(()=>i.getBool("DEBUG"))),i.registerFlag("DEPRECATION_WARNINGS_ENABLED",(()=>!0)),i.registerFlag("IS_TEST",(()=>!1)),i.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(()=>i.getBool("DEBUG"))),i.registerFlag("WRAP_TO_IMAGEBITMAP",(()=>!1)),i.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",(()=>!1)),i.registerFlag("USE_SETTIMEOUTCUSTOM",(()=>!1))}(e(47))},848:function(t,n,e){"use strict";function r(t){throw Error(`'${t}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}e.d(n,"a",(function(){return i})),e.d(n,"b",(function(){return u}));class i{constructor(t,n){this.backend=t,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}get(t){return this.data.has(t)||this.dataMover.moveData(this.backend,t),this.data.get(t)}set(t,n){this.dataIdsCount++,this.data.set(t,n)}has(t){return this.data.has(t)}delete(t){return this.dataIdsCount--,this.data.delete(t)}numDataIds(){return this.dataIdsCount}}class u{refCount(t){return r("refCount")}incRef(t){return r("incRef")}timerAvailable(){return!0}time(t){return r("time")}read(t){return r("read")}readSync(t){return r("readSync")}readToGPU(t,n){return r("readToGPU")}numDataIds(){return r("numDataIds")}disposeData(t,n){return r("disposeData")}write(t,n,e){return r("write")}move(t,n,e,i,u){return r("move")}createTensorFromGPUData(t,n,e){return r("createTensorFromGPUData")}memory(){return r("memory")}floatPrecision(){return r("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return r("dispose")}}},936:function(t,n,e){"use strict";function r(t){o=t}function i(t){if(void 0!==o)return o;if(t||"undefined"!=typeof navigator&&null!=navigator){if(t||(t=navigator),"ReactNative"===t.product)return!0;const n=t.userAgent||t.vendor||("undefined"!=typeof window?window.opera:"");if(!n){const n=t;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(n.substr(0,4))}return!1}function u(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}let o;e.r(n),e.d(n,"mockIsMobile",(function(){return r})),e.d(n,"isMobile",(function(){return i})),e.d(n,"isBrowser",(function(){return u}))},978:function(t,n,e){"use strict";function r(t,n){const e=[];for(let i=0;i<n.length;i++)n[i]&&e.push(i);const r=Object(i.a)(t,"int32"),u=Object(i.a)([e.length,t.length],"int32");for(let i=0;i<e.length;i++){const n=r.indexToLoc(e[i]),o=i*t.length;u.values.set(n,o)}return u.toTensor()}e.d(n,"a",(function(){return r}));var i=e(704)}}]);