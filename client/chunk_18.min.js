/*! For license information please see chunk_18.min.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{592:function(e,t,r){var n,o,i=function e(){if(!(this instanceof e))return new e;this.BMC_LENGTH_=e.config.BMC_LENGTH,this.BMC_CODE_=e.config.BMC_CODE,this.FIRST_BYTE_MASK_=e.config.FIRST_BYTE_MASK,this.INTEGRITY_BYTE_MASK_=e.config.INTEGRITY_BYTE_MASK,this.READING_BYTE_MASK_=e.config.READING_BYTE_MASK,this.char_code_=0,this.char_length_=0,this.needed_bytes_=0,this.temp_bytes_=new Uint8Array(4)};i.prototype.imul=Math.imul,(i.config={}).BMC_LENGTH=Uint8Array.of(0,127,192,224,240),i.config.BMC_CODE=Uint32Array.of(0,128,2048,65536,2097152),i.config.FIRST_BYTE_MASK=Uint8Array.of(0,1,3,7,15),i.config.INTEGRITY_BYTE_MASK=Uint8Array.of(0,64,32,16,8),i.config.READING_BYTE_MASK=Uint8Array.of(0,63,31,15,7),Object.defineProperty(i.prototype,"char_code",{get:function(){return 65535&this.char_code_},set:function(e){this.char_code_=65535&e}}),Object.defineProperty(i.prototype,"char_length",{get:function(){return 4294967295&this.char_length_},set:function(e){this.char_length_=4294967295&e}}),Object.defineProperty(i.prototype,"needed_bytes",{get:function(){return 4294967295&this.needed_bytes_},set:function(e){this.needed_bytes_=4294967295&e}}),Object.defineProperty(i.prototype,"set_temp_byte",{get:function(){return function(e,t){this.temp_bytes_[0|e]=255&t}}}),Object.defineProperty(i.prototype,"set_temp_byte_length",{get:function(){return function(e){this.temp_bytes_=new Uint8Array(0|e)}}}),Object.defineProperty(i.prototype,"set_temp_bytes",{get:function(){return function(e,t){this.temp_bytes_.set(e,0|t)}}}),Object.defineProperty(i.prototype,"temp_bytes_subarray",{get:function(){return function(e,t){return this.temp_bytes_.subarray(0|e,0|t)}}}),Object.defineProperty(i.prototype,"BMC_LENGTH_E",{get:function(){return function(e){return 255&this.BMC_LENGTH_[0|e]}}}),Object.defineProperty(i.prototype,"BMC_CODE_E",{get:function(){return function(e){return 4294967295&this.BMC_CODE_[0|e]}}}),Object.defineProperty(i.prototype,"FIRST_BYTE_MASK_E",{get:function(){return function(e){return 15&this.FIRST_BYTE_MASK_[0|e]}}}),Object.defineProperty(i.prototype,"INTEGRITY_BYTE_MASK_E",{get:function(){return function(e){return 255&this.INTEGRITY_BYTE_MASK_[0|e]}}}),Object.defineProperty(i.prototype,"READING_BYTE_MASK_E",{get:function(){return function(e){return 255&this.READING_BYTE_MASK_[0|e]}}}),i.prototype._getCharLength=function(e){return this.BMC_LENGTH_E(4)==(e&this.BMC_LENGTH_E(4))?4:this.BMC_LENGTH_E(3)==(e&this.BMC_LENGTH_E(3))?3:this.BMC_LENGTH_E(2)==(e&this.BMC_LENGTH_E(2))?2:e==(e&this.BMC_LENGTH_E(1))?1:0},i.prototype._getBytesForCharCode=function(e){if(e<this.BMC_CODE_E(1))return 1;if(e<this.BMC_CODE_E(2))return 2;if(e<this.BMC_CODE_E(3))return 3;if(e<this.BMC_CODE_E(4))return 4;throw Error("CharCode "+e+" cannot be encoded with UTF8.")},i.prototype._setBytesFromCharCode=function(e,t,r,n){if(r|=0,n|=0,this.char_code=0|e,this.needed_bytes=0==(0|n)?this._getBytesForCharCode(this.char_code):0|n,1==(0|this.needed_bytes))this.set_temp_byte(0|r,0|this.char_code);else for(this.needed_bytes=this.needed_bytes-1|0,this.set_temp_byte(0|r,(this.FIRST_BYTE_MASK_E(this.needed_bytes)<<8-this.needed_bytes)+(this.char_code>>>6*this.needed_bytes)|0),r=r+1|0;(0|this.needed_bytes)>0;)this.needed_bytes=this.needed_bytes-1|0,this.set_temp_byte(0|r,128|this.char_code>>>6*this.needed_bytes&63),r=r+1|0},i.prototype.toUint8Array=function(e,t,r,n,o){e=e||"",r|=0,this.set_temp_byte_length(3*e.length+2),void 0!==t&&this.set_temp_bytes(t,0),n="number"==typeof n?n:1/0;for(var i=0,s=0|e.length;(0|i)<(0|s);i=(i+1|0)>>>0)this.needed_bytes=this._getBytesForCharCode(e[i].codePointAt(0)),this._setBytesFromCharCode(e[0|i].codePointAt(0),this.temp_bytes_subarray(0,0|r),0|r,0|this.needed_bytes,o),r=r+this.needed_bytes|0;return this.temp_bytes_subarray(0,0|r)},i.prototype._getCharCode=function(e,t,r){if(this.char_code=0,t|=0,this.char_length=0==(0|r)?this._getCharLength(0|e[0|t]):0|r,1==(0|this.char_length))return 0|e[0|t];for(this.char_length=this.char_length-1|0,this.char_code=this.char_code+((e[0|t]&this.READING_BYTE_MASK_E(this.char_length))<<6*this.char_length)|0;this.char_length;)t=t+1|0,this.char_length=this.char_length-1|0,this.char_code=this.char_code+((63&e[0|t])<<6*this.char_length)|0;return 0|this.char_code},i.prototype.fromUint8Array=function(e,t,r,n){this.char_length=0;var o="";for(t|=0,r="number"==typeof r?r:e.byteLength||0|e.length;(0|t)<(0|r);(t=t+1|0)>>>0){if(this.char_length=this._getCharLength(e[t]),n&&(t+this.char_length|0)>(0|r))throw Error("Index "+t+": Found a "+this.char_length+" bytes encoded char declaration but only "+(r-t)+" bytes are available.");o=o.concat(String.fromCodePoint(this._getCharCode(e,0|t,0|this.char_length,n))),t=t+this.char_length-1|0}return o},i.prototype.isNotUTF8=function(e,t,r){try{this.fromUint8Array(e,t,r,!0)}catch(n){return!0}return!1},(n=function e(t,r){if(!(this instanceof e))return new e(t);if("BASE64"!=(r=(r=r||"UNKNOWN").toUpperCase()))if(t instanceof Uint8Array||t instanceof Uint8ClampedArray)this.storage_input_=t;else if("string"==typeof t)this.storage_input_=e.UTFX.toUint8Array(t);else if(void 0!==t.buffer||t instanceof ArrayBuffer)this.storage_input_=new Uint8Array(t instanceof ArrayBuffer?t:t.buffer);else if(t instanceof Array)this.storage_input_=Uint8Array.from(t);else{if("object"!=typeof t)throw new TypeError("attempted to parse failed");this.storage_input_=e.JSONX.stringify(t)}else this.storage_input_=e.BASE64.toUint8Array(t);return this.storage_input_length_=0|t.length,this.TILD_CHAR_CODE_=e.config.TILD_CHAR_CODE,this.BACKSLASH_CHAR_=e.config.BACKSLASH_CHAR,this.SLASH_CHAR_=e.config.SLASH_CHAR,this.CHUNCK_LENGTH_=e.config.CHUNCK_LENGTH,this.ENCODE_MAPPING_=e.config.ENCODE_MAPPING,this.DECODE_MAPPING_=e.config.DECODE_MAPPING,this}).JSONX=JSON,n.UTF8=new i,n.UTFX=n.UTF8,n.config={},n.config.TILD_CHAR_CODE=126,n.config.BACKSLASH_CHAR="\\",n.config.SLASH_CHAR="/",n.config.CHUNCK_LENGTH=256,n.config.ENCODE_MAPPING=Uint8Array.of(33,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),n.config.DECODE_MAPPING=Uint8Array.of(255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,255,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,255,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255),Object.defineProperty(n.prototype,"getCharCodeAt",{get:function(){return function(e){return e|=0,this.storage_input_[0|e]}}}),Object.defineProperty(n.prototype,"getDecodedCharCodeAt",{get:function(){return function(e){return e|=0,this.DECODE_MAPPING_[this.storage_input_[0|e]]}}}),Object.defineProperty(n.prototype,"decodeChar",{get:function(){return function(e){return e|=0,this.DECODE_MAPPING_[0|e]}}}),Object.defineProperty(n.prototype,"encodeChar",{get:function(){return function(e){return e|=0,this.ENCODE_MAPPING_[0|e]}}}),Object.defineProperty(n.prototype,"inputLength",{get:function(){return 0|this.storage_input_length_}}),Object.defineProperty(n.prototype,"BACKSLASH_CHAR",{get:function(){return this.BACKSLASH_CHAR_}}),Object.defineProperty(n.prototype,"SLASH_CHAR",{get:function(){return this.SLASH_CHAR_}}),Object.defineProperty(n.prototype,"CHUNCK_LENGTH",{get:function(){return this.CHUNCK_LENGTH_}}),Object.defineProperty(n.prototype,"TILD_CHAR_CODE",{get:function(){return this.TILD_CHAR_CODE_}}),n.utils={},n.utils.onlyCharPrintable=function(e){return e.replace(/[\u0000-\u0019]+/g,"")},n.utils.onlyCharParsable=function(e){return e.replace(/\\n/g,"\\n").replace(/\\'/g,"\\'").replace(/\\"/g,'\\"').replace(/\\&/g,"\\&").replace(/\\r/g,"\\r").replace(/\\t/g,"\\t").replace(/\\b/g,"\\b").replace(/\\f/g,"\\f")},n.utils.MAGIC_WORD="UraniumJS! ",n.utils.parse=function(e){return n.JSONX.parse(n.utils.onlyCharParsable(e))},n.utils.stringify=function(e){return n.utils.onlyCharPrintable(n.JSONX.stringify(e))},n.utils.escape=function(e){return e=(e=(e=e.replaceAll(n.config.BACKSLASH_CHAR," ")).replaceAll(n.config.SLASH_CHAR,"~")).replaceAll("$","ยก"),n.utils.MAGIC_WORD+e.replaceAll("'","ยง")},n.utils.unescape=function(e){return(e=(e=(e=(e=e.replaceAll(n.utils.MAGIC_WORD,"")).replaceAll("ยง","'")).replaceAll("ยก","$")).replaceAll("~",n.config.SLASH_CHAR)).replaceAll(" ",n.config.BACKSLASH_CHAR)},n.prototype.encode=function(e){var t,r,o,i,s,a,c,h;if(e=""+e,t=0,r=0,o=(8*this.inputLength|0)%13|0,i=0,s=0,a=0,c=0,0==(0|this.inputLength))switch(e.replaceAll("-","").toUpperCase()){case"UINT8ARRAY":return Uint8Array.of(this.TILD_CHAR_CODE);case"BASE64":return n.BASE64.fromUint8Array(Uint8Array.of(this.TILD_CHAR_CODE));default:return this.TILD_CHAR_CODE}for(o=0==(0|o)?2*(8*this.inputLength/13|0)|0:(0|o)<7?2*(8*this.inputLength/13|0)+1|0:2*(8*this.inputLength/13|0)+2|0,h=new Uint8Array(0|o);(0|t)<(0|this.inputLength);t=(t+1|0)>>>0)if(i=i<<8|this.getCharCodeAt(0|t),(0|(s=s+8|0))>=13){if(a=i>>(s-13|0)&8191,0==(0|(c=255&this.encodeChar(a/91|0))))return null;if(h[0|r]=255&c,r=(r+1|0)>>>0,0==(0|(c=255&this.encodeChar(a%91|0))))return null;h[0|r]=255&c,r=(r+1|0)>>>0,s=s-13|0}if(0<(0|s)&&(0|s)<7){if(a=i<<(6-s|0)&63,0==(0|(c=255&this.encodeChar(0|a))))return null;h[0|r]=255&c}else if(7<=(0|s)){if(a=i<<(13-s|0)&8191,0==(0|(c=this.encodeChar(a/91|0))))return null;if(h[0|r]=255&c,r=(r+1|0)>>>0,0==(0|(c=255&this.encodeChar(a%91|0))))return null;h[0|r]=255&c}switch(e.replaceAll("-","").toUpperCase()){case"UINT8ARRAY":return h.slice(0,0|h.length);case"BASE64":return n.BASE64.fromUint8Array(h.slice(0,0|h.length));default:return n.UTFX.fromUint8Array(h.slice(0,0|h.length))}},n.prototype.decode=function(e){var t,r,o,i,s,a;if(e=""+e,t=0,r=0,o=0,i=0,s=(this.inputLength/2*13+this.inputLength%2*6)/8|0,a=new Uint8Array(s),0==(this.getCharCodeAt(0)-this.TILD_CHAR_CODE|0)||0==(0|this.inputLength))switch(e.replaceAll("-","").toUpperCase()){case"UTF8":return this.TILD_CHAR_CODE;case"BASE64":return n.BASE64.fromUint8Array(Uint8Array.of(this.TILD_CHAR_CODE));default:return Uint8Array.of(this.TILD_CHAR_CODE)}if((0|this.inputLength)<2)switch(e.replaceAll("-","").toUpperCase()){case"UTF8":case"BASE64":return"";default:return Uint8Array.of()}for(o=0,i=0,r=0,t=0;(t+1|0)<(0|this.inputLength);t=(t+2|0)>>>0)for(o=o<<13|91*this.getDecodedCharCodeAt(0|t)+this.getDecodedCharCodeAt(t+1|0)|0,i=i+13|0;(0|i)>=8;)a[0|r]=o>>i-8&255,r=r+1|0,i=i-8|0;if(1==(this.inputLength%2|0))for(o=o<<6|this.getDecodedCharCodeAt(this.inputLength-1|0),i=i+6|0;(0|i)>=8;)a[0|r]=o>>i-8&255,r=r+1|0,i=i-8|0;switch(e.replaceAll("-","").toUpperCase()){case"UTF8":return n.UTFX.fromUint8Array(a.slice(0,0|a.length));case"JS":return n.JSONX.stringify(a.slice(0,0|a.length));case"BASE64":return n.BASE64.fromUint8Array(a.slice(0,0|a.length));default:return a.slice(0,0|a.length)}},Object.defineProperty((o=function e(){if(!(this instanceof e))return new e;this.CHUNCK_LENGTH_=e.config.CHUNCK_LENGTH,this.BASE64ABCCC_=e.config.BASE64ABCCC,this.B64C_=e.config.B64C,this.B64EC_=e.config.B64EC,this.B64CL_=e.config.B64CL}).prototype,"CHUNCK_LENGTH",{get:function(){return 0|this.CHUNCK_LENGTH_}}),Object.defineProperty(o.prototype,"BASE64ABCCC_E",{get:function(){return function(e){return 255&this.BASE64ABCCC_[0|e]}}}),Object.defineProperty(o.prototype,"B64C_E",{get:function(){return function(e){return 255&this.B64C_[0|e]}}}),Object.defineProperty(o.prototype,"B64EC",{get:function(){return 0|this.B64EC_}}),Object.defineProperty(o.prototype,"B64CL",{get:function(){return 0|this.B64CL_}}),(o.config={}).BASE64ABCCC=Uint8Array.of(65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47),o.config.CHUNCK_LENGTH=256,o.config.B64EC=255,o.config.B64C=Uint8Array.of(255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51),o.config.B64CL=123,o.prototype.fromUint8Array=function(e){"use strict";var t,r,n=2,o=0,i=0|e.length,s=new Uint8Array(0|4*Math.ceil(i/3));for(n=2,o=0;(0|n)<(0|i);n=(n+3|0)>>>0,o=(o+4|0)>>>0)s.set(Uint8Array.of(255&this.BASE64ABCCC_E(e[n-2|0]>>2),255&this.BASE64ABCCC_E((3&e[n-2|0])<<4|e[n-1|0]>>4),255&this.BASE64ABCCC_E((15&e[n-1|0])<<2|e[n]>>6),255&this.BASE64ABCCC_E(63&e[0|n])),0|o);for((0|n)==(i+1|0)&&(s[0|o]=255&this.BASE64ABCCC_E(e[n-2|0]>>2),s[o+1|0]=255&this.BASE64ABCCC_E((3&e[n-2|0])<<4),s[o+2|0]=61,s[o+3|0]=61,o=(o+4|0)>>>0),(0|n)==(0|i)&&(s[0|o]=255&this.BASE64ABCCC_E(e[n-2|0]>>2),s[o+1|0]=255&this.BASE64ABCCC_E((3&e[n-2|0])<<4|e[n-1|0]>>4),s[o+2|0]=255&this.BASE64ABCCC_E((15&e[n-1|0])<<2),s[o+3|0]=61),t="",r=0|s.length,n=0;(0|n)<(0|r);n=(n+this.CHUNCK_LENGTH|0)>>>0)t=t.concat(String.fromCharCode.apply(null,s.subarray(0|n,Math.min(n+this.CHUNCK_LENGTH|0,0|r))));return t},o._charCodeAt=function(e){return 255&e.charCodeAt(0)},o.prototype._getBase64CodesBufferResults=function(e){return Uint8Array.of(e>>16&255,e>>8&255,255&e)},o.prototype._getBase64CodesBufferResultsBy4=function(e,t,r,n){return Uint8Array.of(e>>16&255,e>>8&255,255&e,t>>16&255,t>>8&255,255&t,r>>16&255,r>>8&255,255&r,n>>16&255,n>>8&255,255&n)},o.prototype._getBase64Code=function(e){if((0|(e=255&(0|e)))>>>0>=(0|this.B64CL)>>>0)throw Error("Unable to parse base64 string.");var t=(0|this.B64C_E(0|e))>>>0;if((0|t)>>>0==(0|this.B64EC)>>>0)throw Error("Unable to parse base64 string.");return 255&(0|t)},o.prototype._getBase64CodesBuffer=function(e){return(this._getBase64Code(e[0])<<18|this._getBase64Code(e[1])<<12|this._getBase64Code(e[2])<<6|this._getBase64Code(e[3])|0)>>>0},o.prototype.toUint8Array=function(e){var t,r,n,i,s,a,c,h;if((e.length%4|0)>0)throw Error("Unable to parse base64 string.");if((0|(t=0|e.indexOf("=")))>-1&&(0|t)<(e.length-2|0))throw Error("Unable to parse base64 string.");for(r=Uint8ClampedArray.from(e.split("").map((function(e){return o._charCodeAt(e)}))),n=e.endsWith("==")?2:e.endsWith("=")?1:0,i=0|e.length,s=new Uint8ClampedArray(i/4*3|0),a=new Uint8ClampedArray(16),c=0,h=0;(c+16|0)<(0|i);c=(c+16|0)>>>0,h=(h+12|0)>>>0)a.set(r.subarray(0|c,c+16|0)),s.set(this._getBase64CodesBufferResultsBy4(this._getBase64CodesBuffer(a.subarray(0,4)),this._getBase64CodesBuffer(a.subarray(4,8)),this._getBase64CodesBuffer(a.subarray(8,12)),this._getBase64CodesBuffer(a.subarray(12,16))),0|h);for(;(0|c)<(0|i);c=(c+4|0)>>>0,h=(h+3|0)>>>0)s.set(this._getBase64CodesBufferResults(this._getBase64CodesBuffer(r.subarray(0|c,c+4|0))),0|h);return s.slice(0,s.length-n|0)},n.BASE64=new o,n.enrichFunctionCalls=[],n.withinEnrich=function(e){function t(e){return void 0!==e.slice?e.slice(0,e.length):Uint8Array.from(e)}return e=t(e),Array.from(n.enrichFunctionCalls).forEach((function(r){e=t(r(e))})),e},n.depleteFunctionCalls=[],n.withinDeplete=function(e){function t(e){return void 0!==e.slice?e.slice(0,e.length):Uint8Array.from(e)}return e=t(e),Array.from(n.depleteFunctionCalls).reverse().forEach((function(r){e=t(r(e))})),e},n.enrichString=function(e,t){var r,o,i,s,a=e.length,c=Date.now();return e=n.utils.stringify(e),e=n.UTFX.toUint8Array(e),r=Date.now(),e=n.withinEnrich(e),o=Date.now(),e=new n(e).encode(),e=n.utils.escape(e),i=Date.now(),s=e.length,t&&console.log("Parsing: "+(c-r|0)+"ms, \nCompressing: "+(r-o|0)+"ms, \nEncoding: "+(o-i)+"ms, \n\nTotal: "+(c-i|0)+"ms for "+(100-s/a*100|0)+"% ENRICHMENT!"),e},n.stringDeplete=function(e,t){var r,o,i,s,a=e.length,c=Date.now();return e=n.utils.unescape(e),e=new n(e).decode(),r=Date.now(),e=n.withinDeplete(e),o=Date.now(),e=n.UTFX.fromUint8Array(e),e=n.utils.parse(e),i=Date.now(),s=e.length,t&&console.log("Unescape: "+(c-r|0)+"ms, \nCompressing: "+(r-o|0)+"ms, \nParsing: "+(o-i)+"ms, \n\nTotal: "+(c-i|0)+"ms for "+(s/a*100|0)+"% DEPvarION!"),e},n.enrichObject=function(e,t){return e=n.JSONX.stringify(e),n.enrichString(e,t)},n.objectDeplete=function(e,t){return e=n.stringDeplete(e,t),n.JSONX.parse(e)},n.enrichBuffer=function(e,t,r){var o,i,s,a=e.length||e.byteLength,c=Date.now();return e=n.withinEnrich(e),o=Date.now(),t&&(e=new n(e).encode(),e=n.utils.escape(e)),i=Date.now(),s=e.length,r&&console.log("Compressing: "+(c-o|0)+"ms, \nEncoding: "+(o-i)+"ms, \n\nTotal: "+(c-i|0)+"ms for "+(100-s/a*100|0)+"% ENRICHMENT!"),e},n.bufferDeplete=function(e,t,r){var o,i,s,a=e.length||e.byteLength,c=Date.now();return t&&(e=n.utils.unescape(e),e=new n(e).decode()),o=Date.now(),e=n.withinDeplete(e),i=Date.now(),s=e.length,r&&console.log("Unescape: "+(c-o|0)+"ms, \nCompressing: "+(o-i|0)+"ms \n\nTotal: "+(c-i|0)+"ms for "+(s/a*100|0)+"% DEPvarION!"),e},e.exports=n},593:function(e,t,r){var n,o,i,s,a,c,h,u,f,p,l,d,_,m;n=r(46),o=function(){var e,t=Math.imul,r=2147483648,n=8388608,o=function(e){this.low=0,this.range=r,this.buffer=0,this.help=0,this.bytecount=0,this.stream=e},i=function(e,t){for(;e.range<=n;){if(e.low<255<<23){for(t.writeByte(e.buffer);e.help;e.help--)t.writeByte(255);e.buffer=e.low>>>23&255}else if(e.low&r){for(t.writeByte(e.buffer+1);e.help;e.help--)t.writeByte(0);e.buffer=e.low>>>23&255}else if(e.help++,e.help>4294967295)throw Error("Too many bytes outstanding, file too large!");e.range=e.range<<8>>>0,e.low=(e.low<<8&2147483647)>>>0,e.bytecount++}};return o.prototype.encodeStart=function(e,t){this.low=0,this.range=r,this.buffer=e,this.help=0,this.bytecount=t},o.prototype.encodeFreq=function(e,r,n){var o,s;i(this,this.stream),o=this.range/n>>>0,s=t(o,r),this.low+=s,r+e<n?this.range=t(o,e):this.range-=s},o.prototype.encodeShift=function(e,r,n){var o,s;i(this,this.stream),o=this.range>>>n,s=t(o,r),this.low+=s,r+e>>>n?this.range-=s:this.range=t(o,e)},o.prototype.encodeBit=function(e){this.encodeShift(1,e?1:0,1)},o.prototype.encodeByte=function(e){this.encodeShift(1,e,8)},o.prototype.encodeShort=function(e){this.encodeShift(1,e,16)},o.prototype.encodeFinish=function(){var e,t=this.stream;if(i(this,t),this.bytecount+=5,e=this.low>>>23,(8388607&this.low)>=(16777215&this.bytecount)>>>1&&e++,e>255)for(t.writeByte(this.buffer+1);this.help;this.help--)t.writeByte(0);else for(t.writeByte(this.buffer);this.help;this.help--)t.writeByte(255);return t.writeByte(255&e),t.writeByte(this.bytecount>>>16&255),t.writeByte(this.bytecount>>>8&255),t.writeByte(255&this.bytecount),this.bytecount},o.prototype.decodeStart=function(e){var t=e?0:this.stream.readByte();return"number"!=typeof t||t<0||(this.buffer=this.stream.readByte(),this.low=this.buffer>>>1,this.range=128),t},e=function(e,t){for(;e.range<=n;)e.low=e.low<<8|e.buffer<<7&255,e.buffer=t.readByte(),e.low|=e.buffer>>>1,e.low=e.low>>>0,e.range=e.range<<8>>>0},o.prototype.decodeCulFreq=function(t){e(this,this.stream),this.help=this.range/t>>>0;var r=this.low/this.help>>>0;return r>=t?t-1:r},o.prototype.decodeCulShift=function(t){e(this,this.stream),this.help=this.range>>>t;var r=this.low/this.help>>>0;return r>>>t?(1<<t)-1:r},o.prototype.decodeUpdate=function(e,t,r){var n=this.help*t;this.low-=n,t+e<r?this.range=this.help*e:this.range-=n},o.prototype.decodeBit=function(){var e=this.decodeCulShift(1);return this.decodeUpdate(1,e,2),e},o.prototype.decodeByte=function(){var e=this.decodeCulShift(8);return this.decodeUpdate(1,e,256),e},o.prototype.decodeShort=function(){var e=this.decodeCulShift(16);return this.decodeUpdate(1,e,65536),e},o.prototype.decodeFinish=function(){e(this,this.stream)},o.prototype.writeBit=o.prototype.encodeBit,o.prototype.readBit=o.prototype.decodeBit,o.prototype.writeByte=o.prototype.encodeByte,o.prototype.readByte=o.prototype.decodeByte,o}(),i=function(){var e=function(){};return e.prototype.readByte=function(){var e=[0];return 0===this.read(e,0,1)?(this._eof=!0,-1):e[0]},e.prototype.read=function(e,t,r){for(var n,o=0;o<r;){if(-1===(n=this.readByte())){this._eof=!0;break}e[t+o++]=n}return o},e.prototype.eof=function(){return!!this._eof},e.prototype.seek=function(e){throw Error("Stream is not seekable.")},e.prototype.tell=function(){throw Error("Stream is not seekable.")},e.prototype.writeByte=function(e){var t=[e];this.write(t,0,1)},e.prototype.write=function(e,t,r){var n;for(n=0;n<r;n=n+1|0)this.writeByte(e[t+n]);return r},e.prototype.flush=function(){},e.EOF=-1,e}(),s=function(){var e=function(e){(function(){var t=256;this.readBit=function(){var r,n;if(0==(255&t)){if((r=e.readByte())===i.EOF)return this._eof=!0,r;t=r<<1|1}return n=256&t?1:0,t<<=1,n},this.readByte=function(){return 0==(255&t)?e.readByte():this.readBits(8)},this.seek=function(r){e.seek(r),t=256}}).call(this),function(){var t=1;this.writeBit=function(r){t<<=1,r&&(t|=1),256&t&&(e.writeByte(255&t),t=1)},this.writeByte=function(r){1===t?e.writeByte(r):e.writeBits(8,r)},this.flush=function(){for(;1!==t;)this.writeBit(0);e.flush&&e.flush()}}.call(this)};return e.EOF=i.EOF,(e.prototype=Object.create(i.prototype)).readBits=function(e){var t,r=0;if(e>31)return(r=65536*this.readBits(e-16))+this.readBits(16);for(t=0;t<e;t=t+1|0)r<<=1,this.readBit()>0&&r++;return r},e.prototype.writeBits=function(e,t){var r,n,o;if(e>32)return n=(t-(r=65535&t))/65536,this.writeBits(e-16,n),void this.writeBits(16,r);for(o=e-1;o>=0;o=o-1|0)this.writeBit(t>>>o&1)},e}(),a=function(){var e,t,r,o,s,a,c=Object.create(null),h=i.EOF;return c.coerceInputStream=function(e,t){var r,n;return"readByte"in e?t&&!("read"in e)&&(n=e,(e=new i).readByte=function(){var e=n.readByte();return e===h&&(this._eof=!0),e},"size"in n&&(e.size=n.size),"seek"in n&&(e.seek=function(e){n.seek(e),this._eof=!1}),"tell"in n&&(e.tell=n.tell.bind(n))):(r=e,(e=new i).size=r.length,e.pos=0,e.readByte=function(){return this.pos>=this.size?h:r[this.pos++]},e.read=function(e,t,n){for(var o=0;o<n&&this.pos<r.length;)e[t++]=r[this.pos++],o++;return o},e.seek=function(e){this.pos=e},e.tell=function(){return this.pos},e.eof=function(){return this.pos>=r.length}),e},(e=function(e,t){this.buffer=e,this.resizeOk=t,this.pos=0}).prototype=Object.create(i.prototype),e.prototype.writeByte=function(e){if(this.resizeOk&&this.pos>=this.buffer.length){var t=c.makeU8Buffer(2*this.buffer.length);t.set(this.buffer),this.buffer=t}this.buffer[this.pos++]=e},e.prototype.getBuffer=function(){if(this.pos!==this.buffer.length){if(!this.resizeOk)throw new TypeError("outputsize does not match decoded input");var e=c.makeU8Buffer(this.pos);e.set(this.buffer.subarray(0,this.pos)),this.buffer=e}return this.buffer},c.coerceOutputStream=function(t,r){var n={stream:t,retval:t};if(t){if("object"==typeof t&&"writeByte"in t)return n;n.stream=new e("number"==typeof r?c.makeU8Buffer(r):t,!1)}else n.stream=new e(c.makeU8Buffer(16384),!0);return Object.defineProperty(n,"retval",{get:n.stream.getBuffer.bind(n.stream)}),n},c.compressFileHelper=function(e,t,r){return function(n,o,i){var s,a,h,u;for(n=c.coerceInputStream(n),o=(s=c.coerceOutputStream(o,o)).stream,a=0;a<e.length;a=a+1|0)o.writeByte(e.charCodeAt(a));if(h="size"in n&&n.size>=0?n.size:-1,r){for(u=c.coerceOutputStream([]),c.writeUnsignedNumber(u.stream,h+1),u=u.retval,a=0;a<u.length-1;a=a+1|0)o.writeByte(u[a]);r=u[u.length-1]}else c.writeUnsignedNumber(o,h+1);return t(n,o,h,i,r),s.retval}},c.decompressFileHelper=function(e,t){return function(r,n){var o,i,s;for(r=c.coerceInputStream(r),o=0;o<e.length;o=o+1|0)if(e.charCodeAt(o)!==r.readByte())throw Error("Bad magic");return i=c.readUnsignedNumber(r)-1,n=(s=c.coerceOutputStream(n,i)).stream,t(r,n,i),s.retval}},c.compressWithModel=function(e,t,r){for(var n,o=0;o!==t;){if((n=e.readByte())===h){r.encode(256);break}r.encode(n),o++}},c.decompressWithModel=function(e,t,r){for(var n,o=0;o!==t&&256!==(n=r.decode());)e.writeByte(n),o++},c.writeUnsignedNumber=function(e,t){var r,n=[];do{n.push(127&t),t=Math.floor(t/128)}while(0!==t);for(n[0]|=128,r=n.length-1;r>=0;r=r-1|0)e.writeByte(n[r]);return e},c.readUnsignedNumber=function(e){for(var t,r=0;;){if(128&(t=e.readByte())){r+=127&t;break}r=128*(r+t)}return r},t=function(e){for(var t=0,r=e.length;t<r;t=t+1|0)e[t]=0;return e},r=function(e){return t(Array(e))},o=function(e){return e},void 0!==n&&Array.prototype.some.call(new Uint32Array(128),(function(e){return 0!==e}))&&(o=t),c.makeU8Buffer="undefined"!=typeof Uint8Array?function(e){return o(new Uint8Array(e))}:r,c.makeU16Buffer="undefined"!=typeof Uint16Array?function(e){return o(new Uint16Array(e))}:r,c.makeU32Buffer="undefined"!=typeof Uint32Array?function(e){return o(new Uint32Array(e))}:r,c.makeS32Buffer="undefined"!=typeof Int32Array?function(e){return o(new Int32Array(e))}:r,c.arraycopy=function(e,t){for(var r=0,n=t.length;r<n;r=r+1|0)e[r]=t[r];return e},s=Uint8Array.of(0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8),a=c.fls=function(e){return e>4294967295?32+a(Math.floor(e/4294967296)):0!=(4294901760&e)?0!=(4278190080&e)?24+s[e>>>24&255]:16+s[e>>>16]:0!=(65280&e)?8+s[e>>>8]:s[e]},c.log2c=function(e){return 0===e?-1:a(e-1)},c}(),c=function(){var e=function(e,t,r,n){var o,i,s=a.fls(e-1);for(this.extraStates=+t||0,this.lgDistanceModel=r(1+s+t),this.distanceModel=[],o=2;o<=s;o=o+1|0)i=o-1,this.distanceModel[o]=n(1<<i)};return e.prototype.encode=function(e){var t,r;e<2?this.lgDistanceModel.encode(e+this.extraStates):(t=a.fls(e),this.lgDistanceModel.encode(t+this.extraStates),r=e&(1<<t-1)-1,this.distanceModel[t].encode(r))},e.prototype.decode=function(){var e=this.lgDistanceModel.decode()-this.extraStates;return e<2?e:(1<<e-1)+this.distanceModel[e].decode()},e}(),h=function(){var e,t=function(e,t,r,n){this.up=e,this.down=t,this.symbol=r,this.weight=n};return t.prototype.clone=function(){return new t(this.up,this.down,this.symbol,this.weight)},t.prototype.set=function(e){this.up=e.up,this.down=e.down,this.symbol=e.symbol,this.weight=e.weight},(e=function(e,r,n,o){var i;for((!r||r>e)&&(r=e),(r<<=1)&&r--,this.table=[],i=0;i<=r;i=i+1|0)this.table[i]=new t(0,0,0,0);if(this.map=[],this.size=e)for(i=0;i<e;i=i+1|0)this.map[i]=0;this.esc=this.root=r,n&&(this.readBit=n.readBit.bind(n),this.writeBit=n.writeBit.bind(n)),this.max_weight=o}).factory=function(t,r){return function(n){return new e(n,n,t,r)}},e.prototype.split=function(e){var t,r;return(t=this.esc)?(this.esc--,(r=this.esc)?(this.table[t].down=r,this.table[t].weight=1,this.table[r].up=t,this.esc--):(t=0,r=1),this.table[r].symbol=e,this.table[r].weight=0,this.table[r].down=0,this.map[e]=r,this.table[this.esc].weight=0,this.table[this.esc].down=0,this.table[this.esc].up=t,r):0},e.prototype.leader=function(e){for(var t,r,n=this.table[e].weight,o=e;n===this.table[o+1].weight;)o++;return o===e?e:(r=this.table[e].symbol,t=this.table[o].symbol,this.table[o].symbol=r,this.table[e].symbol=t,this.map[r]=o,this.map[t]=e,o)},e.prototype.slide=function(e){var t=e,r=this.table[t++].clone();if(1&r.weight)for(;r.weight>this.table[t+1].weight;)t++;return this.table[e].set(this.table[t]),this.table[t].set(r),this.table[t].up=this.table[e].up,this.table[e].up=r.up,1&r.weight?(this.table[r.down].up=t,this.table[r.down-1].up=t,this.map[this.table[e].symbol]=e):(this.table[this.table[e].down-1].up=e,this.table[this.table[e].down].up=e,this.map[r.symbol]=t),t},e.prototype.increment=function(e){var t;for(this.table[e].up===e+1?(this.table[e].weight+=2,e++):e=this.leader(e);this.table[e].weight+=2,t=this.table[e].up;){for(;this.table[e].weight>this.table[e+1].weight;)e=this.slide(e);e=1&this.table[e].weight?t:this.table[e].up}this.max_weight&&this.table[this.root].weight>=this.max_weight&&this.scale(1)},e.prototype.scale=function(e){for(var t,r,n=this.esc;++n<=this.root;)for(1&this.table[n].weight?(t=-2&this.table[this.table[n].down].weight)&&(t+=1|this.table[this.table[n].down-1].weight):(t=this.table[n].weight>>e&-2)||(this.map[this.table[n].symbol]=0,this.esc++&&this.esc++),this.table[n].weight=t,r=n;t<this.table[--r].weight;)this.slide(r);this.table[this.esc].down=0},e.prototype.sendid=function(e){for(var t,r=0;e--;)this.map[e]||r++;if(t=this.size-Math.floor((this.root-this.esc)/2)-1)do{this.writeBit(1&r),r>>=1}while(t>>=1)},e.prototype.encode=function(e){var t,r,n,o,i=1;if(e<this.size&&((n=o=this.map[e])||(n=this.esc))){for(;r=this.table[n].up;)i<<=1,i|=1&n,n=r;for(;t=1&i,i>>=1;)this.writeBit(t);o||(this.sendid(e),o=this.split(e)),this.increment(o)}},e.prototype.readid=function(){var e,t,r=0,n=1;if(e=this.size-Math.floor((this.root-this.esc)/2)-1)do{r|=this.readBit()?n:0,n<<=1}while(e>>=1);for(t=0;t<this.size;t++)if(!this.map[t]&&!r--)return t;return 0},e.prototype.decode=function(){for(var e,t,r=this.root;t=this.table[r].down;)r=this.readBit()?t-1:t;if(r===this.esc){if(!this.esc)return 0;e=this.readid(),r=this.split(e)}else e=this.table[r].symbol;return this.increment(r),e},e.MAGIC="huff",e.compressFile=a.compressFileHelper(e.MAGIC,(function(t,r,n,o){var i,c=new s(r),h=256;n<0&&h++,i=new e(257,h,c,8191),a.compressWithModel(t,n,i),c.flush()})),e.decompressFile=a.decompressFileHelper(e.MAGIC,(function(t,r,n){var o,i=new s(t),c=256;n<0&&c++,o=new e(257,c,i,8191),a.decompressWithModel(r,n,o)})),e}(),u=function(){var e=function(e,t){this.bitstream=e,this.bits=a.fls(t-1)};return e.factory=function(t){return function(r){return new e(t,r)}},e.prototype.encode=function(e){var t,r;for(t=this.bits-1;t>=0;t=t-1|0)r=e>>>t&1,this.bitstream.writeBit(r)},e.prototype.decode=function(){var e,t=0;for(e=this.bits-1;e>=0;e=e-1|0)t<<=1,this.bitstream.readBit()&&t++;return t},e.MAGIC="nomo",e.compressFile=a.compressFileHelper(e.MAGIC,(function(t,r,n,o){var i=new s(r),c=new e(i,n<0?257:256);a.compressWithModel(t,n,c),i.flush()})),e.decompressFile=a.decompressFileHelper(e.MAGIC,(function(t,r,n){var o=new s(t),i=new e(o,n<0?257:256);a.decompressWithModel(r,n,i)})),e}(),f=function(){var e=65535,t=4294901760,r=16,n=4294901758,i=function(e,t,n,o){var i;for(this.coder=e,this.numSyms=t+1,this.tree=a.makeU32Buffer(2*this.numSyms),this.increment=+o||256,this.max_prob=+n||65280,i=0;i<t;i=i+1|0)this.tree[this.numSyms+i]=1;this.tree[this.numSyms+i]=0|this.increment<<r,this._sumTree()};return i.factory=function(e,t,r){return function(n){return new i(e,n,t,r)}},i.prototype.clone=function(){var e,t=new i(this.coder,this.size,this.max_prob,this.increment);for(e=1;e<this.tree.length;e=e+1|0)t.tree[e]=0|this.tree[e];return t},i.prototype.encode=function(n){var o,i,s,a=this.numSyms+n,c=this.tree[a],h=t,u=r,f=this.increment<<r;for(0==(c&t)?(this.encode(this.numSyms-1),h=e,f-=1,u=0):n===this.numSyms-1&&(this.tree[1]&e)>>>0==1&&(f=-this.tree[a]),o=0;a>1;)i=a>>>1,1&a&&(o+=this.tree[2*i]),this.tree[a]+=f,a=i;s=this.tree[1],this.tree[1]+=f,c=(c&h)>>>u,o=(o&h)>>>u,s=(s&h)>>>u,this.coder.encodeFreq(c,o,s),(this.tree[1]&t)>>>r>=this.max_prob&&this._rescale()},i.prototype._decode=function(n){var o,i,s,a,c,h,u,f=t,p=r,l=this.increment<<r;for(n&&(f=e,l-=1,p=0),o=(this.tree[1]&f)>>>p,i=this.coder.decodeCulFreq(o),s=1,a=0;s<this.numSyms;)this.tree[s]+=l,c=(this.tree[s<<1]&f)>>>p,s*=2,i-a>=c&&(a+=c,s=s+1|0);if(h=s-this.numSyms,u=(this.tree[s]&f)>>>p,this.tree[s]+=l,this.coder.decodeUpdate(u,a,o),h===this.numSyms-1&&(this.tree[1]&e)>>>0==1)for(l=-this.tree[s];s>=1;)this.tree[s]+=l,s>>>=1;return(this.tree[1]&t)>>>r>=this.max_prob&&this._rescale(),h},i.prototype.decode=function(){var e=this._decode(!1);return e===this.numSyms-1&&(e=this._decode(!0)),e},i.prototype._rescale=function(){var t,r,o=!0;for(t=0;t<this.numSyms-1;t=t+1|0)0==((r=this.tree[this.numSyms+t])&e)?(0==(r=(r&n)>>>1)&&(r=1,o=!1),this.tree[this.numSyms+t]=r):o=!1;r=((r=this.tree[this.numSyms+t])&n)>>>1,o?r=0:0===r&&(r=65536),this.tree[this.numSyms+t]=r,this._sumTree()},i.prototype._sumTree=function(){var e;for(e=this.numSyms-1;e>0;e=e-1|0)this.tree[e]=this.tree[e<<1]+this.tree[1+(e<<1)]},i.MAGIC="fenw",i.compressFile=a.compressFileHelper(i.MAGIC,(function(e,t,r,n,s){var c,h=new o(t);h.encodeStart(s,1),c=new i(h,r<0?257:256),a.compressWithModel(e,r,c),h.encodeFinish()}),!0),i.decompressFile=a.decompressFileHelper(i.MAGIC,(function(e,t,r){var n,s=new o(e);s.decodeStart(!0),n=new i(s,r<0?257:256),a.decompressWithModel(t,r,n),s.decodeFinish()})),i}(),p=function(){var e=function(e,t,r){var n;for(this.literalModel=[],n=0;n<t;n=n+1|0)this.literalModel[n]=e(r)};return e.prototype.encode=function(e,t){this.literalModel[t].encode(e)},e.prototype.decode=function(e){return this.literalModel[e].decode()},e.MAGIC="ctx1",e.compressFile=a.compressFileHelper(e.MAGIC,(function(t,r,n,o){var i,c,u,f,p=new s(r),l=256;n<0&&l++,i=h.factory(p,8191),c=new e(i,256,l),u=32,f={encode:function(e){c.encode(e,u),u=e}},a.compressWithModel(t,n,f),p.flush()})),e.decompressFile=a.decompressFileHelper(e.MAGIC,(function(t,r,n){var o,i,c,u,f=new s(t),p=256;n<0&&p++,o=h.factory(f,8191),i=new e(o,256,p),c=32,u={decode:function(){var e=i.decode(c);return c=e,e}},a.decompressWithModel(r,n,u)})),e}(),l=function(){var e,t=Object.create(null);return t.MAGIC="lzjR",e=1023,t.compressFile=a.compressFileHelper(t.MAGIC,(function(t,r,n,s,h){var l,d,_,m,y,g,w,v,b,A,C,k,E,B,O,x,S,M,T,U,I,F,P,N,D,H,W,L,R,j,G,z,Y,K=1024,$=1;for("number"==typeof s&&(K*=2,$=1<<Math.floor((s=Math.max(1,Math.min(9,s))-1)/2),1&s&&($=Math.round(1.5*$)),s>=2&&s<=4&&$++),(v=new o(r)).encodeStart(h,1),g=a.makeU16Buffer(K*$),b=a.makeU8Buffer(1024),A=0,C=function(e){return b[A++]=e,A>=b.length&&(A=0),e},k=[],E=function(){return k.length?k.pop():t.readByte()},B=function(e){k.push(e)},O=[],x=u.factory(v),S=f.factory(v,65280,256),M=new p(S,256,1+(n<0?257:256)),T=function(e){return e<=32?S(e):x(e)},U=new c(64,0,S,T),I=new c(1024,1,S,T),F=32,P=0;N=A,(D=E())!==i.EOF;){if((H=E())===i.EOF){M.encode(C(D),F);break}if((W=E())!==i.EOF){for(m=(D<<16)+(H<<8)+W,m^=m>>9,m+=m>>5,y=((m^=D)&K-1)*$,O.length=0,w=0;w<$;w=w+1|0)_=A-g[y+w]&e,l=b.length+A-_,L=b[l&e],R=b[l+1&e],j=b[l+2&e],1==_?(R=D,j=H):2==_&&(j=D),D===L&&H===R&&W===j&&O.push(_);for(w=$-1;w>0;w--)g[y+w]=g[y+w-1];if(g[y]=A,0===O.length)M.encode(C(D),F),B(W),B(H),F=D;else{for(M.encode(256,F),C(D),C(H),C(W),F=W,G=E(),z=O[0],Y=b.length+A,d=3;d<66&&G!==i.EOF;d++,Y++){for(w=0;w<O.length;)G!==b[Y-O[w]&e]?(z=O[w],O.splice(w,1)):w=w+1|0;if(0===O.length)break;C(G),F=G,G=E()}0!==O.length&&(z=O[0]),B(G),U.encode(d-3),(_=N-z&e)===P?I.encode(-1):(I.encode(_),P=_)}}else M.encode(C(D),F),B(H),F=D}n<0&&M.encode(257,F),v.encodeFinish()}),!0),t.decompressFile=a.decompressFileHelper(t.MAGIC,(function(e,t,r){var n,i,s,h,l,d,_,m,y,g,w,v=a.makeU8Buffer(1024),b=0,A=new o(e);for(A.decodeStart(!0),h=u.factory(A),l=f.factory(A,65280,256),d=new p(l,256,1+(r<0?257:256)),_=function(e){return e<=32?l(e):h(e)},m=new c(64,0,l,_),y=new c(1024,1,l,_),g=32,w=0;0!==r&&257!==(s=d.decode(g));)if(256===s)for(i=m.decode()+3,(n=y.decode())<0?n=w:w=n,r>=0&&(r-=i);--i>=0;)s=g=v[b++]=v[n++],t.writeByte(s),b>=v.length&&(b=0),n>=v.length&&(n=0);else t.writeByte(s),v[b++]=g=s,b>=v.length&&(b=0),r>=0&&r--;A.decodeFinish()})),t}(),_=[(d=function(){var e,t,r,n,l=Object.create(null);return l.MAGIC="lzp3",t=(e=1<<20)-1,r=65535,(n=function(t){this.buffer=a.makeU8Buffer(Math.min(t+4,e)),this.pos=0,this.ctxt4=a.makeU32Buffer(65536),this.ctxt3=a.makeU32Buffer(4096),this.ctxt2=a.makeU32Buffer(65536),this.put(99),this.put(83),this.put(97),this.put(32)}).prototype.put=function(t){return this.buffer[this.pos++]=t,this.pos>=e&&(this.pos=0),t},n.prototype.get=function(e){return this.buffer[1048575&e]},n.prototype.context=function(t,r){var n,o=0;for(t=t-r&1048575,n=0;n<r;n=n+1|0)o=o<<8|this.buffer[t++],t>=e&&(t=0);return o},n.prototype.getIndex=function(e,t){var n=this.context(e,4),o=65535&(n>>>15^n),i=4095&(n>>>11^n),s=n&r,a=0;return 0===t&&(0!==(a=this.ctxt4[o])&&n!==this.context(a-1,4)&&(a=0),0===a&&(0!==(a=this.ctxt3[i])&&(16777215&n)!==this.context(a-1,3)&&(a=0),0===a&&0!==(a=this.ctxt2[s])&&(n&&r)!==this.context(a-1,2)&&(a=0))),t&&t--,this.ctxt4[o]=this.ctxt3[i]=this.ctxt2[s]=1+(e|t<<20),a},l.compressFile=a.compressFileHelper(l.MAGIC,(function(r,s,a,h){var l,d,_,m,y,g,w,v,b,A,C,k,E,B,O,x,S=new n(a>=0?a:e);for((m=new o(s)).encodeStart(0,0),l=f.factory(m,65280,256),y=u.factory(m),d=function(e){return e>256?y(e):l(e)},_=function(){m.encodeFinish()},g=new p(l,256,a<0?257:256),w=[],v=0;v<16;v=v+1|0)w[v]=new c(t+1,1,l,d);for(b=0,C=0;b!==a;){if(k=r.readByte(),A=S.pos,0!==(E=S.getIndex(A,0))){for(B=1+(--E>>>20),O=0;S.get(E+O)===k&&O<t;)O++,S.put(k),k=r.readByte();B===O?w[15&C].encode(-1):w[15&C].encode(O),S.getIndex(A,O),b+=O,C<<=1,O>0&&(C|=1)}if(x=S.get(S.pos-1),k===i.EOF){a<0&&g.encode(256,x);break}g.encode(k,x),S.put(k),b++}_&&_()})),l.decompressFile=a.decompressFileHelper(l.MAGIC,(function(i,a,l){var d,_,m,y,g,w,v,b,A,C,k,E,B,O,x,S,M,T=!!(128&i.readByte()),U=new n(l>=0?l:e);for(T?(y=new s(i),d=h.factory(y,r),_=u.factory(y)):((g=new o(i)).decodeStart(!0),d=f.factory(g,65280,256),w=u.factory(g),_=function(e){return e>256?w(e):d(e)},m=function(){g.decodeFinish()}),v=new p(d,256,l<0?257:256),b=[],A=0;A<16;A=A+1|0)b[A]=new c(t+1,1,d,_);for(E=0,B=0;E!==l;){if(C=U.pos,0!==(O=U.getIndex(C,0))){for(x=1+(--O>>>20),(S=b[15&B].decode())<0&&(S=x),A=0;A<S;A=A+1|0)k=U.get(O+A),a.writeByte(U.put(k));U.getIndex(C,S),E+=S,B<<=1,S>0&&(B|=1)}if(E===l)break;if(M=U.get(U.pos-1),256===(k=v.decode(M)))break;a.writeByte(U.put(k)),E++}m&&m()})),l}()).compressFile,l.compressFile],m=[d.decompressFile,l.decompressFile],e.exports={UraniumJSEnrichFunctionCalls:_,UraniumJSDepleteFunctionCalls:m}},605:function(e,t,r){var n,o,i,s;e.exports=(n={characters:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,r,o,i,s,a,c,h="",u=0;for(e=n.utf8Encode(e);u<e.length;)i=(t=e.charCodeAt(u++))>>2,s=(3&t)<<4|(r=e.charCodeAt(u++))>>4,a=(15&r)<<2|(o=e.charCodeAt(u++))>>6,c=63&o,isNaN(r)?a=c=64:isNaN(o)&&(c=64),h=h+this.characters.charAt(i)+this.characters.charAt(s)+this.characters.charAt(a)+this.characters.charAt(c);return h},utf8Encode:function(e){var t,r,n;for(e=e.replace(/\r\n/g,"\n"),t="",r=0;r<e.length;r++)(n=e.charCodeAt(r))<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128));return t}},o=function(e){return"string"==typeof e?"string":"undefined"!=typeof SVGElement&&e instanceof SVGElement?"element":void 0},i=function(e){var t=(new XMLSerializer).serializeToString(e);return s(t)},s=function(e){return"data:image/svg+xml;base64,"+n.encode(e)},function(e){switch(o(e)){case"string":return s(e);case"element":return i(e);default:return e}})},626:function(e,t,r){(function(t,r){var n;"undefined"!=typeof self&&self,n=function(){return function(){function e(t){var r,i=o[t];return void 0!==i?i.exports:(r=o[t]={exports:{}},n[t](r,r.exports,e),r.exports)}var n={345:function(e,t,r){function n(e,t){"string"==typeof e?this.script=e||null:(this.script=null,t=e),this.workers=[],this.tasks=[],t=t||{},this.forkArgs=Object.freeze(t.forkArgs||[]),this.forkOpts=Object.freeze(t.forkOpts||{}),this.workerOpts=Object.freeze(t.workerOpts||{}),this.workerThreadOpts=Object.freeze(t.workerThreadOpts||{}),this.debugPortStart=t.debugPortStart||43210,this.nodeWorker=t.nodeWorker,this.workerType=t.workerType||t.nodeWorker||"auto",this.maxQueueSize=t.maxQueueSize||1/0,this.workerTerminateTimeout=t.workerTerminateTimeout||1e3,this.onCreateWorker=t.onCreateWorker||function(){return null},this.onTerminateWorker=t.onTerminateWorker||function(){return null},t&&"maxWorkers"in t?(function(e){if(!o(e)||!i(e)||e<1)throw new TypeError("Option maxWorkers must be an integer number >= 1")}(t.maxWorkers),this.maxWorkers=t.maxWorkers):this.maxWorkers=Math.max((c.cpus||4)-1,1),t&&"minWorkers"in t&&("max"===t.minWorkers?this.minWorkers=this.maxWorkers:(function(e){if(!o(e)||!i(e)||e<0)throw new TypeError("Option minWorkers must be an integer number >= 0")}(t.minWorkers),this.minWorkers=t.minWorkers,this.maxWorkers=Math.max(this.minWorkers,this.maxWorkers)),this._ensureMinWorkers()),this._boundNext=this._next.bind(this),"thread"===this.workerType&&a.ensureWorkerThreads()}function o(e){return"number"==typeof e}function i(e){return Math.round(e)==e}var s=r(219),a=r(751),c=r(828),h=new(r(833));n.prototype.exec=function(e,t,r){var n,o,i,a;if(t&&!Array.isArray(t))throw new TypeError('Array expected as argument "params"');if("string"==typeof e){if(n=s.defer(),this.tasks.length>=this.maxQueueSize)throw Error("Max queue size of "+this.maxQueueSize+" reached");return o=this.tasks,i={method:e,params:t,resolver:n,timeout:null,options:r},o.push(i),a=n.promise.timeout,n.promise.timeout=function(e){return-1!==o.indexOf(i)?(i.timeout=e,n.promise):a.call(n.promise,e)},this._next(),n.promise}if("function"==typeof e)return this.exec("run",[e+"",t]);throw new TypeError('Function or string expected as argument "method"')},n.prototype.proxy=function(){if(arguments.length>0)throw Error("No arguments expected");var e=this;return this.exec("methods").then((function(t){var r={};return t.forEach((function(t){r[t]=function(){return e.exec(t,Array.prototype.slice.call(arguments))}})),r}))},n.prototype._next=function(){var e,t,r,n;this.tasks.length>0&&(e=this._getWorker())&&(t=this,(r=this.tasks.shift()).resolver.promise.pending?(n=e.exec(r.method,r.params,r.resolver,r.options).then(t._boundNext).catch((function(){if(e.terminated)return t._removeWorker(e)})).then((function(){t._next()})),"number"==typeof r.timeout&&n.timeout(r.timeout)):t._next())},n.prototype._getWorker=function(){var e,t,r=this.workers;for(e=0;e<r.length;e++)if(!1===(t=r[e]).busy())return t;return r.length<this.maxWorkers?(t=this._createWorkerHandler(),r.push(t),t):null},n.prototype._removeWorker=function(e){var t=this;return h.releasePort(e.debugPort),this._removeWorkerFromList(e),this._ensureMinWorkers(),new s((function(r,n){e.terminate(!1,(function(o){t.onTerminateWorker({forkArgs:e.forkArgs,forkOpts:e.forkOpts,workerThreadOpts:e.workerThreadOpts,script:e.script}),o?n(o):r(e)}))}))},n.prototype._removeWorkerFromList=function(e){var t=this.workers.indexOf(e);-1!==t&&this.workers.splice(t,1)},n.prototype.terminate=function(e,t){var r,n,o=this;return this.tasks.forEach((function(e){e.resolver.reject(Error("Pool terminated"))})),this.tasks.length=0,r=function(e){h.releasePort(e.debugPort),this._removeWorkerFromList(e)}.bind(this),n=[],this.workers.slice().forEach((function(i){var s=i.terminateAndNotify(e,t).then(r).always((function(){o.onTerminateWorker({forkArgs:i.forkArgs,forkOpts:i.forkOpts,workerThreadOpts:i.workerThreadOpts,script:i.script})}));n.push(s)})),s.all(n)},n.prototype.stats=function(){var e=this.workers.length,t=this.workers.filter((function(e){return e.busy()})).length;return{totalWorkers:e,busyWorkers:t,idleWorkers:e-t,pendingTasks:this.tasks.length,activeTasks:t}},n.prototype._ensureMinWorkers=function(){if(this.minWorkers)for(var e=this.workers.length;e<this.minWorkers;e++)this.workers.push(this._createWorkerHandler())},n.prototype._createWorkerHandler=function(){var e=this.onCreateWorker({forkArgs:this.forkArgs,forkOpts:this.forkOpts,workerOpts:this.workerOpts,workerThreadOpts:this.workerThreadOpts,script:this.script})||{};return new a(e.script||this.script,{forkArgs:e.forkArgs||this.forkArgs,forkOpts:e.forkOpts||this.forkOpts,workerOpts:e.workerOpts||this.workerOpts,workerThreadOpts:e.workerThreadOpts||this.workerThreadOpts,debugPort:h.nextAvailableStartingAt(this.debugPortStart),workerType:this.workerType,workerTerminateTimeout:this.workerTerminateTimeout})},e.exports=n},219:function(e){"use strict";function t(e,i){var s,a,c,h,u,f=this;if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if("function"!=typeof e)throw new SyntaxError("Function parameter handler(resolve, reject) missing");s=[],a=[],this.resolved=!1,this.rejected=!1,this.pending=!0,c=function(e,t){s.push(e),a.push(t)},this.then=function(e,n){return new t((function(t,o){var i=e?r(e,t,o):t,s=n?r(n,t,o):o;c(i,s)}),f)},h=function(e){return f.resolved=!0,f.rejected=!1,f.pending=!1,s.forEach((function(t){t(e)})),c=function(t,r){t(e)},h=u=function(){},f},u=function(e){return f.resolved=!1,f.rejected=!0,f.pending=!1,a.forEach((function(t){t(e)})),c=function(t,r){r(e)},h=u=function(){},f},this.cancel=function(){return i?i.cancel():u(new n),f},this.timeout=function(e){if(i)i.timeout(e);else{var t=setTimeout((function(){u(new o("Promise timed out after "+e+" ms"))}),e);f.always((function(){clearTimeout(t)}))}return f},e((function(e){h(e)}),(function(e){u(e)}))}function r(e,t,r){return function(n){try{var o=e(n);o&&"function"==typeof o.then&&"function"==typeof o.catch?o.then(t,r):t(o)}catch(i){r(i)}}}function n(e){this.message=e||"promise cancelled",this.stack=Error().stack}function o(e){this.message=e||"timeout exceeded",this.stack=Error().stack}t.prototype.catch=function(e){return this.then(null,e)},t.prototype.always=function(e){return this.then(e,e)},t.all=function(e){return new t((function(t,r){var n=e.length,o=[];n?e.forEach((function(e,i){e.then((function(e){o[i]=e,0==--n&&t(o)}),(function(e){n=0,r(e)}))})):t(o)}))},t.defer=function(){var e={};return e.promise=new t((function(t,r){e.resolve=t,e.reject=r})),e},n.prototype=Error(),n.prototype.constructor=Error,n.prototype.name="CancellationError",t.CancellationError=n,o.prototype=Error(),o.prototype.constructor=Error,o.prototype.name="TimeoutError",t.TimeoutError=o,e.exports=t},751:function(e,n,o){"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)),n}function a(e,t,r){return(t=function(e){var t=function(e,t){var r,n;if("object"!==c(e)||null===e)return e;if(void 0!==(r=e[Symbol.toPrimitive])){if("object"!==c(n=r.call(e,"string")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return e+""}(e);return"symbol"===c(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function h(){var e=f();if(!e)throw Error("WorkerPool: workerType = 'thread' is not supported, Node >= 11.7.0 required");return e}function u(){if("function"!=typeof Worker&&("object"!==("undefined"==typeof Worker?"undefined":c(Worker))||"function"!=typeof Worker.prototype.constructor))throw Error("WorkerPool: Web Workers not supported")}function f(){try{return w("worker_threads")}catch(e){if("object"===c(e)&&null!==e&&"MODULE_NOT_FOUND"===e.code)return null;throw e}}function p(e,t,r){var n=new r(e,t);return n.isBrowserWorker=!0,n.on=function(e,t){this.addEventListener(e,(function(e){t(e.data)}))},n.send=function(e,t){this.postMessage(e,t)},n}function l(e,t,r){var n=new t.Worker(e,function(e){var t,r;for(t=1;t<arguments.length;t++)r=null!=arguments[t]?arguments[t]:{},t%2?s(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}));return e}({stdout:!1,stderr:!1},r));return n.isWorkerThread=!0,n.send=function(e,t){this.postMessage(e,t)},n.kill=function(){return this.terminate(),!0},n.disconnect=function(){this.terminate()},n}function d(e,t,r){var n=r.fork(e,t.forkArgs,t.forkOpts),o=n.send;return n.send=function(e){return o.call(n,e)},n.isChildProcess=!0,n}function _(e){var t,n,o,i;return e=e||{},n=-1!==(t=r.execArgv.join(" ")).indexOf("--inspect"),o=-1!==t.indexOf("--debug-brk"),i=[],n&&(i.push("--inspect="+e.debugPort),o&&i.push("--debug-brk")),r.execArgv.forEach((function(e){e.indexOf("--max-old-space-size")>-1&&i.push(e)})),Object.assign({},e,{forkArgs:e.forkArgs,forkOpts:Object.assign({},e.forkOpts,{execArgv:(e.forkOpts&&e.forkOpts.execArgv||[]).concat(i)})})}function m(e,r){function n(e){for(var t in a.terminated=!0,a.processing)void 0!==a.processing[t]&&a.processing[t].resolver.reject(e);a.processing=Object.create(null)}var s,a=this,c=r||{};this.script=e||function(){if("browser"===g.platform){if("undefined"==typeof Blob)throw Error("Blob not supported by the browser");if(!window.URL||"function"!=typeof window.URL.createObjectURL)throw Error("URL.createObjectURL not supported by the browser");var e=new Blob([o(670)],{type:"text/javascript"});return window.URL.createObjectURL(e)}return t+"/worker.js"}(),this.worker=function(e,t){if("web"===t.workerType)return u(),p(e,t.workerOpts,Worker);if("thread"===t.workerType)return l(e,r=h(),t.workerThreadOpts);if("process"!==t.workerType&&t.workerType){if("browser"===g.platform)return u(),p(e,t.workerOpts,Worker);var r=f();return r?l(e,r,t.workerThreadOpts):d(e,_(t),w("child_process"))}return d(e,_(t),w("child_process"))}(this.script,c),this.debugPort=c.debugPort,this.forkOpts=c.forkOpts,this.forkArgs=c.forkArgs,this.workerOpts=c.workerOpts,this.workerThreadOpts=c.workerThreadOpts,this.workerTerminateTimeout=c.workerTerminateTimeout,e||(this.worker.ready=!0),this.requestQueue=[],this.worker.on("message",(function(e){var t,r;a.terminated||("string"==typeof e&&"ready"===e?(a.worker.ready=!0,function(){var e,t,r=function(e,t){var r,n,o,s,a,c="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!c){if(Array.isArray(e)||(c=function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e)))return c&&(e=c),r=0,{s:n=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return o=!0,s=!1,{s:function(){c=c.call(e)},n:function(){var e=c.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==c.return||c.return()}finally{if(s)throw a}}}}(a.requestQueue.splice(0));try{for(r.s();!(e=r.n()).done;)t=e.value,a.worker.send(t.message,t.transfer)}catch(n){r.e(n)}finally{r.f()}}()):(t=e.id,void 0!==(r=a.processing[t])&&(e.isEvent?r.options&&"function"==typeof r.options.on&&r.options.on(e.payload):(delete a.processing[t],!0===a.terminating&&a.terminate(),e.error?r.resolver.reject(function(e){var t,r=Error(""),n=Object.keys(e);for(t=0;t<n.length;t++)r[n[t]]=e[n[t]];return r}(e.error)):r.resolver.resolve(e.result)))))})),s=this.worker,this.worker.on("error",n),this.worker.on("exit",(function(e,t){var r="Workerpool Worker terminated Unexpectedly\n";r+="    exitCode: `"+e+"`\n",r+="    signalCode: `"+t+"`\n",r+="    workerpool.script: `"+a.script+"`\n",r+="    spawnArgs: `"+s.spawnargs+"`\n",r+="    spawnfile: `"+s.spawnfile+"`\n",r+="    stdout: `"+s.stdout+"`\n",r+="    stderr: `"+s.stderr+"`\n",n(Error(r))})),this.processing=Object.create(null),this.terminating=!1,this.terminated=!1,this.cleaning=!1,this.terminationHandler=null,this.lastId=0}var y=o(219),g=o(828),w=o(397),v="__workerpool-terminate__";m.prototype.methods=function(){return this.exec("methods")},m.prototype.exec=function(e,t,r,n){var o,i,s;return r||(r=y.defer()),o=++this.lastId,this.processing[o]={id:o,resolver:r,options:n},i={message:{id:o,method:e,params:t},transfer:n&&n.transfer},this.terminated?r.reject(Error("Worker is terminated")):this.worker.ready?this.worker.send(i.message,i.transfer):this.requestQueue.push(i),s=this,r.promise.catch((function(e){if(e instanceof y.CancellationError||e instanceof y.TimeoutError)return delete s.processing[o],s.terminateAndNotify(!0).then((function(){throw e}),(function(e){throw e}));throw e}))},m.prototype.busy=function(){return this.cleaning||Object.keys(this.processing).length>0},m.prototype.terminate=function(e,t){var r,n,o,i=this;if(e){for(r in this.processing)void 0!==this.processing[r]&&this.processing[r].resolver.reject(Error("Worker terminated"));this.processing=Object.create(null)}if("function"==typeof t&&(this.terminationHandler=t),this.busy())this.terminating=!0;else{if(n=function(e){if(i.terminated=!0,i.cleaning=!1,null!=i.worker&&i.worker.removeAllListeners&&i.worker.removeAllListeners("message"),i.worker=null,i.terminating=!1,i.terminationHandler)i.terminationHandler(e,i);else if(e)throw e},this.worker){if("function"==typeof this.worker.kill)return this.worker.killed?void n(Error("worker already killed!")):(o=setTimeout((function(){i.worker&&i.worker.kill()}),this.workerTerminateTimeout),this.worker.once("exit",(function(){clearTimeout(o),i.worker&&(i.worker.killed=!0),n()})),this.worker.ready?this.worker.send(v):this.requestQueue.push({message:v}),void(this.cleaning=!0));if("function"!=typeof this.worker.terminate)throw Error("Failed to terminate worker");this.worker.terminate(),this.worker.killed=!0}n()}},m.prototype.terminateAndNotify=function(e,t){var r=y.defer();return t&&r.promise.timeout(t),this.terminate(e,(function(e,t){e?r.reject(e):r.resolve(t)})),r.promise},e.exports=m,e.exports._tryRequireWorkerThreads=f,e.exports._setupProcessWorker=d,e.exports._setupBrowserWorker=p,e.exports._setupWorkerThreadWorker=l,e.exports.ensureWorkerThreads=h},833:function(e){"use strict";function t(){this.ports=Object.create(null),this.length=0}e.exports=t,t.prototype.nextAvailableStartingAt=function(e){for(;!0===this.ports[e];)e++;if(e>=65535)throw Error("WorkerPool debug port limit reached: "+e+">= 65535");return this.ports[e]=!0,this.length++,e},t.prototype.releasePort=function(e){delete this.ports[e],this.length--}},828:function(e,t,n){var o,i=n(397),s=function(e){return void 0!==e&&null!=e.versions&&null!=e.versions.node};e.exports.isNode=s,e.exports.platform=void 0!==r&&s(r)?"node":"browser",o=function(e){try{return i("worker_threads")}catch(t){return null}}(),e.exports.isMainThread="node"===e.exports.platform?(!o||o.isMainThread)&&!r.connected:"undefined"!=typeof Window,e.exports.cpus="browser"===e.exports.platform?self.navigator.hardwareConcurrency:i("os").cpus().length},670:function(e){e.exports='!function(){var __webpack_modules__={577:function(e){e.exports=function(e,r){this.message=e,this.transfer=r}}},__webpack_module_cache__={};function __webpack_require__(e){var r=__webpack_module_cache__[e];return void 0!==r||(r=__webpack_module_cache__[e]={exports:{}},__webpack_modules__[e](r,r.exports,__webpack_require__)),r.exports}var __webpack_exports__={};!function(){var exports=__webpack_exports__,__webpack_unused_export__;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Transfer=__webpack_require__(577),requireFoolWebpack=eval("typeof require !== \'undefined\' ? require : function (module) { throw new Error(\'Module \\" + module + \\" not found.\') }"),TERMINATE_METHOD_ID="__workerpool-terminate__",worker={exit:function(){}},WorkerThreads,parentPort;if("undefined"!=typeof self&&"function"==typeof postMessage&&"function"==typeof addEventListener)worker.on=function(e,r){addEventListener(e,function(e){r(e.data)})},worker.send=function(e){postMessage(e)};else{if("undefined"==typeof process)throw new Error("Script must be executed as a worker");try{WorkerThreads=requireFoolWebpack("worker_threads")}catch(error){if("object"!==_typeof(error)||null===error||"MODULE_NOT_FOUND"!==error.code)throw error}WorkerThreads&&null!==WorkerThreads.parentPort?(parentPort=WorkerThreads.parentPort,worker.send=parentPort.postMessage.bind(parentPort),worker.on=parentPort.on.bind(parentPort)):(worker.on=process.on.bind(process),worker.send=function(e){process.send(e)},worker.on("disconnect",function(){process.exit(1)})),worker.exit=process.exit.bind(process)}function convertError(o){return Object.getOwnPropertyNames(o).reduce(function(e,r){return Object.defineProperty(e,r,{value:o[r],enumerable:!0})},{})}function isPromise(e){return e&&"function"==typeof e.then&&"function"==typeof e.catch}worker.methods={},worker.methods.run=function(e,r){e=new Function("return ("+e+").apply(null, arguments);");return e.apply(e,r)},worker.methods.methods=function(){return Object.keys(worker.methods)},worker.terminationHandler=void 0,worker.cleanupAndExit=function(e){function r(){worker.exit(e)}if(!worker.terminationHandler)return r();var o=worker.terminationHandler(e);isPromise(o)?o.then(r,r):r()};var currentRequestId=null;worker.on("message",function(r){if(r===TERMINATE_METHOD_ID)return worker.cleanupAndExit(0);try{var e=worker.methods[r.method];if(!e)throw new Error(\'Unknown method "\'+r.method+\'"\');currentRequestId=r.id;var o=e.apply(e,r.params);isPromise(o)?o.then(function(e){e instanceof Transfer?worker.send({id:r.id,result:e.message,error:null},e.transfer):worker.send({id:r.id,result:e,error:null}),currentRequestId=null}).catch(function(e){worker.send({id:r.id,result:null,error:convertError(e)}),currentRequestId=null}):(o instanceof Transfer?worker.send({id:r.id,result:o.message,error:null},o.transfer):worker.send({id:r.id,result:o,error:null}),currentRequestId=null)}catch(e){worker.send({id:r.id,result:null,error:convertError(e)})}}),worker.register=function(e,r){if(e)for(var o in e)e.hasOwnProperty(o)&&(worker.methods[o]=e[o]);r&&(worker.terminationHandler=r.onTerminate),worker.send("ready")},worker.emit=function(e){currentRequestId&&(e instanceof Transfer?worker.send({id:currentRequestId,isEvent:!0,payload:e.message},e.transfer):worker.send({id:currentRequestId,isEvent:!0,payload:e}))},__webpack_unused_export__=worker.register,worker.emit}()}();'},397:function(e){var t=eval("typeof require !== 'undefined' ? require : function (module) { throw new Error('Module \" + module + \" not found.') }");e.exports=t},577:function(e){e.exports=function(e,t){this.message=e,this.transfer=t}},744:function(e,t,n){function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e){return Object.getOwnPropertyNames(e).reduce((function(t,r){return Object.defineProperty(t,r,{value:e[r],enumerable:!0})}),{})}function s(e){return e&&"function"==typeof e.then&&"function"==typeof e.catch}var a,c,h,u=n(577),f=eval("typeof require !== 'undefined' ? require : function (module) { throw new Error('Module \" + module + \" not found.') }"),p="__workerpool-terminate__",l={exit:function(){}};if("undefined"!=typeof self&&"function"==typeof postMessage&&"function"==typeof addEventListener)l.on=function(e,t){addEventListener(e,(function(e){t(e.data)}))},l.send=function(e){postMessage(e)};else{if(void 0===r)throw Error("Script must be executed as a worker");try{a=f("worker_threads")}catch(d){if("object"!==o(d)||null===d||"MODULE_NOT_FOUND"!==d.code)throw d}a&&null!==a.parentPort?(c=a.parentPort,l.send=c.postMessage.bind(c),l.on=c.on.bind(c),l.exit=r.exit.bind(r)):(l.on=r.on.bind(r),l.send=function(e){r.send(e)},l.on("disconnect",(function(){r.exit(1)})),l.exit=r.exit.bind(r))}l.methods={},l.methods.run=function(e,t){var r=Function("return ("+e+").apply(null, arguments);");return r.apply(r,t)},l.methods.methods=function(){return Object.keys(l.methods)},l.terminationHandler=void 0,l.cleanupAndExit=function(e){var t,r=function(){l.exit(e)};if(!l.terminationHandler)return r();s(t=l.terminationHandler(e))?t.then(r,r):r()},h=null,l.on("message",(function(e){var t,r;if(e===p)return l.cleanupAndExit(0);try{if(!(t=l.methods[e.method]))throw Error('Unknown method "'+e.method+'"');h=e.id,s(r=t.apply(t,e.params))?r.then((function(t){t instanceof u?l.send({id:e.id,result:t.message,error:null},t.transfer):l.send({id:e.id,result:t,error:null}),h=null})).catch((function(t){l.send({id:e.id,result:null,error:i(t)}),h=null})):(r instanceof u?l.send({id:e.id,result:r.message,error:null},r.transfer):l.send({id:e.id,result:r,error:null}),h=null)}catch(n){l.send({id:e.id,result:null,error:i(n)})}})),l.register=function(e,t){if(e)for(var r in e)e.hasOwnProperty(r)&&(l.methods[r]=e[r]);t&&(l.terminationHandler=t.onTerminate),l.send("ready")},l.emit=function(e){if(h){if(e instanceof u)return void l.send({id:h,isEvent:!0,payload:e.message},e.transfer);l.send({id:h,isEvent:!0,payload:e})}},t.add=l.register,t.emit=l.emit}},o={},i={};return function(){var t=i,r=e(828);t.pool=function(t,r){return new(e(345))(t,r)},t.worker=function(t,r){e(744).add(t,r)},t.workerEmit=function(t){e(744).emit(t)},t.Promise=e(219),t.Transfer=e(577),t.platform=r.platform,t.isMainThread=r.isMainThread,t.cpus=r.cpus}(),i}()},e.exports=n()})("/",r(46))},641:function(e,t,r){"use strict";const n=new Int32Array(15),o={_get_init_state:(e,t,r,n,o,i)=>({canvas_event_target:"CANVAS_WRAPPER_OVERFLOW",canvas_container:{top:0,left:0,height:0,width:0},sizes:{width:0|e,height:0|t},screen_zoom_ratio:1,canvas_wrapper:{padding:0|n,border_width:0|o},scale:{default:r,current:r,move_x:0,move_y:0,moves_speeds:[],move_speed_timestamp:0|Date.now(),moves_speed_average_now:16},device_pixel_ratio:window.devicePixelRatio,perspective:i}),_get_screen_zoom_ratio:e=>e.canvas_container.width>e.canvas_container.height?(e.canvas_container.height-e.canvas_wrapper.padding/e.device_pixel_ratio*2)/e.sizes.height:(e.canvas_container.width-e.canvas_wrapper.padding/e.device_pixel_ratio*2)/e.sizes.width,_get_pos:(e,t,r)=>(n[0]=2*Math.round(e.canvas_wrapper.padding/e.device_pixel_ratio*e.scale.current+e.canvas_wrapper.border_width)|0,n[1]=Math.round(e.sizes.width*t*e.scale.current)+n[0]|0,n[2]=Math.round(e.sizes.height*t*e.scale.current)+n[0]|0,n[3]=0|e.scale.move_x,n[4]=0|e.scale.move_y,n[5]=e.canvas_container.left+n[3]|0,n[6]=e.canvas_container.top+n[4]|0,n[7]=n[5]+n[1]|0,n[8]=n[6]+n[2]|0,n[9]=n[0]/2|0,n[10]=n[0]/2|0,n[11]=n[5]+n[9]|0,n[12]=n[6]+n[10]|0,n[13]=n[7]-n[0]/2|0,n[14]=n[8]-n[0]/2|0,void 0===r&&(r={}),void 0===r.canvas&&(r.canvas={}),r.canvas.offset_left=n[9],r.canvas.offset_top=n[10],r.canvas.left=n[11],r.canvas.top=n[12],r.canvas.right=n[13],r.canvas.bottom=n[14],r.canvas.width=n[13]-n[11]|0,r.canvas.height=n[14]-n[12]|0,void 0===r.canvas_wrapper&&(r.canvas_wrapper={}),r.canvas_wrapper.offset_left=n[3],r.canvas_wrapper.offset_top=n[4],r.canvas_wrapper.left=n[5],r.canvas_wrapper.top=n[6],r.canvas_wrapper.right=n[7],r.canvas_wrapper.bottom=n[8],r.canvas_wrapper.width=n[7]-n[5]|0,r.canvas_wrapper.height=n[8]-n[6]|0,void 0===r.canvas_container&&(r.canvas_container={}),r.canvas_container.offset_left=0|e.canvas_container.left,r.canvas_container.offset_top=0|e.canvas_container.top,r.canvas_container.left=0|e.canvas_container.left,r.canvas_container.top=0|e.canvas_container.top,r.canvas_container.right=e.canvas_container.left+e.canvas_container.width|0,r.canvas_container.bottom=e.canvas_container.top+e.canvas_container.height|0,r.canvas_container.width=0|e.canvas_container.width,r.canvas_container.height=0|e.canvas_container.height,r),_get_init_pointer_state:()=>({event_button:null,mouse_down:!1,pointer_events:new Map,previous_single_pointer_down_timestamp:0,previous_double_pointer_down_timestamp:0,latest_pointers_distance:0,latest_pointers_client_x_center:0,latest_pointers_client_y_center:0,previous_double_pointer_move_timestamp:0}),_copy_event:e=>({pointerId:0|e.pointerId,clientX:0|e.clientX,clientY:0|e.clientY,pageX:0|e.pageX,pageY:0|e.pageY,button:0|e.button}),_get_shadows(e){function t(t){const n=r.to_rgba_from_hex(r.format_hex_color(e));let o=r.to_hex_from_rgba(Uint8ClampedArray.of(n[0],n[1],n[2],parseInt(142.8))),i=r.to_hex_from_rgba(Uint8ClampedArray.of(n[0],n[1],n[2],parseInt(91.8))),s=r.to_hex_from_rgba(Uint8ClampedArray.of(n[0],n[1],n[2],parseInt(.24*255)));return Array.of(`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px ${o}`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px ${i}`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px ${s}`).join(",")}const r={format_hex_color(e){const t=0|e.length;if(void 0===e)return"#00000000";{let r="",n="",o="",i="",s="#12345678";switch(t){case 9:s=e;break;case 7:s=e.concat("ff");break;case 5:r=e.charAt(1),n=e.charAt(2),o=e.charAt(3),i=e.charAt(4),s="#".concat(r,r,n,n,o,o,i,i);break;case 4:r=e.charAt(1),n=e.charAt(2),o=e.charAt(3),s="#".concat(r,r,n,n,o,o,"ff")}return s}},to_hex_from_rgba:e=>"#".concat("00000000".concat(new Uint32Array(e.reverse().buffer)[0].toString(16)).slice(-8)),to_rgba_from_hex:e=>new Uint8ClampedArray(Uint32Array.of(parseInt(e.slice(1),16)).buffer).reverse()};return Array.of("",t([0,2,1,-1,0,1,1,0,0,1,3,0]),t([0,3,1,-2,0,2,2,0,0,1,5,0]),t([0,3,3,-2,0,3,4,0,0,1,8,0]),t([0,2,4,-1,0,4,5,0,0,1,10,0]),t([0,3,5,-1,0,5,8,0,0,1,14,0]),t([0,3,5,-1,0,6,10,0,0,1,18,0]),t([0,4,5,-2,0,7,10,1,0,2,16,1]),t([0,5,5,-3,0,8,10,1,0,3,14,2]),t([0,5,6,-3,0,9,12,1,0,3,16,2]),t([0,6,6,-3,0,10,14,1,0,4,18,3]),t([0,6,7,-4,0,11,15,1,0,4,20,3]),t([0,7,8,-4,0,12,17,2,0,5,22,4]),t([0,7,8,-4,0,13,19,2,0,5,24,4]),t([0,7,9,-4,0,14,21,2,0,5,26,4]),t([0,8,9,-5,0,15,22,2,0,6,28,5]),t([0,8,10,-5,0,16,24,2,0,6,30,5]),t([0,8,11,-5,0,17,26,2,0,6,32,5]),t([0,9,11,-5,0,18,28,2,0,7,34,6]),t([0,9,12,-6,0,19,29,2,0,7,36,6]),t([0,10,13,-6,0,20,31,3,0,8,38,7]),t([0,10,13,-6,0,21,33,3,0,8,40,7]),t([0,10,14,-6,0,22,35,3,0,8,42,7]),t([0,11,14,-7,0,23,36,3,0,9,44,8]),t([0,11,15,-7,0,24,38,3,0,9,46,8]))},from(e,t,r,n,o,i){const s=this._get_screen_zoom_ratio,a=this._get_init_state,c=this._get_init_pointer_state,h=this._get_pos,u=this._get_shadows;this._copy_event;let f=!1,p=u("#020529"),l=c(),d=a(e,t,r,n,o,i),_=s(d),m=h(d,_),y={update(){},menu(){},move(){},up(){},down(){},middle(){},ripple(){}},g=null,w=null,v={box_shadow:"",will_change:!1};return{init_speed_interval:function(){null!==g?setTimeout(this.set_move_speed_average_now,5):g=setInterval(this.set_move_speed_average_now,20)},set_canvas_wrapper:function(e,t){d.canvas_wrapper={padding:e,border_width:t},_=s(d),m=h(d,_),this.set_current_scale_default()},set_canvas_container:function(e,t,r,n){d.canvas_container={top:e,left:t,height:r,width:n},_=s(d),m=h(d,_),this.set_current_scale_default()},set_sizes:function(e,t){d.sizes={width:e,height:t},d.scale.moves_speed_average_now=16,_=s(d),m=h(d,_)},set_perspective:function(e){d.perspective=e},get_pointer_state:function(){return l},get_perspective_state:function(){return w||{}},get_screen_zoom_ratio:function(){return Math.fround(parseFloat(_)).toFixed(2)},compute_perspective_from_pointer_event:function(e,t){if(e|=0,t|=0,!(d.perspective>0))return;const r=e-m.canvas_container.left|0,n=t-m.canvas_container.top|0,o=d.perspective*(r-m.canvas_container.width/2)/(m.canvas_container.width/2),i=-d.perspective*(n-m.canvas_container.height/2)/(m.canvas_container.height/2),s=o>d.perspective?o:2*o,a=i<0?i:2*i,c=255-s/2*255,h=a/2*255,u=(1.25*s/d.scale.current*1e3|0)/1e3,f=(1.25*a/d.scale.current*1e3|0)/1e3,p=!(!f&&!u),l=p?`rotateX(${f}deg) rotateY(${u}deg)`:"",_=p?`linear-gradient(to right, rgba(\n                            ${c.toFixed(3)},\n                            ${c.toFixed(3)},\n                            ${c.toFixed(3)}, \n                            ${(Math.abs(.1*s)/(2*d.perspective)).toFixed(2)}\n                            ), rgba(\n                            ${c.toFixed(3)},\n                            ${c.toFixed(3)},\n                            ${c.toFixed(3)}, \n                            ${(Math.abs(.6*s)/(2*d.perspective)).toFixed(2)}\n                            )), linear-gradient(to top, rgba(\n                            ${h.toFixed(3)},\n                            ${h.toFixed(3)},\n                            ${h.toFixed(3)}, \n                            ${(Math.abs(.75*a)/(2*d.perspective)).toFixed(2)}\n                            ), rgba(\n                            ${h.toFixed(3)},\n                            ${h.toFixed(3)},\n                            ${h.toFixed(3)}, \n                            ${(Math.abs(.25*a)/(2*d.perspective)).toFixed(2)}\n                            ))`:"",y=(1+(-u+f)/80).toFixed(2);w={transform_rotate:l,background_image:_,filter:p?`brightness(${y}) contrast(${y})`:""}},set_pointer_state:function(e){var t="",r=!1;for(t in"mouse_down"in e&&l.mouse_down!==e.mouse_down&&(r=!0),e)l[t]=e[t];r&&this.notify_cursor()},set_moves:function(e,t,r,n){r=r||null,n=n||function(){};let o=Date.now();const{scale:i,canvas_event_target:a}=d,c="CANVAS_WRAPPER_OVERFLOW"!==a?18:24;let{move_x:u,move_y:f,moves_speeds:p,move_speed_timestamp:l,current:y}=i;const g=o-l|0,w=u-e|0,v=f-t|0,b=0|Math.min(Math.round((0|Math.sqrt(w*w+v*v))/g*200),200);p.push(b),p.length>=c&&p.shift();let A=p.slice(-c).reduce(((e,t,r,n)=>e+t/n.length),0);A=Math.max(1,Math.round(Math.floor(A*c/200)));const C=!(null===r);d.scale.default=Math.fround(parseFloat(i.default)),d.scale.current=Math.fround(parseFloat(C?r:y)),d.scale.move_x=0|e,d.scale.move_y=0|t,d.scale.move_speed_timestamp=Date.now(),d.scale.moves_speeds=p,d.scale.moves_speed_average_now=null!==r&&r>y?c:null!==r&&r<y?0:parseInt(A),_=s(d),m=h(d,_,m),this.notify_moved(n)},set_notifiers:function(e=function(){},t=function(){},r=function(){},n=function(){},o=function(){},i=function(){},s=function(){},a=function(){}){y={update:e,menu:t,move:r,up:n,down:o,middle:i,cursor:s,ripple:a}},notify_moved:function(e){y.update(!1,!1,e)},notify_menu:function(e,t){setTimeout((function(){y.menu(e)}),t|=0)},notify_move:function(e){y.move(e)},notify_up:function(e){y.up(e)},notify_down:function(e){y.down(e)},notify_ripple:function(e){y.ripple(e)},notify_middle:function(){y.middle(!1,!1)},notify_cursor:function(){y.cursor(l.mouse_down,d.canvas_event_target)},set_shadow_color:function(e){p=u(e)},set_zoom:function(e=1,t,r,n=0,o=0,i=function(){}){const{scale:s,canvas_container:a,canvas_wrapper:c}=d,{current:h,move_y:u,move_x:f}=s;let p=h*e;if(!(p>6||p<1/6)){let e,s,l=1-h/p,d=p/h;if(t&&r?(e=t-a.left|0,s=r-a.top|0):(e=a.width/2|0,s=a.height/2|0),0===n&&0===o)this.set_moves(f,u,p,i);else{let t=(f-e*l)*d+n|0,r=(u-s*l)*d+o|0;const h=(a.width-c.width)/2|0,_=(a.height-c.height)/2|0,m=3/4*c.width+h,y=3/4*c.height+_;r-=_,t-=h;let g=Math.min(Math.abs(t),m)*(t<0?-1:1)+h,w=Math.min(Math.abs(r),y)*(r<0?-1:1)+_;this.set_moves(g,w,p,i)}}},handle_wheel:function({deltaY:e,pageY:t,pageX:r,movementX:n=0,movementY:o=0}){const{canvas_container:i,canvas_wrapper:s}=this.get_pos(),{move_x:a,move_y:c,current:h}=d.scale;let u=Math.max(Math.min(.125,Math.abs(-.01*e)),.25);u=-.01*e>0?u:-u;let f=h+u*h*(.9/Math.pow(h<1?1/h:h,1.6));if(!(f>6||f<1/6)){let e,u,p=1-h/f,l=f/h;r&&t?(e=r-i.left|0,u=t-i.top|0):(e=i.width/2|0,u=i.height/2|0);let d=(a-e*p)*l+n|0,_=(c-u*p)*l+o|0;const m=(i.width-s.width)/2|0,y=(i.height-s.height)/2|0,g=3/4*s.width+m,w=3/4*s.height+y;_-=y,d-=m;let v=Math.min(Math.abs(d),g)*(d<0?-1:1)+m,b=Math.min(Math.abs(_),w)*(_<0?-1:1)+y;this.set_moves(v,b,f)}},handle_move:function(e,t,r,n){const{canvas_container:o,canvas_wrapper:i}=this.get_pos(),{move_x:s,move_y:a}=d.scale,c=(o.width-i.width)/2|0,h=(o.height-i.height)/2|0,u=3/4*i.width+c|0,f=3/4*i.height+h|0,p=s+(r-e|0)-h|0,l=a+(n-t|0)-c|0,_=p<0?-1:1,m=Math.min(Math.abs(p),u)*_+c|0,y=Math.min(Math.abs(l),f)*_+h|0;this.set_moves(m,y)},set_boolean_move_on_click:function(e){f=e},handle_pointer_down:function(e){e.preventDefault();const{canvas_event_target:t}=d;let{latest_pointers_distance:r,latest_pointers_client_x_center:n,latest_pointers_client_y_center:o,previous_single_pointer_down_timestamp:i,previous_double_pointer_down_timestamp:s,pointer_events:a}=this.get_pointer_state();const c=parseInt(i),h=parseInt(s);a.set(""+e.pointerId,e);const u=!(1!==a.size),f=!(2!==a.size);i=u?Date.now():c,s=f?Date.now():h,this.set_pointer_state({pointer_events:a,mouse_down:!0,event_button:parseInt(e.button),latest_pointers_distance:f?0:parseFloat(r),previous_single_pointer_down_timestamp:parseInt(i),previous_double_pointer_down_timestamp:parseInt(s),latest_pointers_client_x_center:parseInt(e.clientX),latest_pointers_client_y_center:parseInt(e.clientY)}),2===parseInt(e.button||0)||Math.abs(i-c)<200&&Math.abs(n-e.clientX)<20&&Math.abs(o-e.clientY)<20?this.notify_menu(e,180):u&&h+200>Date.now()||!u&&"mouse"!==e.pointerType||"CANVAS"!==t||this.notify_down(e),"CANVAS_WRAPPER_OVERFLOW"===t&&this.notify_ripple(e)},handle_pointer_up:function(e){e.preventDefault();const{canvas_event_target:t}=d;let{pointer_events:r}=this.get_pointer_state();r.delete(""+e.pointerId),this.set_pointer_state({pointer_events:r,mouse_down:!(0===r.size)}),this.notify_up(e),("CANVAS_WRAPPER_OVERFLOW"===t&&1===e.which||"CANVAS"!==t)&&this.notify_moved()},handle_pointer_move:function(e){e.preventDefault();const t=""+d.canvas_event_target;this.compute_canvas_event_target(parseInt(e.pageX),parseInt(e.pageY));const r=""+d.canvas_event_target;let{mouse_down:n,event_button:o,pointer_events:i,latest_pointers_distance:s,latest_pointers_client_x_center:a,latest_pointers_client_y_center:c,previous_double_pointer_move_timestamp:h,previous_single_pointer_down_timestamp:u}=this.get_pointer_state();if(i.set(""+e.pointerId,e),2===i.size){const e=Array.from(i.values()),t=e[0].clientX-e[1].clientX,r=e[0].clientY-e[1].clientY,n=Math.sqrt(t*t+r*r),o=parseInt(e[0].clientX+e[1].clientX)/2,h=parseInt(e[0].clientY+e[1].clientY)/2,f=parseInt(e[0].pageX+e[1].pageX)/2,p=parseInt(e[0].pageY+e[1].pageY)/2,l=o-a,_=h-c,m=d.scale.move_x+l,y=d.scale.move_y+_,g=s>0?parseFloat(n/s):1,w={pointer_events:i,latest_pointers_distance:parseFloat(n),latest_pointers_client_x_center:parseInt(o),latest_pointers_client_y_center:parseInt(h),previous_double_pointer_move_timestamp:Date.now()};if(u+30<Date.now()){const{canvas_container:e,canvas_wrapper:t}=this.get_pos(),{current:r}=d.scale;let n=r*g;if(!(n>6||n<1/6)){let o,i,s=1-r/n,a=n/r;o=f-e.left|0,i=p-e.top|0;let c=(m-o*s)*a+l|0,h=(y-i*s)*a+_|0;const u=(e.width-t.width)/2|0,d=(e.height-t.height)/2|0,g=3/4*t.width+u,w=3/4*t.height+d;h-=d,c-=u;let v=Math.min(Math.abs(c),g)*(c<0?-1:1)+u,b=Math.min(Math.abs(h),w)*(h<0?-1:1)+d;this.set_moves(v,b,n)}this.set_pointer_state(w)}else this.set_pointer_state(w)}else if(n&&1===i.size){const t={pointer_events:i,latest_pointers_client_x_center:parseInt(e.clientX),latest_pointers_client_y_center:parseInt(e.clientY),previous_double_pointer_move_timestamp:parseInt(h)};"CANVAS"!==r||"CANVAS"===r&&0===o&&f||1===o?h+200<Date.now()||1===o?(this.set_pointer_state(t),this._handle_canvas_move(parseInt(e.clientX-a),parseInt(e.clientY-c))):this.set_pointer_state(t):(this.set_pointer_state(t),this.notify_move(e))}else t!==r?(this.notify_move(e),this.notify_moved()):"CANVAS"===r&&this.notify_move(e)},_handle_canvas_move:function(e,t){const{canvas_container:r,canvas_wrapper:n}=this.get_pos(),{move_x:o,move_y:i}=d.scale,s=(r.width-n.width)/2,a=(r.height-n.height)/2,c=3/4*n.width+s,h=3/4*n.height+a;let u=o+e,f=i+t;f-=a,u-=s;const p=Math.min(Math.abs(u),c)*(u<0?-1:1)+s,l=Math.min(Math.abs(f),h)*(f<0?-1:1)+a;this.set_moves(p,l)},new:function(e,t,r,n,o,i){p=u("#020529"),l=c(),d=a(e,t,r,n,o,i),_=s(d),m=h(d,_),y={moved(){},menu(){},canvas(){},up(){}}},destroy:function(){p=null,f=null,l=null,d=null,m=null,y=null},get_pos:function(){return m},get_state:function(){return d},get_style:function(){return v.msan=d.scale.moves_speed_average_now,v.box_shadow=p[v.msan<0?Math.round(Math.abs(v.msan)/2):v.msan],v},get_canvas_pos_from_event:function(e,t){const{canvas:r}=this.get_pos(),{width:n,height:o}=d.sizes,i=parseInt(e)-r.left,s=parseInt(t)-r.top;let a=Math.floor(n*(i/r.width)),c=Math.floor(o*(s/r.height));return a=a!==Math.max(Math.min(a,n-1),0)?-1:a,c=c!==Math.max(Math.min(c,o-1),0)?-1:c,-1!==a&&-1!==c||(a=-1,c=-1),[a,c]},set_current_scale_default:function(){d.scale.current=parseFloat(d.scale.default),_=s(d),m=h(d,_,m),this.set_canvas_moves_middle()},set_canvas_moves_middle:function(){const{canvas_container:e,canvas_wrapper:t}=this.get_pos(),r=parseInt(parseInt(e.width-t.width)/2),n=parseInt(parseInt(e.height-t.height)/2);this.set_moves(r,n,null,this.notify_middle)},compute_canvas_event_target:function(e,t){e|=0,t|=0,this.compute_perspective_from_pointer_event(e,t);const{canvas:r,canvas_wrapper:n}=m;let o="CANVAS_WRAPPER_OVERFLOW",i=!1;e>=r.left&&t>=r.top&&e<=r.right&&t<=r.bottom?o="CANVAS":e>=n.left&&t>=n.top&&e<=n.right&&t<=n.bottom&&(o="CANVAS_WRAPPER"),d.canvas_event_target!==o&&(i=!0,d.canvas_event_target=o),i&&this.notify_cursor()},set_move_speed_average_now:function(){if(!d)return;const e="CANVAS_WRAPPER_OVERFLOW"!==d.canvas_event_target?18:24,t=Date.now();if(t-d.scale.move_speed_timestamp>=20&&d.scale.moves_speed_average_now>-e){const r=Math.max(d.scale.moves_speed_average_now-1,-e);d.scale.moves_speed_average_now=r,d.scale.move_speed_timestamp=0|t,y.update(!0,!0)}else t-d.scale.move_speed_timestamp>=20&&d.scale.moves_speed_average_now<-e&&e<24?(d.scale.moves_speed_average_now=0|Math.max(d.scale.moves_speed_average_now+1,-e),d.scale.move_speed_timestamp=0|t,y.update(!0,!0)):d.perspective>0&&y.update(!0,!0)}}}};e.exports=o}}]);