/*! For license information please see chunk_34.min.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{1013:function(e,t,r){"use strict";function n(e,t,r,n,s,o,i){const c=t[0],u=o[0],d=Array(u),h=Array(c),l=t[1];if(0===u){if(0!==c)throw Error(a.ie.getSparseFillEmptyRowsIndicesDenseShapeMismatch(c));return[a.Si.getArrayFromDType(r,0),[0,l],a.Si.getArrayFromDType(s,0),d,h]}let p=!0,f=0;const g=Array(u).fill(0);for(let b=0;b<c;++b){const t=e[b*l];if(t<0)throw Error(a.ie.getSparseFillEmptyRowsNegativeIndexErrorMessage(b,t));if(t>=u)throw Error(a.ie.getSparseFillEmptyRowsOutOfRangeIndexErrorMessage(b,t,u));++g[t],p=p&&t>=f,f=t}let m=!0;for(let a=0;a<u;++a){const e=0===g[a];d[a]=e,m=m&&!e,g[a]=Math.max(g[a],1),a>0&&(g[a]+=g[a-1])}if(m&&p){const t=e,r=n;for(let e=0;e<c;++e)h[e]=e;return[t,[c,l],r,d,h]}{const t=g[u-1],o=a.Si.getArrayFromDType(r,t*l),p=a.Si.getArrayFromDType(s,t),f=Array(u).fill(0);for(let r=0;r<c;++r){const t=e[r*l],a=f[t],s=(0===t?0:g[t-1])+a;f[t]++;for(let n=0;n<l;++n)o[s*l+n]=e[r*l+n];p[s]=n[r],h[r]=s}for(let e=0;e<u;++e)if(0===f[e]){const t=0===e?0:g[e-1];o[t*l+0]=e;for(let e=1;e<l;++e)o[t*l+e]=0;p[t]=i}return[o,[t,l],p,d,h]}}r.d(t,"a",(function(){return n}));var a=r(616)},1014:function(e,t,r){"use strict";function n(e,t,r,n,s){const o=a.Si.sizeFromShape(n),i=t[0],c=s.length,u=[];let d=1,h=-1;for(let m=0;m<c;++m){const e=s[m];if(-1===e){if(-1!==h)throw Error(a.ie.getSparseReshapeMultipleNegativeOneOutputDimErrorMessage(h,m));h=m,u.push(1)}else{if(e<0)throw Error(a.ie.getSparseReshapeNegativeOutputDimErrorMessage(m,e));d*=e,u.push(e)}}if(-1!==h){if(d<=0)throw Error(a.ie.getSparseReshapeEmptyTensorZeroOutputDimErrorMessage());const e=Math.trunc(o/d);if(d*e!==o)throw Error(a.ie.getSparseReshapeInputOutputMultipleErrorMessage(n,u));u[h]=e}if(a.Si.sizeFromShape(u)!==o)throw Error(a.ie.getSparseReshapeInputOutputMismatchErrorMessage(n,u));const l=n.length,p=[];if(l>0){p[l-1]=1;for(let e=l-2;e>=0;--e)p[e]=p[e+1]*n[e+1]}const f=[];if(c>0){f[c-1]=1;for(let e=c-2;e>=0;--e)f[e]=f[e+1]*u[e+1]}const g=a.Si.getArrayFromDType(r,i*c);for(let a=0;a<i;++a){let t=0;for(let r=0;r<l;++r)t+=e[a*l+r]*p[r];for(let e=0;e<c;++e)g[a*c+e]=Math.trunc(t/f[e]),t%=f[e]}return[g,[i,c],u]}r.d(t,"a",(function(){return n}));var a=r(616)},1015:function(e,t,r){"use strict";var n,a,s;r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return c})),n=r(616),a=r(697),s=r(631);const o=Object(a.a)((e=>Math.sqrt(e))),i=Object(s.a)(n.qd,(e=>Math.sqrt(e))),c={kernelName:n.qd,backendName:"cpu",kernelFunc:i}},1016:function(e,t,r){"use strict";var n,a,s;r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return c})),n=r(616),a=r(655),s=r(663);const o=Object(a.a)(((e,t)=>{const r=e-t;return r*r})),i=Object(s.a)(n.sd,o),c={kernelName:n.sd,backendName:"cpu",kernelFunc:i}},1017:function(e,t,r){"use strict";var n,a,s;r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return c})),n=r(616),a=r(697),s=r(631);const o=Object(a.a)(((e,t)=>{const{pattern:r,replaceGlobal:n,rewrite:a}=t;return e.replace(RegExp(r,n?"g":""),a)})),i=Object(s.b)(n.td,o),c={kernelName:n.td,backendName:"cpu",kernelFunc:i}},1018:function(e,t,r){"use strict";function n(e,t,r,n){const s=Object(a.we)(e,t.dtype);for(let a=0;a<s.size;a++){const e=s.indexToLoc(a),o=Array(e.length);for(let t=0;t<o.length;t++)o[t]=e[t]*r[t]+n[t];s.set(t.get(...o),...e)}return s}r.d(t,"a",(function(){return n}));var a=r(616)},1019:function(e,t,r){"use strict";function n(e,t,r,n,a,o,i,c){return new s(r,n,a,o,i,c).compute(e,t)}r.d(t,"a",(function(){return n}));var a=r(616);class s{constructor(e,t,r,n,s,o){this.separator=a.Si.encodeString(e),this.nGramWidths=t,this.leftPad=a.Si.encodeString(r),this.rightPad=a.Si.encodeString(n),this.padWidth=s,this.preserveShort=o}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,t){const r=this.getPadWidth(t);return Math.max(0,e+2*r-t+1)}createNGrams(e,t,r,n,a,s){for(let o=0;o<a;++o){const i=this.getPadWidth(s),c=Math.max(0,i-o),u=Math.max(0,i-(a-(o+1))),d=s-(c+u),h=t+(c>0?0:o-i);let l=0;l+=c*this.leftPad.length;for(let t=0;t<d;++t)l+=e[h+t].length;l+=u*this.rightPad.length,l+=(c+u+d-1)*this.separator.length,r[n+o]=new Uint8Array(l);const p=r[n+o];let f=0;const g=e=>e.forEach((e=>p[f++]=e));for(let e=0;e<c;++e)g(this.leftPad),g(this.separator);for(let t=0;t<d-1;++t)g(e[h+t]),g(this.separator);if(d>0){g(e[h+d-1]);for(let e=0;e<u;++e)g(this.separator),g(this.rightPad)}else{for(let e=0;e<u-1;++e)g(this.rightPad),g(this.separator);g(this.rightPad)}}}compute(e,t){const r=e.length,n=t.length;if(n>0){let e=t[0];if(0!==e)throw Error("First split value must be 0, got "+e);for(let a=1;a<n;++a){let n=t[a]>=e;if(n=n&&t[a]<=r,!n)throw Error(`Invalid split value ${t[a]}, must be in [${e}, ${r}]`);e=t[a]}if(e!==r)throw Error(`Last split value must be data size. Expected ${r}, got ${e}`)}const s=n-1,o=a.Si.getArrayFromDType("int32",n);if(0===r||0===n){const e=Array(r);for(let t=0;t<=s;++t)o[t]=0;return[e,o]}o[0]=0;for(let a=1;a<=s;++a){const e=t[a]-t[a-1];let r=0;this.nGramWidths.forEach((t=>{r+=this.getNumNGrams(e,t)})),this.preserveShort&&e>0&&0===r&&(r=1),o[a]=o[a-1]+r}const i=Array(o[s]);for(let a=0;a<s;++a){const r=t[a];let n=o[a];if(this.nGramWidths.forEach((s=>{const o=t[a+1]-t[a],c=this.getNumNGrams(o,s);this.createNGrams(e,r,i,n,c,s),n+=c})),this.preserveShort&&n===o[a]){const s=t[a+1]-t[a];if(0===s)continue;const o=s+2*this.padWidth,c=1;this.createNGrams(e,r,i,n,c,o)}}return[i,o]}}},1020:function(e,t,r){"use strict";function n(e,t,r,n){if(!e.length)return;if(0===t.length){for(let t=0;t<e.length;++t)n.push(e.subarray(t,t+1));return}if(1===t.length){const a=t[0];let s=e.indexOf(a);for(;-1!==s;){const t=e.subarray(0,s);r&&0===t.length||n.push(t),s=(e=e.subarray(s+1)).indexOf(a)}return void(r&&0===e.length||n.push(e))}let a=0;for(let s=0;s<e.length+1;s++)if(s===e.length||-1!==t.indexOf(e[s])){const t=e.subarray(a,s);r&&0===t.length||n.push(t),a=s+1}}function a(e,t,r){const a=e.length,o=[];let i=0,c=0;const u=Array(a);for(let s=0;s<a;++s){const a=o.length;n(e[s],t,r,o);const d=o.length-a;u[s]=d,i+=d,c=Math.max(c,d)}const d=s.Si.getArrayFromDType("int32",2*i),h=Array(i),l=[a,c];let p=0;for(let n=0;n<a;++n)for(let e=0;e<u[n];++e)d[2*p]=n,d[2*p+1]=e,h[p]=o[p],++p;return[d,h,l]}r.d(t,"a",(function(){return a}));var s=r(616)},1021:function(e,t,r){"use strict";function n(e,t){const r=a.Si.getArrayFromDType("int32",e.length);for(let n=0;n<e.length;++n)r[n]=a.Si.fingerPrint64(e[n]).modulo(t).getLowBitsUnsigned();return r}r.d(t,"a",(function(){return n}));var a=r(616)},1910:function(e,t,r){"use strict";var n,a,s,o,i;r.d(t,"a",(function(){return c})),n=r(616),a=r(624),s=r(1225),o=r(666),i=r(682);const c={kernelName:n.jd,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:r,attrs:c}=e,{x:u}=t,{blockShape:d,paddings:h}=c;Object(a.a)([u],"spaceToBatchND");const l=n.Si.sizeFromShape(d),p=[[0,0]];p.push(...h);for(let n=1+d.length;n<u.shape.length;++n)p.push([0,0]);const f=s.a.kernelFunc({inputs:{x:u},backend:r,attrs:{paddings:p,constantValue:0}}),g=n.ie.getReshaped(f.shape,d,l,!1),m=n.ie.getPermuted(g.length,d.length,!1),b=n.ie.getReshapedPermuted(f.shape,d,l,!1),k={x:f},v={shape:g},S=Object(o.a)({inputs:k,backend:r,attrs:v}),I={x:S},y={perm:m},w=Object(i.a)({inputs:I,backend:r,attrs:y}),E={x:w},N={shape:b},O=Object(o.a)({inputs:E,backend:r,attrs:N});return r.disposeIntermediateTensorInfo(f),r.disposeIntermediateTensorInfo(S),r.disposeIntermediateTensorInfo(w),O}}},1911:function(e,t,r){"use strict";var n,a;r.d(t,"a",(function(){return s})),n=r(616),a=r(1013);const s={kernelName:n.kd,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:r}=e,{indices:n,values:s,denseShape:o,defaultValue:i}=t;if(1!==o.shape.length)throw Error("Dense shape must be a vector, saw:\n        "+o.shape);if(2!==n.shape.length)throw Error("Indices must be a matrix, saw:\n        "+n.shape);if(1!==s.shape.length)throw Error("Values must be a vector, saw:\n        "+s.shape);if(0!==i.shape.length)throw Error("Default value must be a scalar, saw:\n        "+i.shape);const c=r.data.get(n.dataId).values,u=r.data.get(s.dataId).values,d=r.data.get(o.dataId).values,h=r.data.get(i.dataId).values[0],[l,p,f,g,m]=Object(a.a)(c,n.shape,n.dtype,u,s.dtype,d,h);return[r.makeTensorInfo(p,n.dtype,l),r.makeTensorInfo([p[0]],s.dtype,f),r.makeTensorInfo([g.length],"bool",new Uint8Array(g.map((e=>Number(e))))),r.makeTensorInfo([m.length],n.dtype,new Int32Array(m))]}}},1912:function(e,t,r){"use strict";var n,a;r.d(t,"a",(function(){return s})),n=r(616),a=r(1014);const s={kernelName:n.ld,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:r}=e,{inputIndices:n,inputShape:s,newShape:o}=t;if(2!==n.shape.length)throw Error("Input indices should be a matrix but received shape\n        "+n.shape);if(1!==s.shape.length)throw Error("Input shape should be a vector but received shape\n        "+s.shape);if(1!==o.shape.length)throw Error("Target shape should be a vector but received shape "+o.shape);const i=Array.from(r.data.get(s.dataId).values),c=r.data.get(n.dataId).values,u=Array.from(r.data.get(o.dataId).values),[d,h,l]=Object(a.a)(c,n.shape,n.dtype,i,u);return[r.makeTensorInfo(h,n.dtype,d),r.makeTensorInfo([l.length],o.dtype,new Int32Array(l))]}}},1913:function(e,t,r){"use strict";var n,a;r.d(t,"a",(function(){return s})),n=r(616),a=r(894);const s={kernelName:n.md,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:r}=e,{data:n,indices:s,segmentIds:o}=t;if(n.shape.length<1)throw Error("Data should be at least 1 dimensional but received scalar");if(1!==s.shape.length)throw Error("Indices should be a vector but received shape\n          "+s.shape);if(1!==o.shape.length)throw Error("Segment ids should be a vector but received shape\n          "+o.shape);if(s.shape[0]!==o.shape[0])throw Error("segmentIds and indices should have same size.");const i=r.data.get(n.dataId).values,c=r.data.get(s.dataId).values,u=r.data.get(o.dataId).values,[d,h]=Object(a.a)(i,n.shape,n.dtype,c,u,!0);return r.makeTensorInfo(h,n.dtype,d)}}},1914:function(e,t,r){"use strict";var n,a;r.d(t,"a",(function(){return s})),n=r(616),a=r(894);const s={kernelName:n.nd,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:r}=e,{data:n,indices:s,segmentIds:o}=t;if(n.shape.length<1)throw Error("Data should be at least 1 dimensional but received scalar");if(1!==s.shape.length)throw Error("Indices should be a vector but received shape\n         "+s.shape);if(1!==o.shape.length)throw Error("Segment ids should be a vector but received shape\n         "+o.shape);if(s.shape[0]!==o.shape[0])throw Error("segmentIds and indices should have same size.");const i=r.data.get(n.dataId).values,c=r.data.get(s.dataId).values,u=r.data.get(o.dataId).values,[d,h]=Object(a.a)(i,n.shape,n.dtype,c,u);return r.makeTensorInfo(h,n.dtype,d)}}},1915:function(e,t,r){"use strict";var n,a;r.d(t,"a",(function(){return s})),n=r(616),a=r(821);const s={kernelName:n.od,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:r,attrs:s}=e,{sparseIndices:o,sparseValues:i,defaultValue:c}=t,{outputShape:u}=s,{sliceRank:d,numUpdates:h,sliceSize:l,strides:p,outputSize:f}=n.ie.calculateShapes(i,o,u),g=!1,m=r.bufferSync(o);let b;switch(i.dtype){case"bool":{const e=r.bufferSync(i),t=!!r.data.get(c.dataId).values[0];b=Object(a.a)(m,e,u,f,l,h,d,p,t,g);break}case"float32":{const e=r.bufferSync(i),t=r.data.get(c.dataId).values[0];b=Object(a.a)(m,e,u,f,l,h,d,p,t,g);break}case"int32":{const e=r.bufferSync(i),t=r.data.get(c.dataId).values[0];b=Object(a.a)(m,e,u,f,l,h,d,p,t,g);break}case"string":{const e=r.bufferSync(i),t=n.Si.decodeString(r.data.get(c.dataId).values[0]);b=Object(a.a)(m,e,u,f,l,h,d,p,t,g);break}default:throw Error("Unsupported type "+i.dtype)}return r.makeTensorInfo(u,b.dtype,b.values)}}},1916:function(e,t,r){"use strict";var n,a;r.d(t,"a",(function(){return s})),n=r(616),a=r(728);const s={kernelName:n.pd,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:r,attrs:s}=e,{x:o}=t,{numOrSizeSplits:i,axis:c}=s,u=n.Si.parseAxisParam(c,o.shape)[0],d=n.ie.prepareSplitSize(o,i,u),h=Array(o.shape.length).fill(0),l=o.shape.slice();return d.map((e=>{const t=[...l];t[u]=e;const n=Object(a.a)({inputs:{x:o},backend:r,attrs:{begin:h,size:t}});return h[u]+=e,n}))}}},1917:function(e,t,r){"use strict";var n,a;r.d(t,"a",(function(){return s})),n=r(616),a=r(624);const s={kernelName:n.rd,backendName:"cpu",kernelFunc:({inputs:e,backend:t})=>{const{x:r}=e,n=t;Object(a.a)(r,"square");const s=n.data.get(r.dataId).values,o=new Float32Array(s.length);for(let a=0;a<s.length;++a){const e=s[a];o[a]=e*e}return{dataId:n.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}}},1918:function(e,t,r){"use strict";var n,a;r.d(t,"a",(function(){return o})),n=r(616),a=r(631);const s=Object(a.a)(n.ud,((e,t)=>{const r=t;return isNaN(e)?NaN:e>0?1:r.alpha})),o={kernelName:n.ud,backendName:"cpu",kernelFunc:s}},1919:function(e,t,r){"use strict";var n,a,s,o,i;r.d(t,"a",(function(){return c})),n=r(616),a=r(624),s=r(666),o=r(728),i=r(1018);const c={kernelName:n.vd,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:r,attrs:c}=e,{x:u}=t,{begin:d,end:h,strides:l,beginMask:p,endMask:f,ellipsisMask:g,newAxisMask:m,shrinkAxisMask:b}=c;Object(a.a)(u,"stridedSlice");const{finalShapeSparse:k,finalShape:v,isIdentity:S,sliceDim0:I,isSimpleSlice:y,begin:w,end:E,strides:N}=n.Zh.sliceInfo(u.shape,d,h,l,p,f,g,m,b);let O;if(S)O=Object(s.a)({inputs:{x:u},backend:r,attrs:{shape:v}});else if(I||y){n.Si.assert(u.shape.length>=1,(()=>"Input must have rank at least 1, got: "+u.shape.length));const e=n.Zh.computeOutShape(w,E,N),t=Object(o.a)({inputs:{x:u},backend:r,attrs:{begin:w,size:e}});O=Object(s.a)({inputs:{x:t},backend:r,attrs:{shape:v}}),r.disposeIntermediateTensorInfo(t)}else{const e=r.bufferSync(u),t=Object(i.a)(k,e,N,w);O=r.makeTensorInfo(v,t.dtype,t.values)}return O}}},1920:function(e,t,r){"use strict";var n,a;r.d(t,"a",(function(){return s})),n=r(616),a=r(1019);const s={kernelName:n.wd,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:r,attrs:n}=e,{separator:s,nGramWidths:o,leftPad:i,rightPad:c,padWidth:u,preserveShortSequences:d}=n,{data:h,dataSplits:l}=t,p=r.data.get(h.dataId).values,f=r.data.get(l.dataId).values,[g,m]=Object(a.a)(p,f,s,o,i,c,u,d);return[r.makeTensorInfo([g.length],"string",g),r.makeTensorInfo(l.shape,"int32",m)]}}},1921:function(e,t,r){"use strict";var n,a;r.d(t,"a",(function(){return s})),n=r(616),a=r(1020);const s={kernelName:n.xd,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:r,attrs:n}=e,{skipEmpty:s}=n,{input:o,delimiter:i}=t;if("string"!==o.dtype)throw Error("Input must be of datatype string");if(1!==o.shape.length)throw Error("Input must be a vector, got shape: "+o.shape);if(0!==i.shape.length)throw Error("Delimiter must be a scalar, got shape: "+i.shape);const c=r.data.get(o.dataId).values,u=r.data.get(i.dataId).values[0],[d,h,l]=Object(a.a)(c,u,s),p=h.length;return[r.makeTensorInfo([p,2],"int32",d),r.makeTensorInfo([p],"string",h),r.makeTensorInfo([2],"int32",new Int32Array(l))]}}},1922:function(e,t,r){"use strict";var n,a;r.d(t,"a",(function(){return s})),n=r(616),a=r(1021);const s={kernelName:n.yd,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:r,attrs:n}=e,{numBuckets:s}=n,{input:o}=t;if("string"!==o.dtype)throw Error("Input must be of datatype string");if(s<=0)throw Error("Number of buckets must be at least 1");const i=r.data.get(o.dataId).values,c=Object(a.a)(i,s);return r.makeTensorInfo(o.shape,"int32",c)}}},894:function(e,t,r){"use strict";function n(e,t,r,n,s,o=!1,i=0){const c=n.length,u=[t[0],e.length/t[0]],d=u[1],h=c>0?s[c-1]+1:0;if(h<0)throw Error(a.ie.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());const l=t.slice();l[0]=h;const p=l.reduce(((e,t)=>e*t),1),f=a.Si.getArrayFromDType(r,p);if(0===c)return h>0&&f.fill(i),[f,l];if(h<=0)throw Error(a.ie.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());let g=0,m=1,b=0,k=s[g];for(;;){let t=0;if(m<c){if(t=s[m],k===t){++m;continue}if(k>=t)throw Error(a.ie.getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage())}if(k<0||k>=h)throw Error(a.ie.getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage(k,h));k>b&&f.fill(i,b*d,k*d);for(let r=g;r<m;++r){const t=n[r];if(t<0||t>=u[0])throw Error(a.ie.getSparseSegmentReductionIndicesOutOfRangeErrorMessage(r,n[r],u[0]));for(let r=0;r<d;r++)f[k*d+r]+=e[t*d+r]}if(o)for(let e=0;e<d;e++)f[k*d+e]/=m-g;if(g=m,++m,b=k+1,k=t,m>c)break}return b<h&&f.fill(i,b*d,h*d),[f,l]}r.d(t,"a",(function(){return n}));var a=r(616)}}]);