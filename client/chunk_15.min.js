/*! For license information please see chunk_15.min.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{610:function(e,t,o){var r,n,a,i;e.exports=(r={characters:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,o,n,a,i,l,s,c="",d=0;for(e=r.utf8Encode(e);d<e.length;)a=(t=e.charCodeAt(d++))>>2,i=(3&t)<<4|(o=e.charCodeAt(d++))>>4,l=(15&o)<<2|(n=e.charCodeAt(d++))>>6,s=63&n,isNaN(o)?l=s=64:isNaN(n)&&(s=64),c=c+this.characters.charAt(a)+this.characters.charAt(i)+this.characters.charAt(l)+this.characters.charAt(s);return c},utf8Encode:function(e){var t,o,r;for(e=e.replace(/\r\n/g,"\n"),t="",o=0;o<e.length;o++)(r=e.charCodeAt(o))<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128));return t}},n=function(e){return"string"==typeof e?"string":"undefined"!=typeof SVGElement&&e instanceof SVGElement?"element":void 0},a=function(e){var t=(new XMLSerializer).serializeToString(e);return i(t)},i=function(e){return"data:image/svg+xml;base64,"+r.encode(e)},function(e){switch(n(e)){case"string":return i(e);case"element":return a(e);default:return e}})},633:function(e,t,o){(function(t,o){var r;"undefined"!=typeof self&&self,r=function(){return function(){function e(t){var o,a=n[t];return void 0!==a?a.exports:(o=n[t]={exports:{}},r[t](o,o.exports,e),o.exports)}var r={345:function(e,t,o){function r(e,t){"string"==typeof e?this.script=e||null:(this.script=null,t=e),this.workers=[],this.tasks=[],t=t||{},this.forkArgs=Object.freeze(t.forkArgs||[]),this.forkOpts=Object.freeze(t.forkOpts||{}),this.debugPortStart=t.debugPortStart||43210,this.nodeWorker=t.nodeWorker,this.workerType=t.workerType||t.nodeWorker||"auto",this.maxQueueSize=t.maxQueueSize||1/0,this.onCreateWorker=t.onCreateWorker||function(){return null},this.onTerminateWorker=t.onTerminateWorker||function(){return null},t&&"maxWorkers"in t?(function(e){if(!n(e)||!a(e)||e<1)throw new TypeError("Option maxWorkers must be an integer number >= 1")}(t.maxWorkers),this.maxWorkers=t.maxWorkers):this.maxWorkers=Math.max((s.cpus||4)-1,1),t&&"minWorkers"in t&&("max"===t.minWorkers?this.minWorkers=this.maxWorkers:(function(e){if(!n(e)||!a(e)||e<0)throw new TypeError("Option minWorkers must be an integer number >= 0")}(t.minWorkers),this.minWorkers=t.minWorkers,this.maxWorkers=Math.max(this.minWorkers,this.maxWorkers)),this._ensureMinWorkers()),this._boundNext=this._next.bind(this),"thread"===this.workerType&&l.ensureWorkerThreads()}function n(e){return"number"==typeof e}function a(e){return Math.round(e)==e}var i=o(219),l=o(751),s=o(828),c=new(o(833));r.prototype.exec=function(e,t,o){var r,n,a,l;if(t&&!Array.isArray(t))throw new TypeError('Array expected as argument "params"');if("string"==typeof e){if(r=i.defer(),this.tasks.length>=this.maxQueueSize)throw new Error("Max queue size of "+this.maxQueueSize+" reached");return n=this.tasks,a={method:e,params:t,resolver:r,timeout:null,options:o},n.push(a),l=r.promise.timeout,r.promise.timeout=function(e){return-1!==n.indexOf(a)?(a.timeout=e,r.promise):l.call(r.promise,e)},this._next(),r.promise}if("function"==typeof e)return this.exec("run",[String(e),t]);throw new TypeError('Function or string expected as argument "method"')},r.prototype.proxy=function(){if(arguments.length>0)throw new Error("No arguments expected");var e=this;return this.exec("methods").then((function(t){var o={};return t.forEach((function(t){o[t]=function(){return e.exec(t,Array.prototype.slice.call(arguments))}})),o}))},r.prototype._next=function(){var e,t,o,r;this.tasks.length>0&&(e=this._getWorker())&&(t=this,(o=this.tasks.shift()).resolver.promise.pending?(r=e.exec(o.method,o.params,o.resolver,o.options).then(t._boundNext).catch((function(){if(e.terminated)return t._removeWorker(e)})).then((function(){t._next()})),"number"==typeof o.timeout&&r.timeout(o.timeout)):t._next())},r.prototype._getWorker=function(){var e,t,o=this.workers;for(e=0;e<o.length;e++)if(!1===(t=o[e]).busy())return t;return o.length<this.maxWorkers?(t=this._createWorkerHandler(),o.push(t),t):null},r.prototype._removeWorker=function(e){var t=this;return c.releasePort(e.debugPort),this._removeWorkerFromList(e),this._ensureMinWorkers(),new i((function(o,r){e.terminate(!1,(function(n){t.onTerminateWorker({forkArgs:e.forkArgs,forkOpts:e.forkOpts,script:e.script}),n?r(n):o(e)}))}))},r.prototype._removeWorkerFromList=function(e){var t=this.workers.indexOf(e);-1!==t&&this.workers.splice(t,1)},r.prototype.terminate=function(e,t){var o,r,n=this;return this.tasks.forEach((function(e){e.resolver.reject(new Error("Pool terminated"))})),this.tasks.length=0,o=function(e){this._removeWorkerFromList(e)}.bind(this),r=[],this.workers.slice().forEach((function(a){var i=a.terminateAndNotify(e,t).then(o).always((function(){n.onTerminateWorker({forkArgs:a.forkArgs,forkOpts:a.forkOpts,script:a.script})}));r.push(i)})),i.all(r)},r.prototype.stats=function(){var e=this.workers.length,t=this.workers.filter((function(e){return e.busy()})).length;return{totalWorkers:e,busyWorkers:t,idleWorkers:e-t,pendingTasks:this.tasks.length,activeTasks:t}},r.prototype._ensureMinWorkers=function(){if(this.minWorkers)for(var e=this.workers.length;e<this.minWorkers;e++)this.workers.push(this._createWorkerHandler())},r.prototype._createWorkerHandler=function(){var e=this.onCreateWorker({forkArgs:this.forkArgs,forkOpts:this.forkOpts,script:this.script})||{};return new l(e.script||this.script,{forkArgs:e.forkArgs||this.forkArgs,forkOpts:e.forkOpts||this.forkOpts,debugPort:c.nextAvailableStartingAt(this.debugPortStart),workerType:this.workerType})},e.exports=r},219:function(e){"use strict";function t(e,a){var i,l,s,c,d,u=this;if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if("function"!=typeof e)throw new SyntaxError("Function parameter handler(resolve, reject) missing");i=[],l=[],this.resolved=!1,this.rejected=!1,this.pending=!0,s=function(e,t){i.push(e),l.push(t)},this.then=function(e,r){return new t((function(t,n){var a=e?o(e,t,n):t,i=r?o(r,t,n):n;s(a,i)}),u)},c=function(e){return u.resolved=!0,u.rejected=!1,u.pending=!1,i.forEach((function(t){t(e)})),s=function(t,o){t(e)},c=d=function(){},u},d=function(e){return u.resolved=!1,u.rejected=!0,u.pending=!1,l.forEach((function(t){t(e)})),s=function(t,o){o(e)},c=d=function(){},u},this.cancel=function(){return a?a.cancel():d(new r),u},this.timeout=function(e){if(a)a.timeout(e);else{var t=setTimeout((function(){d(new n("Promise timed out after "+e+" ms"))}),e);u.always((function(){clearTimeout(t)}))}return u},e((function(e){c(e)}),(function(e){d(e)}))}function o(e,t,o){return function(r){try{var n=e(r);n&&"function"==typeof n.then&&"function"==typeof n.catch?n.then(t,o):t(n)}catch(a){o(a)}}}function r(e){this.message=e||"promise cancelled",this.stack=(new Error).stack}function n(e){this.message=e||"timeout exceeded",this.stack=(new Error).stack}t.prototype.catch=function(e){return this.then(null,e)},t.prototype.always=function(e){return this.then(e,e)},t.all=function(e){return new t((function(t,o){var r=e.length,n=[];r?e.forEach((function(e,a){e.then((function(e){n[a]=e,0==--r&&t(n)}),(function(e){r=0,o(e)}))})):t(n)}))},t.defer=function(){var e={};return e.promise=new t((function(t,o){e.resolve=t,e.reject=o})),e},r.prototype=new Error,r.prototype.constructor=Error,r.prototype.name="CancellationError",t.CancellationError=r,n.prototype=new Error,n.prototype.constructor=Error,n.prototype.name="TimeoutError",t.TimeoutError=n,e.exports=t},751:function(e,r,n){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function l(){var e=c();if(!e)throw new Error("WorkerPool: workerType = 'thread' is not supported, Node >= 11.7.0 required");return e}function s(){if("function"!=typeof Worker&&("object"!==("undefined"==typeof Worker?"undefined":i(Worker))||"function"!=typeof Worker.prototype.constructor))throw new Error("WorkerPool: Web Workers not supported")}function c(){try{return g("worker_threads")}catch(e){if("object"===i(e)&&null!==e&&"MODULE_NOT_FOUND"===e.code)return null;throw e}}function d(e,t){var o=new t(e);return o.isBrowserWorker=!0,o.on=function(e,t){this.addEventListener(e,(function(e){t(e.data)}))},o.send=function(e){this.postMessage(e)},o}function u(e,t){var o=new t.Worker(e,{stdout:!1,stderr:!1});return o.isWorkerThread=!0,o.send=function(e){this.postMessage(e)},o.kill=function(){return this.terminate(),!0},o.disconnect=function(){this.terminate()},o}function p(e,t,o){var r=o.fork(e,t.forkArgs,t.forkOpts);return r.isChildProcess=!0,r}function _(e){var t,r,n,a;return e=e||{},r=-1!==(t=o.execArgv.join(" ")).indexOf("--inspect"),n=-1!==t.indexOf("--debug-brk"),a=[],r&&(a.push("--inspect="+e.debugPort),n&&a.push("--debug-brk")),o.execArgv.forEach((function(e){e.indexOf("--max-old-space-size")>-1&&a.push(e)})),Object.assign({},e,{forkArgs:e.forkArgs,forkOpts:Object.assign({},e.forkOpts,{execArgv:(e.forkOpts&&e.forkOpts.execArgv||[]).concat(a)})})}function h(e,o){function r(e){for(var t in h.terminated=!0,h.processing)void 0!==h.processing[t]&&h.processing[t].resolver.reject(e);h.processing=Object.create(null)}var i,h=this,f=o||{};this.script=e||function(){if("browser"===m.platform){if("undefined"==typeof Blob)throw new Error("Blob not supported by the browser");if(!window.URL||"function"!=typeof window.URL.createObjectURL)throw new Error("URL.createObjectURL not supported by the browser");var e=new Blob([n(670)],{type:"text/javascript"});return window.URL.createObjectURL(e)}return t+"/worker.js"}(),this.worker=function(e,t){if("web"===t.workerType)return s(),d(e,Worker);if("thread"===t.workerType)return u(e,o=l());if("process"!==t.workerType&&t.workerType){if("browser"===m.platform)return s(),d(e,Worker);var o=c();return o?u(e,o):p(e,_(t),g("child_process"))}return p(e,_(t),g("child_process"))}(this.script,f),this.debugPort=f.debugPort,this.forkOpts=f.forkOpts,this.forkArgs=f.forkArgs,e||(this.worker.ready=!0),this.requestQueue=[],this.worker.on("message",(function(e){var t,o;h.terminated||("string"==typeof e&&"ready"===e?(h.worker.ready=!0,function(){var e,t,o=function(e,t){var o,r,n,i,l,s="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!s){if(Array.isArray(e)||(s=function(e,t){if(e){if("string"==typeof e)return a(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?a(e,t):void 0}}(e)))return s&&(e=s),o=0,{s:r=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return n=!0,i=!1,{s:function(){s=s.call(e)},n:function(){var e=s.next();return n=e.done,e},e:function(e){i=!0,l=e},f:function(){try{n||null==s.return||s.return()}finally{if(i)throw l}}}}(h.requestQueue.splice(0));try{for(o.s();!(e=o.n()).done;)t=e.value,h.worker.send(t)}catch(r){o.e(r)}finally{o.f()}}()):(t=e.id,void 0!==(o=h.processing[t])&&(e.isEvent?o.options&&"function"==typeof o.options.on&&o.options.on(e.payload):(delete h.processing[t],!0===h.terminating&&h.terminate(),e.error?o.resolver.reject(function(e){var t,o=new Error(""),r=Object.keys(e);for(t=0;t<r.length;t++)o[r[t]]=e[r[t]];return o}(e.error)):o.resolver.resolve(e.result)))))})),i=this.worker,this.worker.on("error",r),this.worker.on("exit",(function(e,t){var o="Workerpool Worker terminated Unexpectedly\n";o+="    exitCode: `"+e+"`\n",o+="    signalCode: `"+t+"`\n",o+="    workerpool.script: `"+h.script+"`\n",o+="    spawnArgs: `"+i.spawnargs+"`\n",o+="    spawnfile: `"+i.spawnfile+"`\n",o+="    stdout: `"+i.stdout+"`\n",o+="    stderr: `"+i.stderr+"`\n",r(new Error(o))})),this.processing=Object.create(null),this.terminating=!1,this.terminated=!1,this.terminationHandler=null,this.lastId=0}var f=n(219),m=n(828),g=n(397),b="__workerpool-terminate__";h.prototype.methods=function(){return this.exec("methods")},h.prototype.exec=function(e,t,o,r){var n,a,i;return o||(o=f.defer()),n=++this.lastId,this.processing[n]={id:n,resolver:o,options:r},a={id:n,method:e,params:t},this.terminated?o.reject(new Error("Worker is terminated")):this.worker.ready?this.worker.send(a):this.requestQueue.push(a),i=this,o.promise.catch((function(e){if(e instanceof f.CancellationError||e instanceof f.TimeoutError)return delete i.processing[n],i.terminateAndNotify(!0).then((function(){throw e}),(function(e){throw e}));throw e}))},h.prototype.busy=function(){return Object.keys(this.processing).length>0},h.prototype.terminate=function(e,t){var o,r,n,a=this;if(e){for(o in this.processing)void 0!==this.processing[o]&&this.processing[o].resolver.reject(new Error("Worker terminated"));this.processing=Object.create(null)}if("function"==typeof t&&(this.terminationHandler=t),this.busy())this.terminating=!0;else{if(r=function(e){if(a.terminated=!0,null!=a.worker&&a.worker.removeAllListeners&&a.worker.removeAllListeners("message"),a.worker=null,a.terminating=!1,a.terminationHandler)a.terminationHandler(e,a);else if(e)throw e},this.worker){if("function"==typeof this.worker.kill)return this.worker.killed?void r(new Error("worker already killed!")):void(this.worker.isChildProcess?(n=setTimeout((function(){a.worker&&a.worker.kill()}),1e3),this.worker.once("exit",(function(){clearTimeout(n),a.worker&&(a.worker.killed=!0),r()})),this.worker.ready?this.worker.send(b):this.requestQueue.push(b)):(this.worker.kill(),this.worker.killed=!0,r()));if("function"!=typeof this.worker.terminate)throw new Error("Failed to terminate worker");this.worker.terminate(),this.worker.killed=!0}r()}},h.prototype.terminateAndNotify=function(e,t){var o=f.defer();return t&&(o.promise.timeout=t),this.terminate(e,(function(e,t){e?o.reject(e):o.resolve(t)})),o.promise},e.exports=h,e.exports._tryRequireWorkerThreads=c,e.exports._setupProcessWorker=p,e.exports._setupBrowserWorker=d,e.exports._setupWorkerThreadWorker=u,e.exports.ensureWorkerThreads=l},833:function(e){"use strict";function t(){this.ports=Object.create(null),this.length=0}e.exports=t,t.prototype.nextAvailableStartingAt=function(e){for(;!0===this.ports[e];)e++;if(e>=65535)throw new Error("WorkerPool debug port limit reached: "+e+">= 65535");return this.ports[e]=!0,this.length++,e},t.prototype.releasePort=function(e){delete this.ports[e],this.length--}},828:function(e,t,r){var n,a=r(397),i=function(e){return void 0!==e&&null!=e.versions&&null!=e.versions.node};e.exports.isNode=i,e.exports.platform=void 0!==o&&i(o)?"node":"browser",n=function(e){try{return a("worker_threads")}catch(t){return null}}(),e.exports.isMainThread="node"===e.exports.platform?(!n||n.isMainThread)&&!o.connected:"undefined"!=typeof Window,e.exports.cpus="browser"===e.exports.platform?self.navigator.hardwareConcurrency:a("os").cpus().length},670:function(e){e.exports='!function(){var __webpack_exports__={};!function(){var exports=__webpack_exports__,__webpack_unused_export__;function _typeof(r){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}var requireFoolWebpack=eval("typeof require !== \'undefined\' ? require : function (module) { throw new Error(\'Module \\" + module + \\" not found.\') }"),TERMINATE_METHOD_ID="__workerpool-terminate__",worker={exit:function(){}},WorkerThreads,parentPort;if("undefined"!=typeof self&&"function"==typeof postMessage&&"function"==typeof addEventListener)worker.on=function(r,e){addEventListener(r,function(r){e(r.data)})},worker.send=function(r){postMessage(r)};else{if("undefined"==typeof process)throw new Error("Script must be executed as a worker");try{WorkerThreads=requireFoolWebpack("worker_threads")}catch(error){if("object"!==_typeof(error)||null===error||"MODULE_NOT_FOUND"!==error.code)throw error}WorkerThreads&&null!==WorkerThreads.parentPort?(parentPort=WorkerThreads.parentPort,worker.send=parentPort.postMessage.bind(parentPort),worker.on=parentPort.on.bind(parentPort)):(worker.on=process.on.bind(process),worker.send=process.send.bind(process),worker.on("disconnect",function(){process.exit(1)}),worker.exit=process.exit.bind(process))}function convertError(o){return Object.getOwnPropertyNames(o).reduce(function(r,e){return Object.defineProperty(r,e,{value:o[e],enumerable:!0})},{})}function isPromise(r){return r&&"function"==typeof r.then&&"function"==typeof r.catch}worker.methods={},worker.methods.run=function(r,e){r=new Function("return ("+r+").apply(null, arguments);");return r.apply(r,e)},worker.methods.methods=function(){return Object.keys(worker.methods)};var currentRequestId=null;worker.on("message",function(e){if(e===TERMINATE_METHOD_ID)return worker.exit(0);try{var r=worker.methods[e.method];if(!r)throw new Error(\'Unknown method "\'+e.method+\'"\');currentRequestId=e.id;var o=r.apply(r,e.params);isPromise(o)?o.then(function(r){worker.send({id:e.id,result:r,error:null}),currentRequestId=null}).catch(function(r){worker.send({id:e.id,result:null,error:convertError(r)}),currentRequestId=null}):(worker.send({id:e.id,result:o,error:null}),currentRequestId=null)}catch(r){worker.send({id:e.id,result:null,error:convertError(r)})}}),worker.register=function(r){if(r)for(var e in r)r.hasOwnProperty(e)&&(worker.methods[e]=r[e]);worker.send("ready")},worker.emit=function(r){currentRequestId&&worker.send({id:currentRequestId,isEvent:!0,payload:r})},__webpack_unused_export__=worker.register,worker.emit}()}();'},397:function(e){var t=eval("typeof require !== 'undefined' ? require : function (module) { throw new Error('Module \" + module + \" not found.') }");e.exports=t},744:function(e,t){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e){return Object.getOwnPropertyNames(e).reduce((function(t,o){return Object.defineProperty(t,o,{value:e[o],enumerable:!0})}),{})}function a(e){return e&&"function"==typeof e.then&&"function"==typeof e.catch}var i,l,s,c=eval("typeof require !== 'undefined' ? require : function (module) { throw new Error('Module \" + module + \" not found.') }"),d="__workerpool-terminate__",u={exit:function(){}};if("undefined"!=typeof self&&"function"==typeof postMessage&&"function"==typeof addEventListener)u.on=function(e,t){addEventListener(e,(function(e){t(e.data)}))},u.send=function(e){postMessage(e)};else{if(void 0===o)throw new Error("Script must be executed as a worker");try{i=c("worker_threads")}catch(p){if("object"!==r(p)||null===p||"MODULE_NOT_FOUND"!==p.code)throw p}i&&null!==i.parentPort?(l=i.parentPort,u.send=l.postMessage.bind(l),u.on=l.on.bind(l)):(u.on=o.on.bind(o),u.send=o.send.bind(o),u.on("disconnect",(function(){o.exit(1)})),u.exit=o.exit.bind(o))}u.methods={},u.methods.run=function(e,t){var o=new Function("return ("+e+").apply(null, arguments);");return o.apply(o,t)},u.methods.methods=function(){return Object.keys(u.methods)},s=null,u.on("message",(function(e){var t,o;if(e===d)return u.exit(0);try{if(!(t=u.methods[e.method]))throw new Error('Unknown method "'+e.method+'"');s=e.id,a(o=t.apply(t,e.params))?o.then((function(t){u.send({id:e.id,result:t,error:null}),s=null})).catch((function(t){u.send({id:e.id,result:null,error:n(t)}),s=null})):(u.send({id:e.id,result:o,error:null}),s=null)}catch(r){u.send({id:e.id,result:null,error:n(r)})}})),u.register=function(e){if(e)for(var t in e)e.hasOwnProperty(t)&&(u.methods[t]=e[t]);u.send("ready")},u.emit=function(e){s&&u.send({id:s,isEvent:!0,payload:e})},t.add=u.register,t.emit=u.emit}},n={},a={};return function(){var t=a,o=e(828);t.pool=function(t,o){return new(e(345))(t,o)},t.worker=function(t){e(744).add(t)},t.workerEmit=function(t){e(744).emit(t)},t.Promise=e(219),t.platform=o.platform,t.isMainThread=o.isMainThread,t.cpus=o.cpus}(),a}()},e.exports=r()}).call(this,"/",o(46))},635:function(e,t,o){"use strict";e.exports=function(){}},700:function(e,t,o){"use strict";const r={_create_state(){const e=window.requestAnimationFrame||window.oRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,t=window.cancelAnimationFrame||window.oCancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame;return Object.assign({},{raf:e,caf:t,caf_id:{},lasts_raf_time:{},previous_cpaf_fps:{},cpaf_frames:{},is_mobile_or_tablet:Boolean(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(navigator.userAgent||navigator.vendor||window.opera)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent||navigator.vendor||window.opera.substr(0,4)))})},init(){let e,t=parseInt(Date.now()).toString(16),o=this._create_state;window._sraf_state=window._sraf_state||{},window._sraf_state[t]=o();let r=function(){};return{start_timer:function(){clearInterval(e),e&&clearInterval(e),window._sraf_state[t]=o(),e=setInterval((function(){window._sraf_state[t].second_previous_cpaf_fps=parseInt(window._sraf_state[t].previous_cpaf_fps),window._sraf_state[t].previous_cpaf_fps=2*window._sraf_state[t].cpaf_frames|0,window._sraf_state[t].cpaf_frames=0,r((window._sraf_state[t].second_previous_cpaf_fps+window._sraf_state[t].previous_cpaf_fps|0)/2|0)}),500)},set_notify_fps_callback(e=function(){}){r=e},destroy(o=function(){}){null!==window._sraf_state[t]?(clearInterval(e),window._sraf_state[t]={},o()):o("ok")},run_frame:(e,o,r,n,a)=>(o=o||!1,r=r||!1,n=n||Date.now(),a="_"+a,new Promise((function(i,l){function s(){window._sraf_state[t].lasts_raf_time[a]=0|n,e().then((function(){window._sraf_state[t].cpaf_frames++,c===window._sraf_state[t].caf_id[a]&&(window._sraf_state[t].caf_id=null),i()})).catch(l)}var c;if(n<(0|window._sraf_state[t].lasts_raf_time[a]))i();else{let e=Math.max(window._sraf_state[t].second_previous_cpaf_fps+window._sraf_state[t].previous_cpaf_fps|0,window._sraf_state[t].is_mobile_or_tablet?20:40),n=!0,d=Date.now()-window._sraf_state[t].lasts_raf_time[a];d>1e3/e&&(n=!1),r||!n||null!==window._sraf_state[t].caf_id[a]&&d>1e3/(1.5*e)?(null!==window._sraf_state[t].caf_id[a]&&(window._sraf_state[t].caf.call(window,window._sraf_state[t].caf_id[a]),window._sraf_state[t].caf_id[a]=null),c=0|window._sraf_state[t].caf_id[a],o?window._sraf_state[t].raf.call(window,s):window._sraf_state[t].caf_id[a]=window._sraf_state[t].raf.call(window,s)):d<1e3/(2*e)?setTimeout(this,1e3/(1.75*e),i,l):r||o?setTimeout(this,1e3/(2.5*e),i,l):setTimeout(this,1e3/e,i,l)}}))),get_state:()=>window._sraf_state[t]}}};e.exports=r},755:function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n,a,i,l,s,c,d,u,p,_,h,f,m,g,b,w,y,x,k,v,E,C,S,L,I,T,z,O,R,B,W,N,P,j,M,A,D,H,F,U,$,q,V,G,X,K,Q,Y,Z,J,ee,te,oe,re,ne,ae,ie,le,se,ce,de,ue,pe,_e,he,fe,me,ge,be,we,ye,xe,ke,ve,Ee,Ce,Se,Le,Ie,Te,ze,Oe,Re,Be,We,Ne,Pe,je,Me,Ae,De,He,Fe,Ue,$e,qe,Ve,Ge,Xe,Ke,Qe,Ye,Ze,Je,et,tt,ot,rt,nt,at,it,lt,st,ct,dt,ut,pt,_t,ht,ft,mt,gt,bt,wt,yt,xt,kt,vt,Et,Ct,St,Lt,It,Tt,zt,Ot,Rt,Bt,Wt,Nt,Pt,jt,Mt,At,Dt,Ht,Ft,Ut;Object.defineProperty(t,"__esModule",{value:!0}),n=Object.assign||function(e){var t,o,r;for(t=1;t<arguments.length;t++)for(r in o=arguments[t])Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);return e},a=o(0),i=r(a),l=o(26),s=o(595),c=o(73),d=o(756),u=r(d),p=o(757),_=r(p),h=o(758),f=r(h),m=o(682),g=r(m),b=r(o(759)),w=o(777),y=o(795),x=r(y),k=o(796),v=r(k),E=o(799),C=o(800),S=r(C),L=o(801),I=r(L),T=o(802),z=r(T),O=o(803),R=r(O),B=o(804),W=r(B),N=o(805),P=r(N),j=o(806),M=r(j),A=o(807),D=r(A),H=o(808),F=r(H),U=o(809),$=r(U),q=o(810),V=r(q),G=o(811),X=r(G),K=o(812),Q=r(K),Y=o(813),Z=r(Y),J=o(676),ee=r(J),te=o(686),oe=r(te),re=o(814),ne=r(re),ae=o(687),ie=r(ae),le=o(688),se=r(le),ce=o(689),de=r(ce),ue=o(815),pe=r(ue),_e=o(816),he=r(_e),fe=o(817),me=r(fe),ge=o(818),be=r(ge),we=o(819),ye=r(we),xe=o(820),ke=r(xe),ve=o(690),Ee=r(ve),Ce=o(821),Se=r(Ce),Le=o(691),Ie=r(Le),Te=o(822),ze=r(Te),Oe=o(692),Re=r(Oe),Be=o(823),We=r(Be),Ne=o(693),Pe=r(Ne),je=o(694),Me=r(je),Ae=o(824),De=r(Ae),He=o(825),Fe=r(He),Ue=o(826),$e=r(Ue),qe=o(827),Ve=r(qe),Ge=o(828),Xe=r(Ge),Ke=o(829),Qe=r(Ke),Ye=o(830),Ze=r(Ye),Je=o(695),et=r(Je),tt=o(382),ot=r(tt),rt=o(696),nt=r(rt),at=o(643),it=r(at),lt=o(831),st=r(lt),ct=o(832),dt=r(ct),ut=o(833),pt=r(ut),_t=o(834),ht=r(_t),ft=o(835),mt=r(ft),gt=o(697),bt=r(gt),wt=o(836),yt=r(wt),xt=o(698),kt=r(xt),vt=o(837),Et=r(vt),Ct=o(699),St=r(Ct),Lt=o(838),It=r(Lt),Tt=o(839),zt=r(Tt),Ot=o(840),Rt=r(Ot),Bt=o(841),Wt=r(Bt),Nt=o(842),Pt=r(Nt),jt=o(66),Mt=r(jt),At=o(387),Dt=r(At),Ht=o(129),Ft=r(Ht);const{Color:$t}=(0,s.SIMDopeCreate)({create:{new_hex:!0,new_hsla:!0,new_of:!0},properties:{hex:!0,hsla:!0},methods:{get_slice:!0}}),qt=(0,w.virtualize)(b.default),Vt=["palette","image","layers","tools","selection","effects","filters"];class Gt extends i.default.PureComponent{constructor(e){super(e),Ut.call(this),this.st4te={classes:e.classes,canvas:e.canvas,is_mobile:e.is_mobile||!1,view_names:e.view_names,view_name_index:e.view_name_index,current_color:e.current_color,second_color:e.second_color,slider_value:parseFloat(e.slider_value),layers:e.layers,layer_index:e.layer_index,filter_layer_index:0,can_undo:e.can_undo,can_redo:e.can_redo,width:e.width,height:e.height,default_width:this.default_width?96:e.default_width||e.width||96,default_height:this.default_height?96:e.default_height||e.height||96,is_image_import_mode:e.is_image_import_mode,hide_canvas_content:e.hide_canvas_content,show_original_image_in_background:e.show_original_image_in_background,show_transparent_image_in_background:e.show_transparent_image_in_background,tool:e.tool,filters:e.filters,select_mode:e.select_mode,pencil_mirror_mode:e.pencil_mirror_mode,is_something_selected:e.is_something_selected,previous_view_name_index:e.previous_view_name_index,hue:e.hue,should_update:e.should_update||!1,slider_value_width:e.slider_value_width,slider_value_height:e.slider_value_height,_layer_opened:!1,_anchor_el:null,_saturation:60,_luminosity:60,_opacity:100,_history:c.HISTORY,too_much_colors_no_vector:!1,import_size:e.import_size,import_colorize:e.import_colorize,filters_thumbnail:e.filters_thumbnail||new Map,filters_preview_progression:e.filters_preview_progression||"0",last_filters_hash:"",_filter_aspect_ratio:"1 / 1",_filter_thumbnail_changed:!0,_compressed:!1,_upscale:!1,_vectorized:!1,_photo:!1,_crt:!1,_list_sub_header_opened:""},this._cache={palette:null,image:null,layers:null,tools:null,selection:null,effects:null,filters:null},this._cache_empty={palette:null,image:null,layers:null,tools:null,selection:null,effects:null,filters:null},Object.keys(this._cache).map((e=>{this.update_cache_view(e),this._cache_empty[e]=i.default.createElement(l.List,{key:"list-empty-"+e,style:{willChange:"none",minHeight:"100%",contain:"size style layout paint",overflow:"auto",contentVisibility:"hidden",paddingTop:0}})}))}setSt4te(e,t){let o=Object.keys(e),r=0|o.length,n="";for(let a=0;(0|a)<(0|r);a=(a+1|0)>>>0)n=o[a]+"",this.st4te[n]=e[n];"function"==typeof t&&t()}componentDidMount(){this.props.set_filters_callback&&this.props.set_filters_callback(this._handle_filters_thumbnail_change),this.props.set_props_callback&&this.props.set_props_callback(this._set_props)}componentWillReceiveProps(e){const{should_update:t,view_name_index:o,previous_view_name_index:r,layer_index:a,filter_layer_index:i,is_image_import_mode:l,hide_canvas_content:s,show_original_image_in_background:c,show_transparent_image_in_background:d,can_undo:u,can_redo:p,current_color:_,second_color:h,tool:f,width:m,height:g,filters_preview_progression:b,select_mode:w,pencil_mirror_mode:y,is_something_selected:x,import_size:k,import_colorize:v,layers:E}=this.st4te,C=Boolean(i!==e.layer_index),S=Boolean(u!==e.can_undo)||Boolean(p!==e.can_redo),L=Boolean(Boolean(Boolean(o!==e.view_name_index)||S||C)&&Boolean(6===e.view_name_index));let I=0;Array.from(e.layers).forEach((function(e){I<parseInt(e.number_of_colors)&&(I=parseInt(e.number_of_colors))}));const T=Boolean(I>256),z=Boolean(E.map((function(e,t){return t+"_"+e.hidden+"_"+e.opacity+"_"+e.number_of_colors+"_h"+e.thumbnail.hash})).join("-")!==e.layers.map((function(e,t){return t+"_"+e.hidden+"_"+e.opacity+"_"+e.number_of_colors+"_h"+e.thumbnail.hash})).join("-")),O=Boolean(o!==e.view_name_index),R=Boolean(Boolean(e.should_update||t)&&Boolean(z||w+""!=e.select_mode+""||Boolean(T)!==Boolean(this.st4te.too_much_colors_no_vector)||parseInt(a)!==parseInt(e.layer_index)||Boolean(l)!==Boolean(e.is_image_import_mode)||Boolean(s)!==Boolean(e.hide_canvas_content)||Boolean(c)!==Boolean(e.show_original_image_in_background)||Boolean(d)!==Boolean(e.show_transparent_image_in_background)||Boolean(u)!==Boolean(e.can_undo)||Boolean(p)!==Boolean(e.can_redo)||_+""!=e.current_color+""||h+""!=e.second_color+""||f+""!=e.tool+""||parseInt(m)!==parseInt(e.width)||parseInt(g)!==parseInt(e.height)||Boolean(y)!==Boolean(e.pencil_mirror_mode)||Boolean(x)!==Boolean(e.is_something_selected)||parseInt(k)!==parseInt(e.import_size)||(0|v)!=(0|e.import_colorize)));L&&this.compute_filters_preview(),this.setSt4te(n({},e,{},{slider_value:parseFloat(e.slider_value),too_much_colors_no_vector:T}),(()=>{R?this.update_cache_view(null,!0):O&&this.forceUpdate()}))}render(){return i.default.createElement(qt,{ignoreNativeScroll:!0,containerStyle:{overflow:"visible",contain:"size style",willChange:"inherit"},animateHeight:!0,animateTransitions:!0,disableLazyLoading:!0,resistance:!0,springConfig:{tension:450,friction:60,duration:"120ms",easeFunction:"cubic-bezier(0.4, 0, 0.2, 1)",delay:"5ms"},index:this.st4te.view_name_index,onChangeIndex:this._handle_view_name_change,disabled:!1,key:"swipe-able-view",slideRenderer:this.slideRenderer})}}Ut=function(){this._scroll_to_id=e=>{"function"==typeof this.props.on_scroll_to&&this.props.on_scroll_to(e)},this._handle_filters_thumbnail_change=(e,t,o)=>{if(o+="","0"===this.st4te.filters_preview_progression&&Mt.default.trigger_voice("filtering"),this.st4te._filters_changed){let t,o="",r=!1;for(let n=0;n<this.st4te.filters.length;n++)t=e[this.st4te.filters[n]]||{},Boolean(t)&&(o=`${t.width} / ${t.height}`,r=!0);o!==this.st4te._filter_aspect_ratio&&r&&this.setSt4te({_filters_changed:!1,_filter_aspect_ratio:o},(()=>{this.update_cache_view(null,!0)}))}this.setSt4te({filters_thumbnail:e,last_filters_hash:t,filters_preview_progression:o,filter_layer_index:this.st4te.layer_index},(()=>{"100"===o&&this.update_cache_view(null,!0)}))},this._set_props=e=>{this.componentWillReceiveProps(e)},this.compute_filters_preview=()=>{try{this.setSt4te({_filters_changed:!0},(()=>{this.st4te.canvas.compute_filters_preview()}))}catch(e){}},this._text_to_new_layer=()=>{this.props.on_request_draw_text()},this._to_filter=e=>{this.st4te.canvas.to_filter(e,this.st4te.slider_value),this.is_mobile||this.compute_filters_preview()},this.get_action_panel_names=()=>Vt,this.get_action_panel_cache=e=>this._cache[e],this._set_list_subheader_collapse=e=>{this.setSt4te({_list_sub_header_opened:this.st4te._list_sub_header_opened&&this.st4te._list_sub_header_opened===e?"":e},(()=>{this.update_cache_view(null,!0)}))},this._get_list_sub_header_content_scarlett=(e,t)=>{const o=this.st4te._list_sub_header_opened,r=this.st4te.classes;return i.default.createElement(i.default.Fragment,null,i.default.createElement(l.Collapse,{className:r.listSubHeaderCollapse,in:o===e},i.default.createElement("p",{className:r.listSubHeaderDescription},t)),o===e&&i.default.createElement("div",{className:r.listSubHeaderVideo},i.default.createElement("video",{id:"upload-video",width:"150",height:"150",style:{aspectRatio:"1",transform:"translateZ(10px)"},autoPlay:!0},i.default.createElement("source",{src:"/src/videos/"+e+".mp4",type:"video/mp4"})),i.default.createElement("div",{className:r.listSubHeaderVideoOverlay}),i.default.createElement("div",{className:r.listSubHeaderVideoFade})),i.default.createElement(l.IconButton,{className:r.listSubHeaderToggle,onClick:()=>{this._set_list_subheader_collapse(e)}},o===e?i.default.createElement(Ft.default,null):i.default.createElement(Dt.default,null)))},this._get_list_sub_header_classname=(e,t)=>{const o=this.st4te._list_sub_header_opened,r=this.st4te.classes;return o===e?r.listSubHeaderOpen:r.listSubHeader},this._get_colors=(e,t,o)=>{let r=[];for(let n=1;n<=128;n++)r.push($t.new_hsla(n/128*360|0,e,t,o).hex);return r},this.get_before_action_panel=e=>{const{classes:t,canvas:o,_anchor_el:r,layers:n,layer_index:a,_previous_layer_index:s,current_color:c,second_color:d,slider_value:p,width:_,height:h,_saturation:f,_luminosity:m,_opacity:g,_layer_opened:b,import_size:w,import_colorize:y,_list_sub_header_opened:k}=this.st4te,C=$t.new_hex(c),L={r:C.r,g:C.g,b:C.b,a:C.a/255},[T,z,O]="#ffffff"===c?[196,196,196]:$t.new_hex(c).get_slice(),R=T+z+O<456,[B,W,N]="#ffffff"===d?[196,196,196]:$t.new_hex(d).get_slice(),P=B+W+N<456;switch(this.get_action_panel_names()[e]){case"layers":return i.default.createElement("div",{key:"layers-layers-main",className:`swipetoolbox_i_${e}_0`},i.default.createElement(l.ListSubheader,{className:t.listSubHeader,onClick:()=>{this._scroll_to_id(`swipetoolbox_i_${e}_0`)}},i.default.createElement("span",null,i.default.createElement(u.default,null)),i.default.createElement("span",null,"All layers")),i.default.createElement("div",{key:"layers-wrapper-index-"+e},Array.from(n).reverse().map(((r,d,u)=>{const f=u.length-1-d;return void 0===r.colors?null:i.default.createElement("div",{key:"layers-list-item-n-"+f},i.default.createElement(l.ListItem,{divider:!0,className:a===f?t.layerSelected:null,button:!0,onClick:()=>this._change_active_layer(f)},i.default.createElement(l.ListItemAvatar,null,i.default.createElement("canvas",{className:"pixelated "+t.layerThumbnail+" "+e,ref:e=>{this._set_canvas_ref(e,r.thumbnail,!0)},key:"layer-n-"+f+"-w-"+r.thumbnail.width+"-h-"+r.thumbnail.height,width:r.thumbnail.width||0,height:r.thumbnail.height||0,style:{background:`repeating-conic-gradient(rgb(248 248 248 / 100%) 0% 25%, rgb(224 224 224 / 100%) 0% 50%) left top 50% / calc(200% / ${_}) calc(200% / ${h})`}})),i.default.createElement(l.ListItemText,{primary:r.name}),i.default.createElement(x.default,{className:b&&a===f?t.flipExpandMoreIcon:t.expandMoreIcon})),(a===f||s===f)&&i.default.createElement(l.Collapse,{timeout:{appear:250,enter:250,exit:250},in:b&&a===f,className:t.layerSelected},i.default.createElement("div",{style:{padding:"12px 0px 12px 32px"}},i.default.createElement("span",null,"Colours: (",r.colors.length,"/",r.number_of_colors,")"),i.default.createElement(v.default,{key:"layer-n-"+e+"-color-palette",transparent:!0,padding:"12px 0px",size:32,gap:"8px",colors:r.colors,selected_colors:Array.of(c),onColorClick:(e,t)=>{this._handle_current_color_change(t)}}),r.colors.length>=2?i.default.createElement("div",{style:{padding:"12px 0px"}},i.default.createElement(l.Button,{color:"primary",onClick:()=>this._less_colors_stepped(1)},"...Less colors")):null),i.default.createElement(l.Divider,{style:{marginLeft:24}}),i.default.createElement("div",{style:{padding:"12px 0px 12px 32px"}},i.default.createElement("span",null,"Actions:"),i.default.createElement("div",{style:{padding:"12px 0px"}},i.default.createElement(l.Button,{color:"primary",onClick:()=>{o.current_layer_up()}},"UP"),i.default.createElement(l.Button,{color:"primary",onClick:()=>{o.current_layer_down()}},"DOWN"),i.default.createElement(l.Button,{color:"primary",onClick:()=>{o.toggle_layer_visibility(a)}},(n[a]||{}).hidden?"SHOW":"HIDE"),i.default.createElement(l.Button,{color:"primary",onClick:()=>{o.change_layer_opacity(a,p)}},`OPACITY: ${(n[a]||{}).opacity} -> ${p}`)))))}))));case"palette":return i.default.createElement("div",{key:"palette-palette-main",className:`swipetoolbox_i_${e}_0`},i.default.createElement(l.Menu,{className:t.menu,anchorEl:r,anchorPosition:{vertical:"top",horizontal:"center"},keepMounted:!0,open:Boolean(r),onClose:this._handle_color_menu_close,style:{padding:0}},i.default.createElement(E.RgbaColorPicker,{className:t.materialPicker,color:L,onChange:e=>{this._handle_current_color_change($t.new_of(e.r,e.g,e.b,0|Math.round(255*e.a)).hex)}})),i.default.createElement("div",{style:{textAlign:"center"}},i.default.createElement(l.Button,{variant:"contained",style:{fontWeight:"bold",color:R?"white":"black",boxShadow:`0px 2px 4px -1px rgb(${T} ${z} ${O} / 20%), 0px 4px 5px 0px rgb(${T} ${z} ${O} / 14%), 0px 1px 10px 0px rgb(${T} ${z} ${O} / 12%)`,margin:24,boxSizing:"content-box",background:c,borderRadius:4,height:48,width:152},onClick:e=>{this._handle_color_menu_open(e,c)}},"Primary"),i.default.createElement(l.Button,{variant:"contained",style:{fontWeight:"bold",color:P?"white":"black",boxShadow:`0px 2px 4px -1px rgb(${B} ${W} ${N} / 20%), 0px 4px 5px 0px rgb(${B} ${W} ${N} / 14%), 0px 1px 10px 0px rgb(${B} ${W} ${N} / 12%)`,margin:24,boxSizing:"content-box",background:d,borderRadius:4,height:48,width:96},onClick:e=>{this._switch_with_second_color()}},"Switch")),i.default.createElement(v.default,{transparent:!0,padding:"12px 16px 24px 24px",gap:"0px",align:"left",colors:this._get_colors(f,m,g),selected_colors:[c],onColorClick:(e,t)=>{this._handle_current_color_change(t)}}),i.default.createElement("div",{style:{padding:"8px 24px",position:"relative",overflow:"visible",boxSizing:"border-box",width:"100%"},key:"palette-palette-secondary",className:`swipetoolbox_i_${e}_1`},i.default.createElement("div",{className:t.sliderContainer},i.default.createElement(l.Typography,{className:t.sliderLabel,id:"opacity-slider",gutterBottom:!0},"α"),i.default.createElement(l.Slider,{defaultValue:parseInt(g),key:"0-"+g,step:10,valueLabelDisplay:"auto",min:0,max:100,onChangeCommitted:this._set_opacity_from_slider,"aria-labelledby":"opacity-slider"})),i.default.createElement("div",{className:t.sliderContainer},i.default.createElement(l.Typography,{className:t.sliderLabel,id:"luminosity-slider",gutterBottom:!0},"L"),i.default.createElement(l.Slider,{defaultValue:parseInt(m),key:"0-"+m,step:10,valueLabelDisplay:"auto",min:0,max:100,onChangeCommitted:this._set_luminosity_from_slider,"aria-labelledby":"luminosity-slider"})),i.default.createElement("div",{className:t.sliderContainer},i.default.createElement(l.Typography,{className:t.sliderLabel,id:"saturation-slider",gutterBottom:!0},"S"),i.default.createElement(l.Slider,{defaultValue:parseInt(f),key:"0-"+f,step:10,valueLabelDisplay:"auto",min:0,max:100,onChangeCommitted:this._set_saturation_from_slider,"aria-labelledby":"strength-slider"}))));case"image":return i.default.createElement("div",{key:"image-image-upload",className:`swipetoolbox_i_${e}_0`},i.default.createElement(l.ListSubheader,{className:this._get_list_sub_header_classname("upload"),onClick:()=>{this._scroll_to_id(`swipetoolbox_i_${e}_0`)},disabled:"upload"!=k},i.default.createElement("span",{className:"list-sub-header-main-text"},i.default.createElement("span",null,i.default.createElement(I.default,null)),i.default.createElement("span",null,"New Artwork")),this._get_list_sub_header_content_scarlett("upload","Define a size before uploading an image from the library or your device, this size will be the one used in the laboratory, but before! You can optionally define a retouching setting by artificial intelligence of your starting image, you can enlarge, colorize or even do both at the same time! That's how it's done to open an image in the lab, have fun.")),i.default.createElement(l.FormLabel,{style:{padding:"32px 24px 12px 32px"},component:"legend"},"START HERE, CONVERT PICTURES INTO PIXEL ART!"),i.default.createElement("div",{className:"image "+t.listItems},i.default.createElement("input",{accept:"image/jpg, image/jpeg, image/png, image/svg, image/webp, image/gif",style:{display:"none"},id:`button-file-drawer-upload-key-${(n[a]||{}).hash}`,key:`input-button-file-drawer-upload-key-${(n[a]||{}).hash}`,type:"file",onChange:this._upload_image}),i.default.createElement(l.ListItem,{component:"label",button:!0,key:`list-item-button-file-drawer-upload-key-${(n[a]||{}).hash}`,htmlFor:`button-file-drawer-upload-key-${(n[a]||{}).hash}`},i.default.createElement(l.ListItemIcon,{className:t.listItemIconBlueBold},i.default.createElement(S.default,null)),i.default.createElement(l.ListItemText,{className:t.ListItemTextBold,primary:"UPLOAD IMAGE",secondary:"NETWORK NOT REQUIRED"})),!1,!1),i.default.createElement("div",{className:"image "+t.listItems},i.default.createElement("div",{style:{padding:"8px 24px",position:"relative",overflow:"hidden",boxSizing:"border-box",width:"100%"}},i.default.createElement(l.Typography,{id:"size-slider",style:{textAlignLast:"left"},gutterBottom:!0},"NEW IMAGE SIZE"),i.default.createElement(l.Slider,{defaultValue:parseInt(w),step:1,valueLabelDisplay:"auto",min:0,max:w>512?w:512,onChangeCommitted:this._set_import_size,onClick:function(e){e.stopPropagation(),e.preventDefault()},"aria-labelledby":"size-slider"}))),i.default.createElement(l.FormLabel,{style:{padding:"16px 24px 12px 32px"},component:"legend"},"ONLINE TOOLS TO ENHANCE YOUR SELECTION"),i.default.createElement("div",{className:"image "+t.listItems},i.default.createElement(l.RadioGroup,{row:!0,name:"Colorize",onChange:this._set_import_colorize,key:"colorize-mode-n-"+y,value:y,style:{padding:"12px 0px",margin:"0px 11px"}},i.default.createElement(l.FormControlLabel,{value:"0",control:i.default.createElement(l.Radio,{color:"primary"}),label:"NONE",labelPlacement:"bottom"}),i.default.createElement(l.FormControlLabel,{value:"1",control:i.default.createElement(l.Radio,{color:"primary"}),label:"COLOR",labelPlacement:"bottom"}),i.default.createElement(l.FormControlLabel,{value:"2",control:i.default.createElement(l.Radio,{color:"primary"}),label:"SCALE",labelPlacement:"bottom"}),i.default.createElement(l.FormControlLabel,{value:"3",control:i.default.createElement(l.Radio,{color:"primary"}),label:"BOTH",labelPlacement:"bottom"}))))}},this._set_canvas_ref=(e,t,o=!1)=>{if(void 0===t)return;if(void 0===t.width)return;if(1!=o&&1==t.drawn)return;if(void 0===e)return;if(null==e)return;if(void 0===e.width)return;if(!e.width)return;let r=e.getContext("2d");r.globalCompositeOperation="copy",r.drawImage(t,0,0),t.drawn=!0},this.get_action_panel=e=>{const{canvas:t,classes:o,filters_thumbnail:r,layer_index:n,is_image_import_mode:a,hide_canvas_content:l,show_original_image_in_background:s,show_transparent_image_in_background:c,current_color:d,second_color:u,slider_value:p,tool:h,filters:m,select_mode:b,pencil_mirror_mode:w,is_something_selected:y,_filter_aspect_ratio:x,filters_preview_progression:k,too_much_colors_no_vector:v,_compressed:E,_upscale:C,_vectorized:S,_crt:L,_photo:T}=this.st4te,O=Math.round(7*parseFloat(k/7));switch(this.get_action_panel_names()[e]){case"palette":default:return[];case"image":return[{name:"pixelated",tutorial:"Here are the buttons to download your image in simple size or enlarged so as to have enlarged but still very clear edges!",icon:i.default.createElement(z.default,null),text:"Download pixelated",description:"Simple way to upscale your source file to be sure to have a file that is interpreted correctly with crisp edges.",local_i:1,label:"matrix",tools:[{icon:i.default.createElement(R.default,null),class:o.animatedDownload,text:"Render (1x size)",sub:"[CTRL + Q]",on_click:()=>{this._download_png(1)}},{icon:i.default.createElement(R.default,null),class:o.animatedDownload,text:"Render (2x size)",sub:"Upscale 2x",on_click:()=>{this._download_png(2)}},{icon:i.default.createElement(R.default,null),class:o.animatedDownload,text:"Render (4x size)",sub:"Upscale 4x",on_click:()=>{this._download_png(4)}},{icon:i.default.createElement(R.default,null),class:o.animatedDownload,text:"Render (8x size)",sub:"Upscale 8x",on_click:()=>{this._download_png(8)}},{icon:i.default.createElement(R.default,null),class:o.animatedDownload,text:"Render (16x size)",sub:"Upscale 16x",on_click:()=>{this._download_png(16)}},{icon:i.default.createElement(R.default,null),class:o.animatedDownload,text:"Render (24x size)",sub:"Upscale 24x",on_click:()=>{this._download_png(24)}},{icon:i.default.createElement(R.default,null),class:o.animatedDownload,text:"Render (32x size)",sub:"Upscale 32x",on_click:()=>{this._download_png(32)}},{icon:i.default.createElement(R.default,null),class:o.animatedDownload,text:"Render (48x size)",sub:"Upscale 48x",on_click:()=>{this._download_png(48)}}]},{name:"enhanced",tutorial:"Here are the buttons to download your image enlarged, yet having sleek, clean and humanized or rounded edges! It is possible to request a non-raster version of your image, it can be enlarged at will without loss of quality. The other options are provided for the purpose of reducing the size of your incoming file or even enlarging the result by two at most.",icon:i.default.createElement(z.default,null),text:"Download enhanced"+(v?" (Disabled)":""),description:v?"It will look like a painting! Yet, we need to have less than 256 colors for each layers because there should be a few shapes to get a beautiful result.":"After 2000's, great minds have found ways to up-scale late 80's pixel art within modern emulators while always being cool and absolutely right. Hey! It can look like a nice painting^^",local_i:2,label:"vector",tools:[{icon:i.default.createElement(R.default,null),class:o.animatedDownload,text:"Kikko",sub:"Upscale by 48x using a 400 years old Japanese pattern",disabled:v,on_click:()=>{this._download_svg("kikko",E,S,L,T)}},{icon:i.default.createElement(R.default,null),class:o.animatedDownload,text:"Hexagon",sub:"Upscale by 32x using an hexagonal grid",disabled:v,on_click:()=>{this._download_svg("hexagon",E,S,L,T)}},{icon:i.default.createElement(R.default,null),class:o.animatedDownload,text:"Omni",sub:"Upscale by 8x using Omniscale",disabled:v,on_click:()=>{this._download_svg("omniscale",E,S,L,T)}},{icon:i.default.createElement(R.default,null),class:o.animatedDownload,text:"xBRZ",sub:"Upscale by 6x using xBRZ",disabled:v,on_click:()=>{this._download_svg("xbrz",E,S,L,T)}},{icon:E?i.default.createElement(st.default,null):i.default.createElement(dt.default,null),text:"Compressed",sub:"Reduce file weight",disabled:v,on_click:()=>{this._toggle_compressed()}},{icon:S?i.default.createElement(st.default,null):i.default.createElement(dt.default,null),text:"Vectorized",sub:"Download an SVG file with it",disabled:v,on_click:()=>{this._toggle_vectorized()}},{icon:L?i.default.createElement(st.default,null):i.default.createElement(dt.default,null),text:"Retro",sub:"Download a PNG file with a retro effect",disabled:v,on_click:()=>{this._toggle_crt()}},{icon:T?i.default.createElement(st.default,null):i.default.createElement(dt.default,null),text:"Photo-realistic",sub:"Get the pixel art changed into something looking very real",disabled:v,on_click:()=>{this._toggle_photo()}}]}];case"layers":return[{icon:i.default.createElement(W.default,null),local_i:1,text:"Layer tools",label:"tools",tools:[{icon:l?i.default.createElement(P.default,null):i.default.createElement(M.default,null),text:l?"Show canvas content":"Hide canvas content",on_click:()=>{this._show_hide_canvas_content()}},{icon:s?i.default.createElement(D.default,null):i.default.createElement(F.default,null),text:s?"Hide bg img":"Show bg img",on_click:()=>{this._show_hide_background_image()}},{icon:c?i.default.createElement(D.default,null):i.default.createElement(F.default,null),text:c?"Hide chessboard":"Show chessboard",on_click:()=>{this._show_hide_transparent_image()}}]},{icon:i.default.createElement($.default,null),text:"Layer actions",local_i:2,label:"actions",tools:[{icon:i.default.createElement(V.default,null),text:"New layer",on_click:()=>{t.new_layer(n)}},{icon:i.default.createElement(X.default,null),text:"Delete layer",on_click:()=>{t.delete_layer(n)}},{icon:i.default.createElement(Q.default,null),text:"Duplicate layer",on_click:()=>{t.duplicate_layer(n)}},{icon:i.default.createElement(Z.default,null),text:"Merge down layer",on_click:()=>{t.merge_down_layer(n)}}]},{icon:i.default.createElement(I.default,null),text:"Import image",local_i:3,label:"importing",tools:[{icon:i.default.createElement(ee.default,null),text:"Library to import",sub:"",on_click:()=>{this._import_image_from_libary()}},{icon:i.default.createElement(ee.default,null),text:"Import image",sub:"[CTRL + I]",for:"button-file-dialog-main",on_click:this.props.on_import_image},{icon:i.default.createElement(ee.default,null),text:"Confirm import",sub:"[Enter]",disabled:!a,on_click:()=>{t.confirm_import()}},{icon:i.default.createElement(Fe.default,null),text:"Asset Store",sub:"Buy tremendous images to add in your drawing",disabled:!1,on_click:()=>{window.open("https://www.artstation.com/pixapics/store")}}]}];case"tools":return[{icon:i.default.createElement(oe.default,null),text:"Drawing tools",label:"drawing",local_i:1,tools:[{icon:i.default.createElement(ne.default,null),disabled:"PICKER"===h,text:"Picker",sub:"[CTRL (HOLD)]",on_click:()=>{this._set_tool("PICKER")}},{icon:i.default.createElement(ie.default,null),disabled:"PENCIL"===h,text:"Pencil",sub:"[P]",on_click:()=>{this._set_tool("PENCIL")}},{icon:i.default.createElement(se.default,null),disabled:"PENCIL PERFECT"===h,text:"Pencil perfect",sub:"[N]",on_click:()=>{this._set_tool("PENCIL PERFECT")}},{icon:i.default.createElement(de.default,null),disabled:"SET PENCIL MIRROR"===h,text:"Set pencil mirror",sub:"[M]",on_click:()=>{this._set_tool("SET PENCIL MIRROR")}},{icon:i.default.createElement(Ze.default,null),disabled:"MOVE"===h,text:"Move",sub:"Middle mouse click moves it too...",on_click:()=>{this._set_tool("MOVE")}}]},{icon:i.default.createElement(pe.default,null),text:"Shapes tools",label:"shapes",local_i:2,tools:[{icon:i.default.createElement(he.default,null),disabled:"LINE"===h,text:"Line",sub:"[L]",on_click:()=>{this._set_tool("LINE")}},{icon:i.default.createElement(me.default,null),disabled:"RECTANGLE"===h,text:"Rectangle",sub:"[R]",on_click:()=>{this._set_tool("RECTANGLE")}},{icon:i.default.createElement(be.default,null),disabled:"ELLIPSE"===h,text:"Ellipse",sub:"[E]",on_click:()=>{this._set_tool("ELLIPSE")}},{icon:i.default.createElement(ye.default,null),disabled:"CONTOUR"===h,text:"Free path",sub:"[F]",on_click:()=>{this._set_tool("CONTOUR")}}]},{icon:i.default.createElement(ke.default,null),text:"Paint tools",label:"basic",local_i:3,tools:[{icon:i.default.createElement(Ee.default,null),disabled:"BUCKET"===h,text:"Bucket",sub:"[B]",on_click:()=>{this._set_tool("BUCKET")}},{icon:i.default.createElement(Ee.default,null),disabled:"HUE BUCKET"===h,text:"Hue bucket",sub:"[H]",on_click:()=>{this._set_tool("HUE BUCKET")}},{icon:i.default.createElement(Se.default,null),disabled:"EXCHANGE"===h,text:"Exchange",sub:"[X]",on_click:()=>{this._set_tool("EXCHANGE")}},{icon:i.default.createElement(Ie.default,null),disabled:"BORDER"===h,text:"Border",sub:"[U]",on_click:()=>{this._set_tool("BORDER")}}]},{icon:i.default.createElement(de.default,null),text:"Set pencil mirrors",label:"mirror",local_i:4,tools:[{icon:i.default.createElement(de.default,null),disabled:"NONE"===w,text:"None",on_click:()=>{this._set_pencil_mirror_mode("NONE")}},{icon:i.default.createElement(de.default,null),disabled:"VERTICAL"===w,text:"Vertical",on_click:()=>{this._set_pencil_mirror_mode("VERTICAL")}},{icon:i.default.createElement(de.default,null),disabled:"HORIZONTAL"===w,text:"Horizontal",on_click:()=>{this._set_pencil_mirror_mode("HORIZONTAL")}},{icon:i.default.createElement(de.default,null),disabled:"BOTH"===w,text:"Both",on_click:()=>{this._set_pencil_mirror_mode("BOTH")}}]}];case"selection":return[{icon:i.default.createElement(ze.default,null),text:"Select mode",local_i:0,label:"mode",tools:[{icon:i.default.createElement(Re.default,null),disabled:"REMOVE"===b,text:"Select remove",sub:"[CTRL (HOLD)]",on_click:()=>{this._set_select_mode("REMOVE")}},{icon:i.default.createElement(We.default,null),disabled:"ADD"===b,text:"Select add",sub:"[SHIFT (HOLD)]",on_click:()=>{this._set_select_mode("ADD")}},{icon:i.default.createElement(_.default,null),disabled:"REPLACE"===b,text:"Select replace",on_click:()=>{this._set_select_mode("REPLACE")}}]},{icon:i.default.createElement(Pe.default,null),text:"Select tool",label:"selecting",local_i:1,tools:[{icon:i.default.createElement(_.default,null),disabled:"SELECT PATH"===h,text:"Select path",sub:"[CTRL + F]",on_click:()=>{this._set_tool("SELECT PATH")}},{icon:i.default.createElement(Me.default,null),disabled:"SELECT COLOR"===h,text:"Select color",sub:"[CTRL + G]",on_click:()=>{this._set_tool("SELECT COLOR")}},{icon:i.default.createElement(De.default,null),disabled:"SELECT COLOR THRESHOLD"===h,text:"Select color threshold",sub:"[CTRL + K]",on_click:()=>{this._set_tool("SELECT COLOR THRESHOLD")}},{icon:i.default.createElement($e.default,null),disabled:"SELECT PIXEL"===h,text:"Select pixel",sub:"[CTRL + P]",on_click:()=>{this._set_tool("SELECT PIXEL")}},{icon:i.default.createElement($e.default,null),disabled:"SELECT PIXEL PERFECT"===h,text:"Select pixel perfect",sub:"[CTRL + N]",on_click:()=>{this._set_tool("SELECT PIXEL PERFECT")}},{icon:i.default.createElement(_.default,null),disabled:"SELECT LINE"===h,text:"Select line",sub:"[CTRL + L]",on_click:()=>{this._set_tool("SELECT LINE")}},{icon:i.default.createElement(Ve.default,null),disabled:"SELECT RECTANGLE"===h,text:"Select rectangle",sub:"[CTRL + R]",on_click:()=>{this._set_tool("SELECT RECTANGLE")}},{icon:i.default.createElement(Xe.default,null),disabled:"SELECT ELLIPSE"===h,text:"Select ellipse",sub:"[CTRL + E]",on_click:()=>{this._set_tool("SELECT ELLIPSE")}}]},{icon:i.default.createElement(Qe.default,null),text:"Apply to selection",label:"applying",local_i:2,tools:[{icon:i.default.createElement(Pe.default,null),disabled:!y,text:"Shrink",on_click:()=>{t.to_selection_size(-1)}},{icon:i.default.createElement(Pe.default,null),disabled:!y,text:"Grow",on_click:()=>{t.to_selection_size(1)}},{icon:i.default.createElement(Ie.default,null),disabled:!y,text:"Border",on_click:()=>{t.to_selection_border()}},{icon:i.default.createElement(Ee.default,null),disabled:!y,text:"Bucket",on_click:()=>{t.to_selection_bucket()}},{icon:i.default.createElement(Pe.default,null),disabled:!y,text:"Crop",on_click:()=>{t.to_selection_crop()}},{icon:i.default.createElement(et.default,null),disabled:!y,text:"Invert",on_click:()=>{t.to_selection_invert()}},{icon:i.default.createElement(Re.default,null),disabled:!y,text:"Unselect",on_click:()=>{t.to_selection_none()}},{icon:i.default.createElement(ot.default,null),disabled:!y,text:"Copy",on_click:()=>{t.copy_selection()}},{icon:i.default.createElement(nt.default,null),disabled:!y,text:"Cut",on_click:()=>{t.cut_selection()}},{icon:i.default.createElement(it.default,null),disabled:!y,text:"Erase",on_click:()=>{t.erase_selection()}},{icon:i.default.createElement(Ee.default,null),disabled:!y,text:"Colorize dynamical",on_click:()=>{t.to_selection_changes(d,!1)}},{icon:i.default.createElement(Me.default,null),disabled:!y,text:"Get average color",on_click:()=>{this._get_average_color_of_selection()}},{icon:i.default.createElement(Me.default,null),disabled:!y,text:"Luminance +10",on_click:()=>{t._selection_pxl_adjust_sat_lum(0,10)}},{icon:i.default.createElement(Me.default,null),disabled:!y,text:"Luminance -10",on_click:()=>{t._selection_pxl_adjust_sat_lum(0,-10)}},{icon:i.default.createElement(Me.default,null),disabled:!y,text:"Saturation +10",on_click:()=>{t._selection_pxl_adjust_sat_lum(10,0)}},{icon:i.default.createElement(Me.default,null),disabled:!y,text:"Saturation -10",on_click:()=>{t._selection_pxl_adjust_sat_lum(-10,0)}}]}];case"effects":return[{icon:i.default.createElement(f.default,null),text:"Effects",label:"primary",local_i:0,tools:[{icon:i.default.createElement(kt.default,null),text:"Smooth",sub:"Run smooth effect once",on_click:()=>{t.smooth_adjust(1),this._handle_action_close()}},{icon:i.default.createElement(bt.default,null),text:"To auto contrast",sub:"Effect strength have an impact",on_click:()=>{t.auto_adjust_contrast(p),this._handle_action_close()}},{icon:i.default.createElement(bt.default,null),text:"To auto saturation",sub:"Effect strength have an impact",on_click:()=>{t.auto_adjust_saturation(p),this._handle_action_close()}},{icon:i.default.createElement(Et.default,null),text:"To vignette",sub:"Current color and effect strength have an impact",on_click:()=>{t.to_vignette(d,p),this._handle_action_close()}},{icon:i.default.createElement(St.default,null),text:"Less colors by strength",sub:"Effect strength have an impact",on_click:()=>{t.to_less_color(p/5),this._handle_action_close()}},{icon:i.default.createElement(St.default,null),text:"Less colors by small steps",sub:"Remove colors slowly",on_click:()=>{this._less_colors_stepped(),this._handle_action_close()}},{icon:i.default.createElement(It.default,null),text:"Less colors auto",sub:"Apply to current layer",on_click:()=>{t.to_less_color("auto"),this._handle_action_close()}},{icon:i.default.createElement(yt.default,null),text:"To dutone",sub:"Current color and effect strength have an impact",on_click:()=>{t.to_dutone(p,u,d),this._handle_action_close()}},{icon:i.default.createElement(mt.default,null),text:"To colorized",sub:"Current color and effect strength have an impact",on_click:()=>{this._colorize(),this._handle_action_close()}},{icon:i.default.createElement(ht.default,null),text:"To alpha",sub:"Current color and effect strength have an impact",on_click:()=>{t.to_alpha(d,p),this._handle_action_close()}},{icon:i.default.createElement(Pt.default,null),text:"Mirror vertical",sub:"Apply to current layer",on_click:()=>{t.to_mirror(!1),this._handle_action_close()}},{icon:i.default.createElement(Wt.default,null),text:"Mirror horizontal",sub:"Apply to current layer",on_click:()=>{t.to_mirror(!0),this._handle_action_close()}},{icon:i.default.createElement(Rt.default,null),text:"Rotate 90°",sub:"Apply to all layers",on_click:()=>{t.to_rotation(!0),this._handle_action_close()}},{icon:i.default.createElement(zt.default,null),text:"Rotate - 90°",sub:"Apply to all layers",on_click:()=>{t.to_rotation(!1),this._handle_action_close()}}]}];case"filters":const{height:e,width:k}=r.get(m[0])||{};return[{icon:i.default.createElement(g.default,null),progression:O,text:"Filters",style:{position:"relative"},label:"primary",local_i:0,sub:"The strength selected matters meanwhile preview are only shown at 100% intensity. To cancel any operation, use 'undo'.",tools:m.map(((t,o)=>{const n=r.get(t)||{};return{style:{position:"relative",width:"100%",height:"100%"},icon:i.default.createElement("canvas",{className:"pixelated",ref:e=>{this._set_canvas_ref(e,n,!0)},width:k||1,height:e||1,style:{zIndex:"-1",aspectRatio:x,boxSizing:"border-box",height:"100%",minWidth:"100%",width:128,boxShadow:"0px 1px 2px #3729c1a8",border:"4px solid #020529",borderRadius:2,contain:"paint style size"},key:"name-"+t+"-ratio-"+x+"-over-"+(n.width||0)+"x"+(n.height||0)}),text:t,text_style:{flex:"1 1",bottom:16,left:8,width:"100%",right:24,color:"white",padding:8,borderBottomLeftRadius:"4px",borderBottomRightRadius:"4px",textAlign:"initial",zIndex:1,wordBreak:"break-word",position:"absolute",margin:"-16px -12px -12px -8px",boxSizing:"border-box"},on_click:()=>{this._to_filter(t),this._handle_action_close()}}}))}]}},this.canvas_set_size=()=>{this.st4te.canvas._new_blank(this.st4te.slider_value_width,this.st4te.slider_value_height)},this.get_after_action_panel=e=>{const{classes:t,slider_value_width:o,slider_value_height:r}=this.st4te;if("image"===this.get_action_panel_names()[e])return i.default.createElement("div",{key:"image-image-create",className:`swipetoolbox_i_${e}_3`},i.default.createElement(l.ListSubheader,{className:t.listSubHeader,onClick:()=>{this._scroll_to_id(`swipetoolbox_i_${e}_3`)}},i.default.createElement("span",{className:"list-sub-header-main-text"},i.default.createElement("span",null,i.default.createElement(S.default,null)),i.default.createElement("span",null,"Create new")),this._get_list_sub_header_content_scarlett("create","This is where you can create a new transparent canvas of any size you want. This is how it's done, have fun!")),i.default.createElement("div",{style:{padding:"32px 24px",position:"relative",overflow:"hidden",boxSizing:"border-box",width:"100%"}},i.default.createElement(l.Typography,{id:"width-slider",gutterBottom:!0},"Width"),i.default.createElement(l.Slider,{defaultValue:parseInt(o),step:1,valueLabelDisplay:"auto",min:0,max:512,key:"slider-width",onChangeCommitted:this._set_width_from_slider,"aria-labelledby":"width-slider"}),i.default.createElement(l.Typography,{id:"height-slider",gutterBottom:!0},"Height"),i.default.createElement(l.Slider,{defaultValue:parseInt(r),step:1,valueLabelDisplay:"auto",min:0,max:512,key:"slider-height",onChangeCommitted:this._set_height_from_slider,"aria-labelledby":"height-slider"}),i.default.createElement(l.Typography,{id:"confirm-slider",gutterBottom:!0},"Confirm"),i.default.createElement(l.Button,{fullWidth:!0,onClick:()=>{this.canvas_set_size()}},"Create my new canvas")))},this._rgba_from_hex=e=>{const{get_rgba_from_hex:t}=this.st4te.canvas;return Boolean(t)?t(e):[0,0,0,0]},this._download_png=e=>{this.props.on_download_image&&this.props.on_download_image(e)},this._toggle_compressed=()=>{this.setSt4te({_compressed:!this.st4te._compressed},(()=>{this.update_cache_view(null,!0)}))},this._toggle_upscale=()=>{this.setSt4te({_upscale:!this.st4te._upscale},(()=>{this.update_cache_view(null,!0)}))},this._toggle_vectorized=()=>{this.setSt4te({_vectorized:!this.st4te._vectorized},(()=>{this.update_cache_view(null,!0)}))},this._toggle_crt=()=>{this.setSt4te({_crt:!this.st4te._crt},(()=>{this.update_cache_view(null,!0)}))},this._toggle_photo=()=>{this.setSt4te({_photo:!this.st4te._photo},(()=>{this.update_cache_view(null,!0)}))},this._download_svg=(e="xbrz",t=!1,o=!1,r=!1,n=!1)=>{this.props.on_download_svg&&this.props.on_download_svg(e,t,o,r,n)},this._less_colors_stepped=(e=1)=>{const{_less_colors_stepped:t}=this.st4te.canvas;t(e)},this._colorize=()=>{const{current_color:e,slider_value:t}=this.st4te,{to_color:o}=this.st4te.canvas,[r,n,a,i]=$t.new_hex(e).hsla;o(r,t,0===n?null:n,0===a?null:a)},this._import_image_from_libary=()=>{this.props.on_import_image_library&&this.props.on_import_image_library()},this._upload_image=e=>{this.props.on_upload_image&&this.props.on_upload_image(e)},this._upload_image_from_library=()=>{this.props.on_upload_image_library&&this.props.on_upload_image_library()},this._handle_current_color_change=e=>{this.props.on_current_color_change&&this.props.on_current_color_change(e),this.setSt4te({current_color:e},(()=>{this.update_cache_view(null,!0)}))},this._handle_view_name_change=(e,t=null)=>{this.props.on_view_name_change&&this.props.on_view_name_change(e,t)},this._handle_color_menu_open=e=>{this.setSt4te({_anchor_el:e.currentTarget},(()=>{this.update_cache_view(null,!0)}))},this._handle_color_menu_close=()=>{this.setSt4te({_anchor_el:null},(()=>{this.update_cache_view(null,!0)}))},this._set_saturation_from_slider=(e,t)=>{this.setSt4te({_saturation:t},(()=>{this.update_cache_view("palette",!0)}))},this._set_luminosity_from_slider=(e,t)=>{this.setSt4te({_luminosity:t},(()=>{this.update_cache_view("palette",!0)}))},this._set_opacity_from_slider=(e,t)=>{this.setSt4te({_opacity:t},(()=>{this.update_cache_view("palette",!0)}))},this._set_tool=e=>{this.props.set_tool&&this.props.set_tool(e)},this._set_select_mode=e=>{this.props.set_select_mode&&this.props.set_select_mode(e)},this._set_pencil_mirror_mode=e=>{this.props.set_pencil_mirror_mode&&this.props.set_pencil_mirror_mode(e)},this._switch_with_second_color=()=>{this.props.switch_with_second_color&&this.props.switch_with_second_color()},this._show_hide_canvas_content=()=>{this.props.show_hide_canvas_content&&this.props.show_hide_canvas_content()},this._show_hide_background_image=()=>{this.props.show_hide_background_image&&this.props.show_hide_background_image()},this._show_hide_transparent_image=()=>{this.props.show_hide_transparent_image&&this.props.show_hide_transparent_image()},this._set_width_from_slider=(e,t)=>{this.props.set_width_from_slider&&this.props.set_width_from_slider(e,t)},this._set_height_from_slider=(e,t)=>{this.props.set_height_from_slider&&this.props.set_height_from_slider(e,t)},this._set_import_size=(e,t)=>{this.props.set_import_size&&this.props.set_import_size(e,t)},this._set_import_colorize=e=>{this.props.set_import_colorize&&this.props.set_import_colorize(e)},this._get_average_color_of_selection=()=>{const{get_average_color_of_selection:e}=this.st4te.canvas,t=e();this._handle_current_color_change(t)},this._change_active_layer=e=>{const{layer_index:t,_layer_opened:o}=this.st4te,{change_active_layer:r}=this.st4te.canvas;t!==e?(o&&this.setSt4te({_layer_opened:!1},(()=>{this.update_cache_view(null,!0)})),r(e)):this.setSt4te({_layer_opened:!o},(()=>{this.update_cache_view(null,!0)}))},this._handle_action_close=()=>{this.props.onActionClose&&this.props.onActionClose()},this.update_cache_view=(e,t)=>{const{classes:o,canvas:r,view_name_index:n,too_much_colors_no_vector:a,filters_preview_progression:s}=this.st4te,c=(this.st4te._list_sub_header_opened,this.get_action_panel_names()),d=Math.round(7*parseFloat(s/7)),u=e?c.indexOf(e):n;e=c[u],this._cache[e]=i.default.createElement(l.List,{key:"list-filled-"+e,style:{willChange:Boolean(0===parseInt(d)||"filters"!==e)?"inherit":"contents",contentVisibility:"auto",minHeight:"100%",contain:"style layout paint",overflow:"visible",paddingTop:0}},this.get_before_action_panel(u),this.get_action_panel(u).map((t=>i.default.createElement("div",{key:e+"-"+t.label+"-"+t.text.toLowerCase()+"-wrapper",className:`swipetoolbox_i_${u}_${t.local_i}`},i.default.createElement(l.ListSubheader,{className:this._get_list_sub_header_classname(t.name),onClick:()=>{this._scroll_to_id(`swipetoolbox_i_${u}_${t.local_i}`)}},i.default.createElement("span",{className:"list-sub-header-main-text"},i.default.createElement("span",null,t.icon),i.default.createElement("span",null,t.text)),t.tutorial&&this._get_list_sub_header_content_scarlett(t.name,t.tutorial),Boolean(t.progression)&&i.default.createElement(l.LinearProgress,{color:"primary",variant:"determinate",role:"progressbar","aria-valuenow":t.progression,"aria-valuemin":"0","aria-valuemax":"100","aria-label":`main-progressbar-${t.text}`,className:o.linearProgress,value:parseInt(t.progression)%100})),t.description?i.default.createElement("p",{className:o.info,style:{margin:"24px 32px"}},t.description):null,Boolean(Boolean("filters"===e||"vector"===t.label)&&a)?i.default.createElement(l.ListItem,{classes:{root:o.relevantTextBlue},button:"filters"!==e,onClick:()=>{r.to_less_color("auto")}},i.default.createElement(l.ListItemIcon,null,i.default.createElement(It.default,{className:o.listItemIcon})),i.default.createElement(l.ListItemText,{primary:"Auto reduce color palette",secondary:"May you need less color in your palette?"})):Boolean("filters"===e)?i.default.createElement("blockquote",{className:o.info},"DID YOU KNOW? Just double-tap/right-click around the drawing area to open a context menu with shortcuts including some to adjust saturation and contrast like a professional..."):null,Boolean("filters"===e)&&i.default.createElement(l.ListItem,{button:!0,onClick:this.compute_filters_preview},i.default.createElement(l.ListItemIcon,null,i.default.createElement(pt.default,{className:o.listItemIcon})),i.default.createElement(l.ListItemText,{primary:"Refresh filter previews"})),i.default.createElement("div",{className:e+" "+o.listItems,key:e+"-"+t.label+"-"+t.text.toLowerCase()+"-inner",style:Object.assign({flexWrap:"wrap",alignContent:"stretch",flexDirection:"row",justifyContent:"flex-start"},Boolean(t.text.toLowerCase().includes("filter"))?{padding:"0px !important",margin:"8px !important"}:{})},t.tools.map(((r,n)=>r.for?i.default.createElement("div",{key:e+"-"+t.label+r.text.toLowerCase().replaceAll(" ","-")},i.default.createElement("input",{accept:"image/jpg, image/jpeg, image/png, image/svg, image/webp, image/gif",style:{display:"none"},id:r.for,type:"file",onChange:r.on_click}),i.default.createElement(l.ListItem,{className:r.class?r.class:null,component:"label",key:n+(r.disabled?"-0":"-1"),htmlFor:r.for,button:!0,disabled:r.disabled},i.default.createElement(l.ListItemIcon,{className:o.listItemIcon,style:r.style||{}},r.icon),i.default.createElement(l.ListItemText,{className:o.ListItemText,primary:r.text,secondary:r.sub}))):i.default.createElement(l.ListItem,{className:r.class?r.class:null,key:e+"-"+t.label+(r.text||"").toLowerCase().replaceAll(" ","-"),button:!0,disabled:r.disabled||!1,onClick:r.on_click},i.default.createElement(l.ListItemIcon,{className:o.listItemIcon,style:r.style||{}},r.icon),i.default.createElement(l.ListItemText,{className:o.ListItemText,style:r.text_style||{},primary:r.text,secondary:r.sub})))))))),this.get_after_action_panel(u)),t&&this.forceUpdate()},this.slideRenderer=({index:e,key:t})=>{const o=this.get_action_panel_names()[e];return e===this.st4te.view_name_index||e===this.st4te.previous_view_name_index?this._cache[o]:this._cache_empty[o]}},t.default=(0,l.withStyles)((e=>({"@global":{"@keyframes wiggle":{"0%, 7%":{transform:"scale(1.00)"},"15%":{transform:"scale(1.08)"},"20%":{transform:"scale(1.04)"},"25%":{transform:"scale(1.00)"},"30%":{transform:"scale(0.96)"},"40%, 100%":{transform:"scale(1)"}},"@keyframes shift":{"0%, 7%":{transform:"translateX(0%)"},"15%":{transform:"translateX(-25%)"},"20%":{transform:"translateX(-10%)"},"25%":{transform:"translateX(0%)"},"30%":{transform:"translateX(10%)"},"40%, 100%":{transform:"translateX(0%)"}}},listSubHeaderDescription:{lineHeight:"1em",textTransform:"initial",fontWeight:"initial",color:"#170f70",marginTop:0,textAlign:"justify",marginRight:150,minHeight:126,marginLeft:48},rippleGreen:{"& > *":{color:"#00FF16CB"}},advertising:{contain:"layout paint style",maxWidth:"calc(100% - 64px)",cursor:"pointer",borderRadius:8,border:"2px solid #00FF16",margin:"32px 32px 64px 32px",padding:"24px 12px",boxSizing:"border-box",backgroundColor:"#e7f5e5",boxShadow:"0px 0px 12px #008f09",transformOrigin:"center",filter:"sepia(1) hue-rotate(192deg) saturate(1.314) opacity(0.666)",transition:"filter cubic-bezier(0.4, 0, 0.2, 1) 225ms","& > img":{userSelect:"none",pointerEvents:"none",maxWidth:"100%",transform:"scale(1)",transition:"transform cubic-bezier(0.4, 0, 0.2, 1) 150ms"},"&:hover > img":{transform:"scale(1.05)",transition:"transform cubic-bezier(0.4, 0, 0.2, 1) 225ms"},"&:hover, &:active":{filter:"sepia(0) hue-rotate(0deg) saturate(1) opacity(1)"}},listSubHeaderToggle:{position:"absolute",right:0,top:0,margin:0,"& .MuiSvgIcon-root":{color:"#b3aee8"}},listSubHeaderCollapse:{marginTop:"0px"},listSubHeaderVideo:{contain:"layout paint size style",contentVisibility:"auto",position:"absolute",right:0,bottom:0,margin:0,padding:0,height:164,width:150},listSubHeaderVideoOverlay:{position:"absolute",top:0,right:0,height:20,width:40,backgroundColor:"#ededff"},listSubHeaderVideoFade:{position:"absolute",top:0,right:0,height:150,width:150,background:"linear-gradient(to top, #ededfff1 2.5%,  #ededffbf 5%, #ededff78 15%, transparent 30%)"},listSubHeader:{borderRadius:"none !important","&:hover":{backgroundColor:"#d4d4ff",color:"#050c4c",transition:"all cubic-bezier(0.4, 0, 0.2, 1) 350ms",boxShadow:"0px 3px 6px #3729c14d","& .list-sub-header-main-text svg":{animation:"$shift linear 675ms both"}},display:"inline-table",cursor:"pointer",transition:"all cubic-bezier(0.4, 0, 0.2, 1) 275ms",boxShadow:"0px 2px 5px #050c4c4d",width:"100%",alignSelf:"flex-start",color:"#3729c1",backgroundColor:"#ededff",fontWeight:"bold",textTransform:"capitalize","& span svg":{verticalAlign:"middle",color:"#050c4c",marginRight:e.spacing(1)}},listSubHeaderOpen:{borderRadius:"none !important","&:hover":{backgroundColor:"#ededff",color:"#3729c1",transition:"all cubic-bezier(0.4, 0, 0.2, 1) 350ms",boxShadow:"0px 3px 6px #3729c14d","& .list-sub-header-main-text svg":{animation:"$shift linear 675ms both"}},display:"inline-table",cursor:"pointer",transition:"all cubic-bezier(0.4, 0, 0.2, 1) 275ms",boxShadow:"0px 2px 5px #050c4c4d",width:"100%",alignSelf:"flex-start",color:"#3729c1",backgroundColor:"#ededff",fontWeight:"bold",textTransform:"capitalize","& span svg":{verticalAlign:"middle",color:"#050c4c",marginRight:e.spacing(1)}},info:{backgroundColor:"#f2f2ff",color:"#5c5fd1",padding:"16px",margin:0,borderRadius:"4px"},relevantTextBlue:{color:"#3729c1ff"},listItemIcon:{color:e.palette.secondary.dark},listItemIconBlue:{"& svg":{color:e.palette.secondary.light}},listItemIconBlueBold:{"& svg":{color:e.palette.secondary.dark,width:"1.314em",height:"1.314em"}},styledBadgeConnected:{"& .MuiBadge-badge":{transform:"scale(1.618) translate(50% -50%) !important",marginRight:-12,backgroundColor:"#050c4c",color:"#fafafa",boxShadow:"0 0 0 2px #fafafa","&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid #050c4c",content:'""'}},"@global":{"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}},menu:{"& .MuiPaper-root":{overflow:"inherit",contain:"layout size style"},"& .MuiList-padding":{padding:0}},layerThumbnail:{width:"128px !important",height:"auto",borderRadius:2,marginRight:e.spacing(2)},layerSelected:{borderRight:`4px solid ${e.palette.primary.action}`,paddingRight:12},listOfTools:{paddingTop:0},materialPicker:{fontFamily:"Open Sans !important"},flipExpandMoreIcon:{transform:"rotate(180deg)",transition:"transform 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},expandMoreIcon:{transform:"rotate(0deg)",transition:"transform 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},ListItemText:{"& .MuiTypography-colorTextSecondary":{color:"rgb(25 25 51 / 54%)"}},ListItemTextBold:{"& span.MuiListItemText-primary":{fontWeight:"bold",fontSize:"15px !important",color:e.palette.primary.dark},"& p.MuiListItemText-secondary":{fontSize:"11px !important",fontWeight:"bold",color:e.palette.secondary.contrast}},animatedDownload:{},listItems:{textAlignLast:"center",display:"inline-flex",flexWrap:"wrap",alignContent:"stretch",flexDirection:"row",justifyContent:"flex-start",marginBottom:"-20px",width:"100%",maxWidth:"100%",overflowX:"scroll",contentVisibility:"auto",padding:"16px 16px",contain:"paint style layout","&.filters":{"& .MuiListItem-root":{width:128,display:"inline-flex",height:"100%",contain:"paint style layout",margin:"8px !important",padding:"0px !important"},padding:"0px 8px",textAlignLast:"left"},"&.filters > .MuiListItem-root:hover > .MuiListItemText-root":{color:"#fff !important",background:"linear-gradient(to top, #020519 10%, #02052990 35%, #02052960 65%, #02052900 95%)",transition:"all cubic-bezier(0.4, 0, 0.2, 1) 700ms",fontWeight:"bold"},"&.filters > .MuiListItem-root > .MuiListItemText-root":{color:"#ffffffe0 !important",background:"linear-gradient(to top, #020529 5%, #020529a0 25%, #02052980 50%, #02052900 75%)",transition:"all cubic-bezier(0.4, 0, 0.2, 1) 350ms",fontWeight:"bold"},"& .MuiFormGroup-root":{flexWrap:"nowrap",padding:"16px 0px !important",contain:"layout paint style",display:"inline-flex"},"& .MuiListItem-root":{display:"table",flexGrow:1,flexBasis:"auto",width:"96px",padding:"8px !important",textAlign:"center",boxSizing:"content-box",contain:"paint style layout",transition:"all cubic-bezier(0.4, 0, 0.2, 1) 125ms","&:hover":{transition:"all cubic-bezier(0.4, 0, 0.2, 1) 325ms",color:"#050c4c",background:"#D7D7FD7D"},"& div svg.MuiSvgIcon-root":{transition:"all cubic-bezier(0.4, 0, 0.2, 1) 125ms"},"&:hover div svg.MuiSvgIcon-root":{transition:"all cubic-bezier(0.4, 0, 0.2, 1) 325ms",color:"#050c4c !important"},"& .MuiListItemIcon-root":{minWidth:0,contain:"style layout"},"& .MuiListItemText-root":{"& .MuiListItemText-primary":{fontSize:"14px"},"& .MuiListItemText-secondary":{fontSize:"10px"}}},[e.breakpoints.down("md")]:{marginBottom:"-4px",display:"inline-flex",justifyContent:"flex-start",flexDirection:"row",flexWrap:"wrap",overflowX:"overlay",width:"100%",maxWidth:"100%",flexFlow:"row","& .MuiListItem-root":{display:"block",flexGrow:1,flexBasis:"auto",width:"96px",textAlign:"center","& .MuiListItemIcon-root":{minWidth:0,contain:"paint style layout"},"& .MuiListItemText-root":{"& .MuiListItemText-primary":{fontSize:"14px"},"& .MuiListItemText-secondary":{display:"none"}}},"&.filters":{"& .MuiListItem-root":{display:"inline-flex"}}}},sliderContainer:{display:"flex",overflow:"visible"},sliderLabel:{marginRight:e.spacing(2)},linearProgress:{"& .MuiLinearProgress-barColorPrimary":{background:"linear-gradient(90deg, #0056ce 0%, #0056ce 100%)",zIndex:-1},zIndex:1,marginBottom:-2,height:2,backgroundColor:"transparent",width:"100%",display:"flex",left:0,bottom:0,position:"absolute"}})))(Gt)},796:function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n,a,i,l,s,c,d;Object.defineProperty(t,"__esModule",{value:!0}),n=o(0),a=r(n),i=o(26),l=o(797),s=r(l),c=o(643),d=r(c);class u extends a.default.PureComponent{constructor(e){super(e),this._handle_color_item_click=(e,t)=>{"function"==typeof this.props.onColorClick&&this.props.onColorClick(e,t)},this.st4te={classes:e.classes,colors:e.colors||[],selected_colors:e.selected_colors||["#"],padding:e.padding||24,gap:e.gap||0,size:e.size||32,transparent:e.transparent||!1,align:e.align||"center"}}setSt4te(e,t){let o=Object.keys(e),r=0|o.length,n="";for(let a=0;(0|a)<(0|r);a=(a+1|0)>>>0)n=o[a].toString(),this.st4te[n]=e[n];"function"==typeof t&&t()}componentDidMount(){this.forceUpdate()}componentWillReceiveProps(e){const{colors:t,selected_colors:o}=this.st4te;Boolean(e.colors[0]!==t[0].length||e.colors.length!==t.length||e.selected_colors.length!==o.length||(e.selected_colors||["#"])[0]!==(o||["#"])[0])&&this.setSt4te(e,(()=>{this.forceUpdate()}))}render(){let{classes:e,colors:t,padding:o,gap:r,size:n,transparent:i,align:l,selected_colors:c}=this.st4te;return a.default.createElement("div",{className:e.colorPalette,style:"center"===l?{padding:o,gap:r}:{justifyContent:"start",padding:o,gap:r}},a.default.createElement(s.default,{style:i?{}:{display:"none"},size:40,className:e.eraseButton,icon:a.default.createElement(d.default,null),full_width:!0,color:"#00000000",selected:Boolean((0|c.indexOf("#00000000"))>=0),onClick:e=>{this._handle_color_item_click(e,"#00000000")}}),t.map(((e,t)=>{var o=Boolean((0|c.indexOf(e))>=0);return a.default.createElement(s.default,{key:"c-"+e+"-i-"+t+"-s-"+(o?"1":"0"),color:e,size:n,selected:o,onClick:this._handle_color_item_click})})))}}t.default=(0,i.withStyles)((e=>({colorPalette:{contain:"contents",padding:24,display:"flex",flexDirection:"row",justifyContent:"left",alignContent:"stretch","& > *:not(:last-child)":{marginRight:8,marginBottom:8},flexWrap:"wrap"},eraseButton:{marginBottom:8}})))(u)},797:function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n,a,i,l,s,c,d;Object.defineProperty(t,"__esModule",{value:!0}),n=Object.assign||function(e){var t,o,r;for(t=1;t<arguments.length;t++)for(r in o=arguments[t])Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);return e},a=o(0),i=r(a),l=o(26),s=o(798),c=r(s),d=o(595);class u extends i.default.PureComponent{constructor(e){super(e),this.st4te={classes:e.classes,selected:e.selected||!1,color:e.color||"#00000000",size:e.size||"inherit",full_width:e.full_width||!1,icon:e.icon||null,key:e.key||Math.round(1e4*Math.random()).toString(16),style:e.style||{},_is_dark:!1}}setSt4te(e,t){let o=Object.keys(e),r=0|o.length,n="";for(let a=0;(0|a)<(0|r);a=(a+1|0)>>>0)n=o[a].toString(),this.st4te[n]=e[n];"function"==typeof t&&t()}componentDidMount(){this.forceUpdate()}componentWillReceiveProps(e){const{selected:t,color:o,size:r,icon:n,key:a}=this.st4te,i=Boolean(o!==e.color);Boolean(a!==e.key||t!==e.selected||i||r!==e.size||n!==e.icon)&&this.setSt4te(e,(()=>{this.forceUpdate()}))}render(){const{classes:e,full_width:t,selected:o,size:r,color:a,style:s,key:u}=this.st4te;let p=d.Color.new_hex(a).is_dark()?"#fff":"#000";return i.default.createElement(l.Tooltip,{title:a,key:u},i.default.createElement(l.IconButton,{disableRipple:!0,onClick:e=>{this.props.onClick(e,a)},style:n({background:a,width:t?"100%":r,height:r,borderRadius:"2px"},s),className:t?null:e.colorPaletteItem},o&&i.default.createElement(c.default,{style:{color:p}})))}}t.default=(0,l.withStyles)((e=>({colorPaletteItem:{padding:0,borderRadius:0,height:40,width:40}})))(u)},843:function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n,a,i,l,s,c,d,u,p,_,h;Object.defineProperty(t,"__esModule",{value:!0}),n=o(0),a=r(n),i=o(72),l=o(217),s=r(l),c=o(26),d=o(844),u=r(d),p=o(126),_=o(66),h=r(_);class f extends a.default.PureComponent{constructor(e){super(e),this._go_to_editor=(e="",t=!1)=>{e.startsWith("data:image/png;base64,")?h.default.load_with(e,t):e.length>0?fetch(e).then((e=>{e.blob().then((e=>{new Promise((function(t,o){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=function(){var o=URL.createObjectURL(e);t(o)},r.readAsDataURL(e)})).then((e=>{h.default.load_with(e,t)}))}))})):h.default.load_with(e,t)},this._notify_size_from_slider=(e,t)=>{this.props.on_import_size_change&&this.props.on_import_size_change(e,t)},this._handle_pixel_art_delete=e=>{this.props.on_pixel_art_delete&&this.props.on_pixel_art_delete(e)},this._set_horizontal_projects_list_el_ref=e=>null==e?null:void this.setSt4te({_horizontal_projects_list_el:e},(()=>{try{this.st4te._horizontal_projects_list_el.addEventListener("wheel",this._horizontal_projects_list_el_wheel,{passive:!1})}catch(e){}})),this._horizontal_projects_list_el_wheel=e=>{e.deltaY>0?(this.st4te._horizontal_projects_list_el.scrollLeft+=100,e.preventDefault()):(this.st4te._horizontal_projects_list_el.scrollLeft-=100,e.preventDefault())},this.st4te={classes:e.classes,open:e.open,size:e.size,pixel_arts:e.pixel_arts,theme_day:e.theme_day,_paperplane:null,_horizontal_projects_list_el:{}}}setSt4te(e,t){let o=Object.keys(e),r=0|o.length,n="";for(let a=0;(0|a)<(0|r);a=(a+1|0)>>>0)n=o[a]+"",this.st4te[n]=e[n];"function"==typeof t&&t()}componentDidMount(){h.default.trigger_loading_update(100),this.setSt4te({_paperplane:a.default.createElement(s.default,{id:"paperplane",loop:!0,autoplay:!0,src:"/src/js/lottie/paperplane.json",style:{transform:"translateZ(10px)",height:"75%",width:"100%",position:"absolute",top:0,left:0,zIndex:0}}),_ufo:a.default.createElement(s.default,{id:"ufo",loop:!0,autoplay:!0,src:"/src/js/lottie/ufo.json",style:{transform:"translateZ(10px)",height:"100%",width:"100%",position:"absolute",top:0,left:0,zIndex:0}})},(()=>{this.forceUpdate()}))}componentWillUnmount(){try{this.st4te._horizontal_projects_list_el.removeEventListener("wheel",this._horizontal_projects_list_el_wheel)}catch(e){}}componentWillReceiveProps(e){const t=this.st4te.open!==e.open;(t||this.st4te.size!==e.size||Object.keys(this.st4te.pixel_arts).join("-")!==Object.keys(e.pixel_arts).join("-"))&&this.setSt4te(e,(()=>{if(this.forceUpdate(),t)if(this.st4te.open)try{document.getElementById("presentation-video").pause()}catch(e){}else try{document.getElementById("presentation-video").play()}catch(e){}}))}render(){const{classes:e,size:t,open:o,pixel_arts:r,theme_day:n,_paperplane:i,_ufo:l}=this.st4te,s=!n;return a.default.createElement(c.Dialog,{open:o,className:e.dialogMobileFullscreen,maxWidth:"xl",onClose:this.props.onClose,disablePortal:!1,keepMounted:!1},a.default.createElement(c.DialogContent,null,a.default.createElement(c.Typography,{component:"h2",variant:"h6"},"Latest artworks"),a.default.createElement("div",{className:e.dialogContentContainer},a.default.createElement("div",{className:e.leftImage},a.default.createElement("input",{onChange:this.props.on_upload,accept:"image/jpg, image/svg, image/jpeg, image/png, image/webp, image/gif",style:{display:"none"},id:"button-file-dialog-primary",type:"file"}),a.default.createElement(c.Button,{component:"label",htmlFor:"button-file-dialog-primary",fullWidth:!0,variant:"contained",color:"secondary",className:s?e.uploadButtonDesktopUfo:e.uploadButtonDesktopPaperplane,autoFocus:!0,onClick:this.props.on_upload},s?l:i," ",a.default.createElement("span",{style:{zIndex:1,pointerEvents:"none",transform:"translateY(200%)"}},"Let's upload!"))),a.default.createElement("div",{className:e.rightImagesContainer},a.default.createElement("div",{className:e.rightImagesContainer,style:{padding:"8px 24px",position:"relative",overflow:"hidden",boxSizing:"border-box",width:"100%"}},a.default.createElement(c.Typography,{id:"size-slider",gutterBottom:!0},"Reduce size of the image down to :"),a.default.createElement(c.Slider,{key:t,defaultValue:parseInt(t),step:8,valueLabelDisplay:"auto",min:16,max:t>512?t:512,onChangeCommitted:this._notify_size_from_slider,"aria-labelledby":"size-slider"})),a.default.createElement("input",{onChange:this.props.on_upload,accept:"image/jpg, image/svg, image/jpeg, image/png, image/webp, image/gif",style:{display:"none"},id:"button-file-dialog-secondary",type:"file"}),a.default.createElement(c.Button,{component:"label",htmlFor:"button-file-dialog-secondary",className:e.mainUploadButton,fullWidth:!0,variant:"contained",color:"primary",autoFocus:!0},"UPLOAD"),a.default.createElement(c.Typography,{component:"h2",variant:"h6",style:{marginTop:16,marginLeft:24}},Boolean(0===Object.keys(r).length)?a.default.createElement("span",null,"Demo projects"):a.default.createElement("span",null,"Unsaved projects")),a.default.createElement("div",{style:{padding:"8px 24px",position:"relative",display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",boxSizing:"border-box",width:"100%"}},a.default.createElement(c.ImageList,{rowHeight:288,cols:2,ref:this._set_horizontal_projects_list_el_ref,style:{flexWrap:"nowrap",contain:"paint style layout",contains:"strict",maxWidth:"min(576px, calc(100vw - 96px))"}},Boolean(0===Object.keys(r).length)?["/src/images/demo/Redstar.jpg","/src/images/demo/Beast.jpg","/src/images/demo/Disney.jpg","/src/images/demo/Masterc.jpg","/src/images/demo/Man.jpg","/src/images/demo/Tower.jpg"].map(((e,t)=>a.default.createElement(c.ImageListItem,{style:{display:"inline-block",width:"auto",userSelect:"none"},key:t},a.default.createElement("img",{onClick:()=>{this._go_to_editor(e)},src:e,alt:`demo #${t}`,style:{zIndex:0,width:"auto",height:"100%",cursor:"pointer"}}),a.default.createElement(c.ImageListItemBar,{title:"Try with this image",subtitle:"This is a demo"})))):Object.values(r).sort(((e,t)=>t.timestamp-e.timestamp)).map(((e,t)=>{const{id:o,kb:r,preview:n,timestamp:i}=e;return a.default.createElement(c.ImageListItem,{style:{display:"inline-block",width:"auto",userSelect:"none"},className:"pixelated",key:o},a.default.createElement("img",{onClick:()=>{this.props.import_JSON_state(o)},src:n,alt:`preview ${t}`,style:{zIndex:0,width:"auto",height:"100%",cursor:"pointer"}}),a.default.createElement(c.ImageListItemBar,{title:(0,p.t)(i),subtitle:a.default.createElement("span",null,r.toFixed(2)," Kb"),actionIcon:a.default.createElement(c.IconButton,{style:{color:"#fff"},onClick:e=>{this._handle_pixel_art_delete(o)},"aria-label":"Delete"},a.default.createElement(u.default,null))}))}))))))),a.default.createElement(c.DialogActions,null,a.default.createElement(c.Button,{variant:"text",color:"primary",autoFocus:!0,onClick:this.props.onClose},(0,p.t)("words.close"))))}}t.default=(0,i.withStyles)((e=>({dialogMobileFullscreen:{"& .MuiPaper-root":{maxHeight:"calc(100% - -24px)",contentVisibility:"auto",contain:"paint style layout"},"& .MuiBackdrop-root":{background:"#060e2391"}},dialogContentContainer:{marginTop:16,[e.breakpoints.up("lg")]:{display:"inline-flex"},display:"grid"},leftImage:{display:"none",[e.breakpoints.up("lg")]:{display:"inherit",cursor:"pointer",float:"left",width:"384px",backgroundSize:"100%",backgroundPosition:"center",backgroundRepeat:"no-repeat","& > button":{maxHeight:36,height:36,marginTop:"calc(100% - 18px)"}},"&:hover":{backgroundSize:"100%"}},rightImagesContainer:{float:"right"},uploadButtonDesktopPaperplane:{background:"#060e23","&:hover":{background:"#01030f"},boxShadow:"none",color:"#fff",fontWeight:"bold",mixBlendMode:"hard-light",fontSize:"2.5em","& .MuiSvgIcon-root":{marginRight:"1em"}},uploadButtonDesktopUfo:{background:"#010218","&:hover":{background:"#000000"},boxShadow:"none",color:"#fff",fontWeight:"bold",fontSize:"2.5em","& .MuiSvgIcon-root":{marginRight:"1em"}},mainUploadButton:{display:"flex",[e.breakpoints.up("lg")]:{display:"none"}}})))(f)},849:function(e,t,o){"use strict";var r,n,a,i,l,s;Object.defineProperty(t,"__esModule",{value:!0}),r=o(0),n=(s=r)&&s.__esModule?s:{default:s},a=o(72),i=o(26),l=o(126);class c extends n.default.PureComponent{constructor(e){super(e),this._handle_path_open_index=e=>{const{_path:t}=this.state,o=t.split("/").splice(0,e).join("/");this.setState({_path:o},(()=>{this.forceUpdate()}))},this._handle_path_open_next_object=e=>{const{_path:t}=this.state;let o=t.split("/");o.push(e);const r=o.join("/");this.setState({_path:r},(()=>{this.forceUpdate()}))},this.state={classes:e.classes,keepMounted:e.keepMounted||!1,open:e.open,object:e.object,_path:""}}componentWillReceiveProps(e){this.setState(e,(()=>{this.forceUpdate()}))}render(){const{classes:e,_path:t,object:o,open:r,keepMounted:a}=this.state;let s=t.split("/"),c=o||{};return s.forEach((e=>{if(""!==e)try{c=c[e]}catch(t){}})),n.default.createElement(i.Dialog,{open:r,fullWidth:!0,disablePortal:!1,onClose:this.props.onClose,keepMounted:a},n.default.createElement(i.DialogContent,null,n.default.createElement(i.Breadcrumbs,{style:{paddingBottom:16}},n.default.createElement("a",{variant:"outlined",onClick:()=>{this._handle_path_open_index(0)}},"ROOT"),s.map(((e,t)=>{if(""!==e)return n.default.createElement(i.Link,{key:t,variant:"outlined",onClick:()=>{this._handle_path_open_index(t+1)}},e)}))),n.default.createElement(i.Divider,null),n.default.createElement("div",{style:{paddingBottom:16,paddingTop:16}},Object.entries(c).map(((e,t)=>{const[o,r]=e;return"string"!=typeof r?n.default.createElement(i.Button,{style:{margin:8},key:t,variant:"outlined",onClick:()=>{this._handle_path_open_next_object(o)}},o):n.default.createElement("img",{style:{margin:8},key:t,src:r,onClick:e=>{this.props.onSelectImage(r)}})})))),n.default.createElement(i.DialogActions,null,n.default.createElement(i.Button,{variant:"text",color:"primary",autoFocus:!0,onClick:this.props.onClose},(0,l.t)("words.close"))))}}t.default=(0,a.withStyles)((e=>({})))(c)},862:function(e,t,o){"use strict";var r,n,a,i,l,s;Object.defineProperty(t,"__esModule",{value:!0}),r=o(0),n=(s=r)&&s.__esModule?s:{default:s},a=o(72),i=o(26),l=o(126);class c extends n.default.PureComponent{constructor(e){super(e),this._handle_text_change=e=>{this.setState({_text:e.target.value.toString()},(()=>{this.forceUpdate()}))},this._handle_size_change=e=>{this.setState({_size:parseInt(e.target.value)},(()=>{this.forceUpdate()}))},this.state={classes:e.classes,keepMounted:e.keepMounted||!1,open:e.open,_text:"",_size:12}}componentWillReceiveProps(e){this.setState(e,(()=>{this.forceUpdate()}))}render(){const{classes:e,_text:t,_size:o,open:r,keepMounted:a}=this.state;return n.default.createElement(i.Dialog,{open:r,fullWidth:!0,disablePortal:!1,onClose:this.props.onClose,keepMounted:a},n.default.createElement(i.DialogContent,null,n.default.createElement(i.Typography,{component:"h2",variant:"h6"},"Write text to a new layer"),n.default.createElement(i.Divider,null),n.default.createElement("form",{noValidate:!0,autoComplete:"off"},n.default.createElement(i.TextField,{fullWidth:!0,label:"Text",value:t,placeholder:"Text to draw",onChange:this._handle_text_change}),n.default.createElement(i.TextField,{select:!0,fullWidth:!0,label:"Size",value:o,onChange:this._handle_size_change,helperText:"Please select your currency"},[{value:6,label:"xs"},{value:8,label:"s"},{value:12,label:"m"},{value:16,label:"l"},{value:24,label:"xl"},{value:36,label:"xxl"}].map((e=>n.default.createElement(i.MenuItem,{key:e.value,value:e.value},e.label))))),n.default.createElement(i.Button,{onClick:()=>{this.props.onSuccess(o,t)}},"Draw it")),n.default.createElement(i.DialogActions,null,n.default.createElement(i.Button,{variant:"text",color:"primary",autoFocus:!0,onClick:this.props.onClose},(0,l.t)("words.close"))))}}t.default=(0,a.withStyles)((e=>({})))(c)}}]);