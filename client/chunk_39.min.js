(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{597:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var i,l,r,_,s,d,c,u,m,p,f,h,g,b,v,w,y,x,k,E,S,C,T,I,N,z,D,O,A,L,M,P,R,j,B,q,F,K,Y,U,H,W,X,V,G,Z,J,$,Q,ee,te,ae,ne,oe,ie,le,re,_e,se,de,ce,ue,me,pe,fe,he,ge,be,ve,we,ye,xe,ke,Ee,Se,Ce,Te,Ie,Ne,ze,De,Oe,Ae,Le,Me,Pe,Re,je,Be,qe,Fe,Ke,Ye,Ue,He,We,Xe,Ve,Ge,Ze,Je,$e,Qe,et,tt,at,nt,ot,it,lt,rt,_t,st,dt,ct,ut,mt,pt,ft,ht,gt,bt,vt,wt,yt,xt,kt,Et,St,Ct,Tt,It,Nt,zt,Dt,Ot,At,Lt,Mt,Pt,Rt,jt,Bt,qt,Ft,Kt,Yt;Object.defineProperty(t,"__esModule",{value:!0}),i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a,n,o=[],i=!0,l=!1,r=void 0;try{for(a=e[Symbol.iterator]();!(i=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(_){l=!0,r=_}finally{try{!i&&a.return&&a.return()}finally{if(l)throw r}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},l=Object.assign||function(e){var t,a,n;for(t=1;t<arguments.length;t++)for(n in a=arguments[t])Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);return e},r=function(){function e(e,t){var a,n;for(a=0;a<t.length;a++)(n=t[a]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(689),s=n(_),d=a(690),c=a(155),u=n(c),m=a(0),p=n(m),f=a(259),h=n(f),g=a(281),b=n(g),v=a(77),w=n(v),y=a(54),x=n(y),k=n(a(52)),E=a(656),S=n(E),C=a(112),T=n(C),I=a(53),N=n(I),z=a(89),D=n(z),O=a(258),A=n(O),L=a(161),M=n(L),P=a(166),R=n(P),j=a(165),B=n(j),q=a(164),F=n(q),K=a(156),Y=n(K),U=a(260),H=n(U),W=a(111),X=n(W),V=a(110),G=n(V),Z=a(691),J=n(Z),$=a(78),Q=a(71),ee=n(Q),te=a(693),ae=n(te),ne=a(748),oe=n(ne),ie=a(420),le=n(ie),re=a(749),_e=n(re),se=a(417),de=n(se),ce=a(750),ue=n(ce),me=a(819),pe=n(me),fe=a(159),he=n(fe),ge=a(708),be=n(ge),ve=a(710),we=n(ve),ye=a(709),xe=n(ye),ke=a(704),Ee=n(ke),Se=a(702),Ce=n(Se),Te=a(701),Ie=n(Te),Ne=a(706),ze=n(Ne),De=a(415),Oe=n(De),Ae=a(821),Le=n(Ae),Me=a(707),Pe=n(Me),Re=a(672),je=n(Re),Be=a(700),qe=n(Be),Fe=a(698),Ke=n(Fe),Ye=a(699),Ue=n(Ye),He=a(822),We=n(He),Xe=a(705),Ve=n(Xe),Ge=a(703),Ze=n(Ge),Je=a(823),$e=n(Je),Qe=a(824),et=n(Qe),tt=a(422),at=n(tt),nt=a(825),ot=n(nt),it=a(826),lt=a(675),rt=a(828),_t=a(830),st=n(_t),dt=a(831),ct=n(dt),ut=a(832),mt=n(ut),pt=a(697),ft=n(pt),ht=a(833),gt=n(ht),bt=a(834),vt=n(bt),wt=a(835),yt=n(wt),xt=a(666),kt=a(684),Et=n(kt),St=a(661),Ct=n(St),Tt=a(154),It=a(836),Nt=n(It),zt=a(837),Dt=n(zt),Ot=a(838),At=n(Ot),Lt=a(645),Mt=a(711),Pt=n(Mt),a(839),window.mobileAndTabletCheck=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t},Rt=window.mobileAndTabletCheck(),jt=p.default.lazy((function(){return Promise.all([a.e(19),a.e(18)]).then(a.t.bind(null,928,7))})),Bt=(0,Lt.SIMDopeCreate)({create:{new_of:!0,new_hex:!0},properties:{hsla:!0,hex:!0,rgb:!0}}),qt=Bt.Color,Ft=function(e){var t,a,n,i,l,r,_,s,d,c,u,m,p;return{green:{color:_e.default[700]},red:{color:de.default[500]},root:(t={contain:"layout size style paint",contentVisibility:"auto",width:"100%",height:"100%",position:"relative",paddingBottom:72},o(t,e.breakpoints.up("lg"),{paddingBottom:0}),o(t,"background","border-box"),t),contentInner:{height:"100%",width:"100%",maxHeight:"100%",position:"relative",display:"flex",contain:"paint style size layout"},contentCanvas:{width:"100%",height:"100%",maxHeight:"100%",display:"inline-block",contain:"paint style size layout !important"},contentDrawer:o({overscrollBehavior:"none",display:"flex",zIndex:1400},e.breakpoints.up("lg"),{display:"none"}),drawerHeader:(a={},o(a,e.breakpoints.down("md"),{padding:"16px 24px 8px 24px"}),o(a,"padding","36px 24px 8px 24px"),o(a,"position","relative"),o(a,"zIndex",-1),o(a,"background","#fff"),a),desktopintrovideowrapper:{cursor:"pointer",margin:"12px 24px",position:"absolute",right:0,top:0,"&:active, &:hover, &:active > video, &:hover > video":{height:96,width:96,transform:"scale(2)",zIndex:1},height:56,width:56,"&::after":{content:"''",background:"#fff !important",position:"absolute",right:0,top:0,width:"10%",height:"15%"}},desktopintrovideo:{position:"absolute",right:0,top:0,height:56,width:56},mobileintrovideowrapper:{zIndex:1,cursor:"pointer",margin:"16px 56px",position:"absolute",right:0,top:0,height:32,width:32,"&::after":{content:"''",background:"#fff !important",position:"absolute",right:0,top:0,width:"10%",height:"15%"}},mobileintrovideo:{position:"absolute",right:0,top:0,height:32,width:32},effectSliderText:{color:"#050c4c",fontWeight:"bold",textTransform:"uppercase"},effectSlider:{color:"#3729c1",padding:"16px 0px","& > .MuiSlider-track":{height:4}},coordinate:{padding:"6px 8px 6px 8px",display:"block",position:"absolute",top:0,left:"50%",transform:"translate(-50%, 0%)",borderRadius:"0px 0px 4px 4px",backgroundColor:"#ededffff",color:"#050c4c",boxShadow:"inset 0px 3px 6px #050c4c4d",whiteSpace:"nowrap"},drawerModalBackdropRoot:{contain:"layout size style paint"},drawerModal:{transform:"translateY(-32px)",marginTop:32,contain:"size layout style",overflow:"hidden"},contentDrawerFixed:(n={zIndex:20,contain:"style size paint layout",boxShadow:"-2px 0px 4px 0px rgb(0 0 0 / 20%), -4px 0px 5px 0px rgb(0 0 0 / 14%), -6px 0px 10px 0px rgb(0 0 0 / 12%)",maxHeight:"100%",height:"100%"},o(n,e.breakpoints.down("md"),{display:"none"}),o(n,"width",480),o(n,"overscrollBehavior","none"),o(n,"display","inline-block"),o(n,"animationFillMode","both"),o(n,"animationName","$drawer"),o(n,"animationDuration","250ms"),o(n,"animationTimingFunction","cubic-bezier(0.4, 0, 0.2, 1)"),o(n,"animationDirection","alternate"),o(n,"animationIterationCount","1"),o(n,"animationDelay","0ms"),o(n,"& > div",{animationFillMode:"both",animationName:"$opacity",animationDuration:"125ms",animationTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",animationDirection:"alternate",animationIterationCount:"1",animationDelay:"150ms"}),n),"@keyframes drawer":{"0%":{transform:"translateX(100%)"},"190%":{transform:"translateX(0%)"}},"@keyframes opacity":{"0%":{filter:"opacity(0)"},"190%":{filter:"opacity(1)"}},"@keyframes menu":{"0%":{transform:"translateY(100%)"},"190%":{transform:"translateY(0%)"}},drawerPaper:{width:480,overflowX:"overlay",background:"#fafafa",contain:"layout paint size style"},swipeableDrawerPaper:{maxWidth:"100%",overscrollBehavior:"none",overflow:"hidden",paddingBottom:"48px",borderBox:"content-box",height:"100%",contain:"layout paint size style"},drawerContainer:(l={transform:"translateZ(10px)",scrollBehavior:"smooth",contain:"size style paint layout",height:"100% !important",overflow:"overlay"},o(l,e.breakpoints.down("md"),{height:"calc(100vh - 180px) !important"}),o(l,e.breakpoints.up("lg"),{overflowX:"hidden"}),o(l,"& > div",{overflowX:"hidden !important",overflowY:"overlay !important",display:"inline !important",width:"100% !important",height:"100% !important",contain:"size style paint layout !important"}),o(l,"& div .react-swipeable-view-container > div",o({overflow:"initial !important",alignItems:"normal",contain:"size style !important",height:"100%"},e.breakpoints.down("md"),{height:"100% !important",paddingBottom:"24px",boxSizing:"border-box"})),o(l,"& div .react-swipeable-view-container > div[aria-hidden=true]",o({},e.breakpoints.up("lg"),{height:"16px"})),o(l,"& div .react-swipeable-view-container > div[aria-hidden=false]  > ul",o({},e.breakpoints.down("md"),{paddingBottom:0})),o(l,"& > div > .react-swipeable-view-container",(i={display:"flex !important",filter:"inherit !important",WebkitFilter:"inherit",willChange:"none !important",height:"100% !important"},o(i,e.breakpoints.up("lg"),{width:480}),o(i,e.breakpoints.down("md"),{width:"100%"}),i)),l),tabs:{contain:"paint size style layout",animationFillMode:"both",animationName:"$menu",animationDuration:"175ms",animationTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",animationDirection:"alternate",animationIterationCount:"1",animationDelay:"0ms",height:72,display:"grid","& .MuiTabs-scroller":{overflowY:"hidden"},"& .MuiTab-root":{minWidth:"auto",flex:"auto"},"& .MuiTabs-indicator":{backgroundColor:"#050c4c"}},"@keyframes bounce":{"0%":{transform:"translate3d(0, 0px, 0) scaleY(1.00)"},"20%":{transform:"translate3d(0, 2px, 0) scaleY(0.95)"},"40%":{transform:"translate3d(0, 0px, 0) scaleY(1.00)"},"70%":{transform:"translate3d(0, -2px, 0) scaleY(1.10)"},"80%":{transform:"translate3d(0, 1px, 0) scaleY(0.95)"},"90%":{transform:"translate3d(0, 0px, 0) scaleY(1.00)"}},tab:{backgroundColor:"#fafafa",color:"#050c4c",transition:"color, background-color cubic-bezier(0.4, 0, 0.2, 1) .275s","&.Mui-selected":{fontWeight:"bold",backgroundColor:"#dfddf2",color:"#050c4c",transition:"color, background-color cubic-bezier(0.4, 0, 0.2, 1) .175s",borderRadius:"4px 4px 0px 0px","& .MuiTab-wrapper":{animationDuration:"375ms",animationTimingFunction:"linear",animationName:"$bounce",transformOrigin:"center bottom"}},"&:hover":{fontWeight:"bold",backgroundColor:"#e8e6f5",color:"#050c4c",transition:"color, background-color cubic-bezier(0.4, 0, 0.2, 1) .175s",borderRadius:"4px 4px 0px 0px","& .MuiTab-wrapper":{animationDuration:"375ms",animationTimingFunction:"linear",animationName:"$bounce",transformOrigin:"center bottom"}},"&:first-child":{borderRadius:"0px 4px 0px 0px"},"&:last-child":{borderRadius:"4px 0px 0px 0px"},"& .MuiTab-wrapper":{fontSize:"11px"},"& .MuiTab-wrapper svg":{width:32,height:32,contentVisibility:"auto"}},tabNoIcon:{backgroundColor:"white",color:"#050c4c",transition:"color, background-color ease-in .175s","&.Mui-selected":{fontWeight:"bold",backgroundColor:"#dfddf2",color:"#050c4c",borderRadius:"4px 4px 0px 0px"},"&.MuiTab-labelIcon":{minHeight:36},"& .MuiTab-wrapper":{fontSize:"11px"},"& .MuiTab-wrapper svg":{width:32,height:32,display:"none",color:"#181063"}},"@keyframes backdropanim":{"0%":{filter:"drop-shadow(0px, 0px, 20px, 20px, #131c955c)"}},backdrop:{zIndex:2e3,color:"#fff",filter:"brightness(1.1) contrast(1.2) drop-shadow(0 0 12px #070b32)",background:"radial-gradient(farthest-corner, #001856d1 20%, #636eff52 80%, #474e9b2b)",contain:"layout paint size style",userSelect:"none",animation:"$backdropanim 16s linear infinite both"},backdropTextContent:{display:"block",textAlign:"center"},fatabs:(r={transition:"transform 45ms cubic-bezier(0.4, 0, 0.2, 1) 5ms",backgroundColor:"#fafafa",boxShadow:"0px 2px 4px -1px rgb(0 0 0 / 20%), 0px 4px 5px 0px rgb(0 0 0 / 14%), 0px 1px 10px 0px rgb(0 0 0 / 12%)",contain:"paint size style layout"},o(r,e.breakpoints.up("lg"),{display:"none"}),o(r,e.breakpoints.up("md"),{width:"100%"}),o(r,"zIndex",1300),o(r,"position","fixed"),o(r,"bottom",0),o(r,"right",0),o(r,"width","100%"),o(r,"height",72),r),listOfTools:(_={paddingTop:0},o(_,e.breakpoints.down("md"),{width:"100%"}),o(_,"width",360),_),contextMenuSubheader:{lineHeight:"24px",backgroundColor:"#eee",color:e.palette.secondary.light},contextMenuFuckYouActive:{cursor:'url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAApCAYAAAAiT5m3AAABXklEQVRYR+2XSxKCMAyGYSXqCdiJev8TqbjjBCqucMJMnDSk6QOKM0hXzPTxNemfB3n2o5GP4Z4OVYf7r/c66KygxfSSCL3Ut+xcHfupEPgoMEBxAHwFa/pZXe0dXaDqVVzLCyeaIkEMs7wxTZEAhUyVHMyhs4KpdTYwj0VNbF6Za7cpukf7Ms7lruaXcVWsZGC8iM3qHszVyhfHWIxg6qamabLnu+2ZXzC+IbqIFvZYsOb+AZgWdviGW5ZlaYSOLaG73p263wqWlEuBEkS6kC3eVbAG97FOi/fkYO4F7M0MVfMkQd/bNucq4KqrYbOk3NnAoF5edbjKYy2n50CeGGQu3tK4XBk6b7wx3ZwSTPO3aLHN3aHW8fX7YmumTL4gldX/A5YKj1iPaZkcGz62uqw2AlO9tfQLmxQsuRiF7ARjTeY9l09oaT/r0T3XssEgMmiBQgcUHbXLDD1wivUfqwJ8Oe4e4FEAAAAASUVORK5CYII=") 17 28, auto',"& .MuiList-padding":{padding:0}},contextMenuFuckYouDisable:{"& .MuiList-padding":{padding:0}},ripple:{contain:"layout paint size style",pointerEvents:"none",contentVisibility:"auto",mixBlendMode:"dodge"},infoIcon:{position:"absolute"},blueCenter:{color:e.palette.secondary.lighter,textAlign:"center",minWidth:"100%"},perspectiveButton:{position:"absolute",left:16,top:16,animationFillMode:"both",animationName:"$fadein",animationDuration:"225ms",animationTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",animationDirection:"alternate",animationIterationCount:"1",animationDelay:"175ms"},saveButton:(s={backgroundColor:"#0037ff14 !important",position:"absolute",right:496,top:16},o(s,e.breakpoints.down("md"),{right:16}),o(s,"animationFillMode","both"),o(s,"animationName","$fadein"),o(s,"animationDuration","225ms"),o(s,"animationTimingFunction","cubic-bezier(0.4, 0, 0.2, 1)"),o(s,"animationDirection","alternate"),o(s,"animationIterationCount","1"),o(s,"animationDelay","175ms"),s),confirmImportButton:(d={position:"absolute",left:16,bottom:16},o(d,e.breakpoints.down("md"),{bottom:88}),o(d,"animationFillMode","both"),o(d,"animationName","$fadein"),o(d,"animationDuration","225ms"),o(d,"animationTimingFunction","cubic-bezier(0.4, 0, 0.2, 1)"),o(d,"animationDirection","alternate"),o(d,"animationIterationCount","1"),o(d,"animationDelay","175ms"),d),zoomInButton:(c={position:"absolute",left:16,bottom:104},o(c,e.breakpoints.down("md"),{bottom:176}),o(c,"animationFillMode","both"),o(c,"animationName","$fadein"),o(c,"animationDuration","225ms"),o(c,"animationTimingFunction","cubic-bezier(0.4, 0, 0.2, 1)"),o(c,"animationDirection","alternate"),o(c,"animationIterationCount","1"),o(c,"animationDelay","175ms"),c),zoomOutButton:(u={position:"absolute",left:16,bottom:60},o(u,e.breakpoints.down("md"),{bottom:132}),o(u,"animationFillMode","both"),o(u,"animationName","$fadein"),o(u,"animationDuration","225ms"),o(u,"animationTimingFunction","cubic-bezier(0.4, 0, 0.2, 1)"),o(u,"animationDirection","alternate"),o(u,"animationIterationCount","1"),o(u,"animationDelay","175ms"),u),redoButton:(m={backgroundColor:"#0037ff14 !important",position:"absolute",right:496,bottom:60},o(m,e.breakpoints.down("md"),{right:16,bottom:132}),o(m,"animationFillMode","both"),o(m,"animationName","$fadein"),o(m,"animationDuration","225ms"),o(m,"animationTimingFunction","cubic-bezier(0.4, 0, 0.2, 1)"),o(m,"animationDirection","alternate"),o(m,"animationIterationCount","1"),o(m,"animationDelay","175ms"),m),undoButton:(p={backgroundColor:"#0037ff14 !important",position:"absolute",right:496,bottom:16},o(p,e.breakpoints.down("md"),{right:16,bottom:88}),o(p,"animationFillMode","both"),o(p,"animationName","$fadein"),o(p,"animationDuration","225ms"),o(p,"animationTimingFunction","cubic-bezier(0.4, 0, 0.2, 1)"),o(p,"animationDirection","alternate"),o(p,"animationIterationCount","1"),o(p,"animationDelay","175ms"),p),"@keyframes fadein":{"0%":{filter:"opacity(0)"},"190%":{filter:"opacity(1)"}},imageBackdrop:{filter:"brightness(1.5) contrast(0.75) drop-shadow(2px 4px 6px black)",width:"min(75vw, 75vh)"}}},Kt=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Yt.call(a),a.st4te={classes:e.classes,load_with:e.load_with+"",_history:$.HISTORY,_perspective:!1,_library_dialog_open:!1,_library:{},_library_type:"open",_view_name_index:1,_handle_wheel_timestamp:Date.now(),_view_name_sub_index:0,_previous_view_name_index:1,_view_names:["palette","image","layers","tools","selection","effects","filters"],_canvas:null,_loading:!1,_loading_process:"",_can_undo:0,_can_redo:0,_current_color:"#ffffffff",_second_color:"#000000ff",_pxl_current_opacity:1,_width:32,_height:32,_import_size:"192",_import_colorize:"0",_hue:360,_slider_value:.25,_slider_value_width:192,_slider_value_height:96,_game_ended:!1,_tool:Rt?"MOVE":"PENCIL",_memory_tool:Rt?"MOVE":"PENCIL",_previous_tool_timestamp:1/0,_select_mode:"REPLACE",_pencil_mirror_mode:"NONE",_filters:[],_x:-1,_y:-1,_drag_file:!1,_is_something_selected:!1,_hide_canvas_content:!1,_show_original_image_in_background:!1,_show_transparent_image_in_background:!0,_is_image_import_mode:!1,_layers:[],_layer_index:0,_previous_layer_index:0,_mine_player_direction:"UP",_is_edit_drawer_open:!1,_kb:0,_saved_at:Date.now(),_fps:0,_prev_fps:0,_menu_mouse_y:null,_menu_mouse_x:null,_menu_data:{},_menu_event:null,_ripple:null,_ripple_color:"#ffffffff",_ripple_opacity:1,_is_pixel_dialog_post_edit_open:!1,_is_dialog_info_open:!1,_base64_url:"",_logged_account:{},_less_than_1280w:!1,_is_pixel_dialog_create_open:!1,_attachment_previews:{},_swipeable_drawer_handle_filters_thumbnail_change:function(){},_swipeable_drawer_set_props:function(){},_toolbox_container_ref:{},_files_waiting_download:[],_time_ago_initiated:!1,_fps_el:{},_xy_el:{},_settings:h.default.unpack(e.settings)},a.sraf=Object.create(Pt.default).init(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"setSt4te",value:function(e,t){var a,n=Object.keys(e),o=0|n.length,i="";for(a=0;(0|a)<(0|o);a=(a+1|0)>>>0)i=n[a],this.st4te[i]=e[i];"function"==typeof t&&t()}},{key:"componentWillMount",value:function(){ee.default.trigger_loading_update(0),ee.default.trigger_page_render_complete(),setTimeout((function(){ee.default.trigger_loading_update(100)}),300)}},{key:"componentDidMount",value:function(){var e=this;ee.default.trigger_snackbar("Awesome buddy! Welcome back to the laboratory.",3500),(0,Tt.l)(null,(function(){e._compute_menu_drawer(),e.setSt4te({_time_ago_initiated:!0})}),!0),setTimeout((function(){e.st4te._is_pixel_dialog_create_open&&(ee.default.trigger_snackbar("Right here! Let's upload a picture now to create a new artwork.",6e3),setTimeout((function(){e.st4te._is_pixel_dialog_create_open&&(ee.default.trigger_snackbar("By the way, ...",1e3),setTimeout((function(){e.st4te._is_pixel_dialog_create_open&&(ee.default.trigger_snackbar("Huh, let me take my breath! ...",1500),setTimeout((function(){e.st4te._is_pixel_dialog_create_open&&ee.default.trigger_snackbar("You can set the size of your artwork before uploading your picture.",1e4)}),3e3))}),1500))}),8500))}),9e3),ee.default.jamy_update("happy"),window.addEventListener("resize",this._updated_dimensions),window.addEventListener("wheel",this._prevent_ctrl_zoom,{passive:!1}),document.addEventListener("keydown",this._handle_keydown),document.addEventListener("keyup",this._handle_keyup);try{document.getElementById("tabs-desktop").addEventListener("wheel",this._handle_wheel,{passive:!1})}catch(t){}b.default.register(this._handle_events.bind(this)),this.setSt4te({_h_svg:(0,xt.createLocalBlob)((0,Ct.default)(p.default.createElement(Et.default,{color:"#e5e5e5"}))),_h_svg_size:"100px 115px"}),(0,u.default)((function(){return a.e(45).then(a.t.bind(null,943,7))})).then((function(t){e.setSt4te({_library:t})})),this._set_saved_at_element(),this._try_load_with_payload(this.st4te.load_with),setTimeout((function(){e._request_force_update(!1,!0).then((function(){e._updated_dimensions()}))}),1e3)}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.load_with!==this.st4te.load_with?this.setSt4te(l({_settings:h.default.unpack(e.settings)},e),(function(){t._compute_menu_drawer(),t._request_force_update().then((function(){t._try_load_with_payload(t.st4te.load_with)}))})):this.setSt4te(l({_settings:h.default.unpack(e.settings)},e))}},{key:"_handle_events",value:function(e){var t=this;if("TRIGGER_CANVAS_ACTION"===e.type)switch(e.data.name.toUpperCase()){case"CONTRAST":this._to_auto_medium_more_contrast();break;case"SATURATION":this._to_auto_medium_more_saturation();break;case"PALETTE":this._less_colors_auto();break;case"SMOOTH":this._smooth_adjust();break;case"FILTER":this._handle_edit_drawer_open(null,6);break;case"RENDER":this._handle_edit_drawer_open(null,1),setTimeout((function(){t._handle_edit_drawer_open(null,1),setTimeout((function(){t._handle_edit_drawer_open(null,1)}),100)}),100)}}},{key:"componentWillUnmount",value:function(){this._backup_state(),ee.default.stop_sound(),window.removeEventListener("resize",this._updated_dimensions),window.removeEventListener("wheel",this._prevent_ctrl_zoom);try{document.getElementById("tabs-desktop").removeEventListener("wheel",this._handle_wheel,{passive:!1})}catch(e){}document.removeEventListener("keydown",this._handle_keydown),document.removeEventListener("keyup",this._handle_keyup),clearInterval(this.st4te._saved_at_interval)}},{key:"render",value:function(){var e=this,t=this.st4te,a=t.classes,n=t._canvas,o=t._loading,i=t._loading_process,l=t._is_image_import_mode,r=t._hide_canvas_content,_=t._show_original_image_in_background,d=t._show_transparent_image_in_background,c=t._can_undo,u=t._can_redo,f=t._current_color,h=t._slider_value,g=t._tool,b=t._import_size,v=t._hue,y=t._select_mode,k=t._pencil_mirror_mode,E=t._kb,S=t._mine_player_direction,C=t._menu_data,T=t._ripple_color,I=t._ripple_opacity,N=t._library_dialog_open,z=t._library,O=t._is_pixel_dialog_create_open,A=t._h_svg,L=t._h_svg_size,M=t._attachment_previews,P=t._perspective,R=t._files_waiting_download,j=t._time_ago_initiated,B=t._settings,q=t._text_dialog_open,F=t._drag_file;return C.pos_x=-1===C.pos_x?"out":C.pos_x,C.pos_y=-1===C.pos_y?"out":C.pos_y,p.default.createElement("div",{style:{height:"100%",position:"relative",pointerEvents:"none",userSelect:"none"},ref:this._set_root_ref},p.default.createElement("div",{className:a.root},p.default.createElement("div",{className:a.contentInner,style:{backgroundColor:"#f7f7f7",backgroundImage:'url("'+A+'")',backgroundRepeat:"repeat",backgroundSize:L,textRendering:"optimizespeed",imageRendering:"optimizespeed"}},p.default.createElement(m.Suspense,{fallback:p.default.createElement("div",{className:a.contentCanvas})},p.default.createElement(jt,{set_compressor:this._set_png_compressors,perspective:P?2:0,on_state_export:this._handle_canvas_state_will_export,on_state_exported:this._handle_canvas_state_exported,on_fps_change:this._handle_fps_change,export_state_every_ms:Rt?3e5:21e4,shadow_size:Rt?0:1.5,key:"canvas",className:a.contentCanvas,ref:this._set_canvas_ref,tool:g,canvas_wrapper_padding:8,hide_canvas_content:r,show_original_image_in_background:_&&!0,show_transparent_image_in_background:d,select_mode:y,pencil_mirror_mode:k,hue:v,bucket_threshold:h,color_loss:h,pxl_current_opacity:1,onLoadComplete:this._handle_load_complete,onLoad:this._handle_load,onCanUndoRedoChange:this._handle_can_undo_redo_change,onSizeChange:this._handle_size_change,onCurrentColorChange:this._handle_current_color_change,onSomethingSelectedChange:this._handle_something_selected_change,onImageImportModeChange:this._handle_image_import_mode_change,onPositionChange:this._handle_position_change,onLayersChange:this._handle_layers_change,onFiltersThumbnailChange:this._handle_filters_thumbnail_change,onGameEnd:this._handle_game_end,onRelevantActionEvent:this._handle_relevant_action_event,setCursorFuckYou:this._set_cursor_fuck_you,onRightClick:this._handle_right_click,mine_player_direction:S,pxl_current_color:f,convert_scale:1,default_size:b,ideal_size:b,max_size:1.5*b,fast_drawing:!0,px_per_px:1})),this.drawer_desktop,this.menu)),p.default.createElement("div",{style:{pointerEvents:"all"}},p.default.createElement(x.default,{className:a.perspectiveButton,color:"primary",size:"small",onClick:this._toggle_perspective},P?p.default.createElement(et.default,null):p.default.createElement($e.default,null)),p.default.createElement(w.default,{className:a.saveButton,variant:"text",color:"primary",onClick:this._backup_state},p.default.createElement("span",{id:"saved_at"},"?")," ",p.default.createElement(We.default,null)," ",E<.5?"?":Math.round(10*E)/10," kB"),p.default.createElement(w.default,{disabled:!l,className:a.confirmImportButton,color:"primary",size:"small",onClick:function(){l?n.confirm_import():e._import_image_library()}},p.default.createElement(s.default,null)," ",l?"OK":"Import"),p.default.createElement(x.default,{className:a.zoomOutButton,color:"primary",size:"small",onClick:function(){n.zoom_out()}},p.default.createElement(Dt.default,null)),p.default.createElement(x.default,{className:a.zoomInButton,color:"primary",size:"small",onClick:function(){n.zoom_in()}},p.default.createElement(Nt.default,null)),p.default.createElement(w.default,{disabled:!u,variant:"text",color:"primary",size:"small",className:a.redoButton,onClick:function(t){e._redo()}},(-u||"")+" Redo"," ",p.default.createElement(Le.default,{style:{transition:"ease-out 225ms transform 25m",transform:"rotate(+"+(360*u+90)+"deg)"}})),p.default.createElement(w.default,{disabled:!c,variant:"text",color:"primary",size:"small",className:a.undoButton,onClick:function(t){e._undo()}},p.default.createElement(Le.default,{style:{transition:"ease-out 225ms transform 25ms",transform:"rotate(-"+(360*c+90)+"deg)"}}),(+c||"")+" Undo")),this.drawer_mobile,p.default.createElement(ot.default,{keepMounted:!1,open:!!N,object:z,onClose:this._close_library,onSelectImage:this._from_library}),p.default.createElement(At.default,{keepMounted:!1,open:!!q,onClose:this._close_text,onSuccess:this._draw_text}),p.default.createElement(pe.default,{keepMounted:!1,theme_day:B._theme_day,open:!!O,pixel_arts:j?M:{},size:b,on_import_size_change:this._set_import_size,on_pixel_art_delete:this._delete_unsaved_pixel_art,import_JSON_state:this._handle_import_json_state_id,on_upload:this._handle_file_upload,onClose:this._handle_pixel_dialog_create_close}),p.default.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",top:0,left:0,contain:"paint size style layout",visibility:"auto"}},p.default.createElement(J.default,{className:a.ripple,ref:this._set_ripple_ref,center:!1,style:{color:T,opacity:I,position:"fixed",width:"100%",height:"100%"}}),p.default.createElement(D.default,{style:{pointerEvents:"all",cursor:"pointer"},onDrag:this._handle_file_upload,className:a.backdrop,open:!!(o||R.length>0||F+1e3>Date.now())},p.default.createElement("div",{className:a.backdropTextContent,style:{fontFamily:'"Industry Book"',textTransform:"uppercase"},onClick:this._continue_download},!F&&!!(o||R.length>0)&&p.default.createElement("h1",null,p.default.createElement(at.default,{key:i||o,text:"browser"===i?"Laboratory in DANGER!":"LABORATORY PROCESSING",animation_delay_ms:0,animation_duration_ms:200})),!F&&R.length>0&&p.default.createElement("h3",null,p.default.createElement(at.default,{key:R[0].name,text:"ACTION REQUIRED... "+R[0].name,animation_delay_ms:300,animation_duration_ms:500})),!F&&R.length>0&&p.default.createElement("div",null,p.default.createElement("img",{src:"/src/images/labostration/DOWNLOAD.svg",className:a.imageBackdrop})),!F&&R.length>0&&p.default.createElement("h4",null,p.default.createElement(at.default,{pre:"[... ",app:" ...]",style:{textShadow:"0px 0px 16px white"},text:"CLICK ON THE SCREEN TO CONTINUE DOWNLOAD!",animation_delay_ms:Rt?5e3:2500,animation_duration_ms:500})),!F&&0===R.length&&o&&"browser"===i&&p.default.createElement("h3",null,p.default.createElement(at.default,{text:"Doesn't feel like home for our dear code here.",animation_delay_ms:300,animation_duration_ms:500})),!F&&0===R.length&&o&&"browser"===i&&p.default.createElement("h4",null,p.default.createElement(at.default,{pre:"[... ",app:" ...]",text:"It can take a while, please download an advanced browser.",animation_delay_ms:Rt?5e3:2500,animation_duration_ms:500})),!F&&0===R.length&&o&&"image_ai"===i&&p.default.createElement("h3",null,p.default.createElement(at.default,{text:"AI processing your image",animation_delay_ms:300,animation_duration_ms:500})),F&&p.default.createElement("div",null,p.default.createElement("img",{src:"/src/images/labostration/ABDUCTION.svg",className:a.imageBackdrop})),F&&p.default.createElement("h4",null,p.default.createElement(at.default,{pre:"[... ",app:" ...]",text:"Drop the file to the UFO.",animation_delay_ms:Rt?5e3:2500,animation_duration_ms:500})),F&&p.default.createElement("h3",null,p.default.createElement(at.default,{text:"Ready for a new image abduction?",animation_delay_ms:300,animation_duration_ms:500})),!F&&0===R.length&&o&&"image_ai"===i&&p.default.createElement("div",null,p.default.createElement("img",{src:"/src/images/labostration/MOLECULE.svg",className:a.imageBackdrop})),!F&&0===R.length&&o&&"image_ai"===i&&p.default.createElement("h4",null,p.default.createElement(at.default,{pre:"[... ",app:" ...]",text:"It can take a while, please wait ~10sec.",animation_delay_ms:Rt?5e3:2500,animation_duration_ms:500})),!F&&0===R.length&&o&&"image_preload"===i&&p.default.createElement("h3",null,p.default.createElement(at.default,{text:"Preparing laboratory",animation_delay_ms:300,animation_duration_ms:500})),!F&&0===R.length&&o&&"image_preload"===i&&p.default.createElement("div",null,p.default.createElement("img",{src:"/src/images/labostration/SCIENCE.svg",className:a.imageBackdrop})),!F&&0===R.length&&o&&"image_preload"===i&&p.default.createElement("h4",null,p.default.createElement(at.default,{pre:"[... ",app:" ...]",text:"It can take a while, please wait ~"+parseInt(3*parseFloat(b/100))*(Rt?3:1)+"sec.",animation_delay_ms:Rt?5e3:2500,animation_duration_ms:500})),!F&&0===R.length&&o&&"image_load"===i&&p.default.createElement("h3",null,p.default.createElement(at.default,{text:"Abducting your image",animation_delay_ms:300,animation_duration_ms:500})),!F&&0===R.length&&o&&"image_load"===i&&p.default.createElement("div",null,p.default.createElement("img",{src:"/src/images/labostration/ABDUCTION.svg",className:a.imageBackdrop})),!F&&0===R.length&&o&&"image_load"===i&&p.default.createElement("h4",null,p.default.createElement(at.default,{pre:"[... ",app:" ...]",text:"It can take a while, please wait ~"+parseInt(4*parseFloat(b/100))*(Rt?3:1)+"sec.",animation_delay_ms:Rt?5e3:2500,animation_duration_ms:500})),!F&&0===R.length&&o&&"image_render"===i&&p.default.createElement("div",null,p.default.createElement("img",{src:"/src/images/labostration/COMPUTING.svg",className:a.imageBackdrop})),!F&&0===R.length&&o&&"image_render"===i&&p.default.createElement("h3",null,p.default.createElement(at.default,{text:"Atomic rendering in process",animation_delay_ms:300,animation_duration_ms:500})),!F&&0===R.length&&o&&"image_render"===i&&p.default.createElement("h4",null,p.default.createElement(at.default,{pre:"[... ",app:" ...]",text:"It can take a while, please wait ~14sec.",animation_delay_ms:Rt?5e3:2500,animation_duration_ms:500})),!F&&0===R.length&&o&&"less_color"===i&&p.default.createElement("h3",null,p.default.createElement(at.default,{text:"Coupling few color DNA",animation_delay_ms:300,animation_duration_ms:500})),!F&&0===R.length&&o&&"less_color"===i&&p.default.createElement("div",null,p.default.createElement("img",{src:"/src/images/labostration/GENOMA.svg",className:a.imageBackdrop})),!F&&0===R.length&&o&&"less_color"===i&&p.default.createElement("h4",null,p.default.createElement(at.default,{pre:"[... ",app:" ...]",text:"It can take a while, please wait ~4sec.",animation_delay_ms:Rt?5e3:2500,animation_duration_ms:500})),!F&&0===R.length&&o&&"less_color_auto"===i&&p.default.createElement("h3",null,p.default.createElement(at.default,{text:"Coupling the DNA of many color",animation_delay_ms:500,animation_duration_ms:500})),!F&&0===R.length&&o&&"less_color_auto"===i&&p.default.createElement("div",null,p.default.createElement("img",{src:"/src/images/labostration/GENOMA.svg",className:a.imageBackdrop})),!F&&0===R.length&&o&&"less_color_auto"===i&&p.default.createElement("h4",null,p.default.createElement(at.default,{pre:"[... ",app:" ...]",text:"It can take a while, please wait ~7sec.",animation_delay_ms:Rt?5e3:2500,animation_duration_ms:500}))))))}}]),t}(p.default.PureComponent),Yt=function(){var e,t,n=this;this._request_force_update=function(e,t){return e=void 0===e||e,t=void 0!==t&&t,n.sraf.run_frame((function(){return new Promise((function(e,t){n.forceUpdate(e)}))}),!e,!t,Date.now(),"page_pixel").catch((function(){return n._request_force_update(e,t)}))},this._set_fps_and_xy_elements=function(){setTimeout((function(){n.st4te._less_than_1280w?n.setSt4te({_fps_el:{},_xy_el:{}}):n.setSt4te({_fps_el:document.getElementById("fps_el")||{},_xy_el:document.getElementById("xy_el")||{}})}),1e3)},this._prevent_ctrl_zoom=function(e){e.ctrlKey&&e.preventDefault()},this._set_saved_at_element=function(){n.st4te._saved_at_el||n.setSt4te({_saved_at_el:document.getElementById("saved_at")},(function(){var e=setInterval((function(){n.st4te._saved_at_el.innerText=(0,Tt.t)(n.st4te._saved_at||Date.now(),{mini:!0})}),1e3);n.setSt4te({_saved_at_interval:e})}))},this._try_load_with_payload=function(e){var t,o,l;0===e.length?(he.default.get_settings(n._process_settings_info_result),setTimeout((function(){n.setSt4te({_is_pixel_dialog_create_open:!(0!==e.length)},(function(){n._compute_menu_drawer(),n._request_force_update()}))}),725)):(t=!!e.startsWith("data:image/png;base64,"),o=t?"image/png":"image/jpeg",l=n.st4te._import_size,n._handle_load("image_preload"),(0,lt.base64_to_bitmap)(e,(function(e){var t,r,_,s,d;ee.default.trigger_voice("data_upload"),r=Rt?512:1024,_=parseInt((t=Rt?960:1440)*t),s=Math.min(parseInt(262144),Math.max(parseInt(l*l),parseInt(r*r))),d=Math.min(parseInt(262144),parseInt(l*l)),(0,lt.bitmap_to_imagedata)(e,_,(function(e){(0,u.default)((function(){return Promise.resolve().then(a.t.bind(null,652,7))})).then((function(t){var a=t.QuantiMatGlobal;(0,lt.imagedata_to_base64)(e,o,(function(e){(0,lt.base64_to_bitmap)(e,(function(t){(0,lt.bitmap_to_imagedata)(t,s,(function(t){a(t,256).then((function(t){var a=i(t,6),o=a[0],l=(a[1],a[2],a[3]),r=a[4],_=a[5];null===o?(window.dispatchEvent(new Event("art-upload-browsererror")),n._handle_load_complete("image_preload",{}),n._handle_load("browser"),ee.default.trigger_sfx("alert_high-intensity",.6),ee.default.jamy_update("flirty"),ee.default.trigger_snackbar("That's our end my little buddy! My instinctive dwelling require a browser I am supporting.",6e3),setTimeout((function(){ee.default.trigger_sfx("alert_high-intensity",.7),ee.default.jamy_update("sad"),ee.default.trigger_snackbar("Abandon, misfortune, sadness... I can't live in this strange place.",7e3),setTimeout((function(){ee.default.trigger_sfx("alert_high-intensity",.8),ee.default.jamy_update("suspicious"),ee.default.trigger_snackbar("Ho no! I just can't, but someone needs to give me back my usual laboratory environment!",7e3),setTimeout((function(){ee.default.trigger_sfx("alert_high-intensity",.9),ee.default.jamy_update("shocked"),ee.default.trigger_snackbar("Yes my enjoyable smartness, gladly you hear me now! Everything gonna be alright to look at me!",9e3),setTimeout((function(){ee.default.jamy_update("happy"),ee.default.trigger_sfx("alert_high-intensity",1),setTimeout((function(){ee.default.trigger_sfx("alert_high-intensity",1)}),750)}),4e3)}),8e3)}),8e3)}),7e3)):(setTimeout((function(){ee.default.trigger_snackbar("I am really awesome, within "+parseFloat(_/1e3).toFixed(3)+"sec. I've made disappears "+l+" colors, now there are "+r+" colors!",5700),setTimeout((function(){ee.default.jamy_update("happy")}),2e3)}),15e3),(0,lt.imagedata_to_base64)(o,"image/png",(function(t){(0,lt.base64_to_bitmap)(t,(function(t){(0,lt.bitmap_to_imagedata)(t,d,(function(t){(0,lt.imagedata_to_base64)(t,"image/png",(function(t){var a=new Image;a.addEventListener("load",(function(){n._handle_load_complete("image_preload",{}),n.setSt4te({_kb:0,_saved_at:1/0}),n.st4te._canvas.set_canvas_from_image(a,e,{},!1)}),{once:!0,capture:!0}),a.src=t}))}))}))}),S.default))}),S.default)}))}),S.default)}),S.default)})).catch((function(e){n._handle_load_complete("image_preload",{}),ee.default.trigger_snackbar("Be sure to have a recent browser or install Google Chrome for using it.",5700),ee.default.jamy_update("angry")}))}))}),S.default))},this._handle_canvas_state_will_export=function(){ee.default.trigger_loading_update(0),ee.default.jamy_update("suspicious"),ee.default.trigger_snackbar("Ok buddy! Saving yours.",1500),window.onbeforeunload=function(e){return"Your content that was being saved will be lost."}},this._handle_canvas_state_exported=function(e){if(ee.default.trigger_loading_update(75),ee.default.jamy_update("flirty"),ee.default.trigger_snackbar("Hold on! Compressing...",1e3),e.kb>.5){var t={};t["json_state-ID"+e.id+".json.lz"]=e,n.setSt4te({_kb:e.kb,_saved_at:Date.now()},(function(){n._compute_menu_drawer(),n._request_force_update(),he.default.set_settings({},(function(e,t){e&&(ee.default.trigger_loading_update(100),ee.default.trigger_snackbar("Looks like I can't save your file as our compression module can't load.",5700),ee.default.jamy_update("angry"))}),t,d.UJS,S.default,(function(e,t){ee.default.trigger_loading_update(100),e?(window.onbeforeunload=function(e){},ee.default.trigger_snackbar("Laboratory artwork failed to save.",2e3),ee.default.jamy_update("sad")):(window.onbeforeunload=function(e){},setTimeout((function(){setTimeout((function(){ee.default.jamy_update("happy")}),500),ee.default.trigger_snackbar("Success! Laboratory's artwork saved!",2e3)}),1e3))}))}))}else ee.default.trigger_loading_update(100),window.onbeforeunload=function(e){},setTimeout((function(){ee.default.trigger_snackbar("Huh, we don't store nearly empty file up here, buddy.",2e3)}),2e3)},this._handle_import_json_state_id=function(e){(0,u.default)((function(){return Promise.resolve().then(a.t.bind(null,690,7))})).then((function(t){var a=t.UJS;n._handle_load("image_preload"),ee.default.trigger_voice("accessing_memory"),he.default.get_settings((function(){}),["json_state-ID"+e+".json.lz"],n._process_settings_attachment_result,a,S.default)})).catch((function(){ee.default.trigger_snackbar("Looks like I can't get your file as our compression module can't load.",5700),ee.default.jamy_update("angry")}))},this._delete_unsaved_pixel_art=function(e){var t={};t["json_state-ID"+e+".json.lz"]="delete",he.default.set_settings({},n._process_settings_info_result,t,null,null,(function(t,a){if(t)ee.default.trigger_snackbar("DELETION, Failed!",2e3);else{ee.default.trigger_snackbar("DELETION, Successful!",2e3),ee.default.trigger_sfx("alert_high-intensity");var o=Object.assign({},n.st4te._attachment_previews);delete o["json_state-ID"+e+".json.lz"],n.setSt4te({_attachment_previews:o},(function(){n._request_force_update()}))}}))},this._updated_dimensions=function(){var e=document.documentElement,t=document.body||document.getElementsByTagName("body")[0],a=window.innerWidth||e.clientWidth||t.clientWidth,o=(window.innerHeight||e.clientHeight||t.clientHeight,!!(a<1280));n.setSt4te({_less_than_1280w:o},(function(){n._compute_menu_drawer(),n._compute_menu_drawer(),n._request_force_update(!1,!1).then((function(){n._set_fps_and_xy_elements()}))}))},this._handle_wheel=function(e){var t,a,o=e.deltaY;n.st4te._handle_wheel_timestamp+150<Date.now()&&(t=0===o?0:o>0?1:-1,(a=n.st4te._view_name_index+t|0)<0?a=n.st4te._view_name_index=n.st4te._view_names.length-1|0:a%=n.st4te._view_names.length+1|0,n._handle_view_name_change(a,n.st4te._view_name_index,(function(){n.setSt4te({_handle_wheel_timestamp:Date.now()})})))},this._handle_menu_close=function(){n.setSt4te({_menu_mouse_x:null,_menu_mouse_y:null},(function(){n._compute_menu_right_click(),n._request_force_update()}))},this._handle_right_click=function(e,t){t.pxl_color=n.st4te._canvas.get_pixel_color_from_pos(t.pos_x,t.pos_y),n.setSt4te({_menu_mouse_x:e.clientX-2,_menu_mouse_y:e.clientY-4,_menu_data:t,_menu_event:e},(function(){n._compute_menu_right_click(),n._request_force_update()}))},this._set_cursor_fuck_you=function(e){ee.default.jamy_update("happy",2500)},this._process_settings_info_result=function(e,t){if(!e&&void 0!==t){var a=void 0!==t.attachment_previews?t.attachment_previews:{};n.setSt4te({_attachment_previews:a},(function(){n._request_force_update()}))}},this._process_settings_attachment_result=function(e,t){var a=n.st4te._canvas.import_JS_state;n._handle_load_complete("image_preload",{}),e?(ee.default.trigger_snackbar("Looks like I can't get your file as something was erroneous.",5700),ee.default.jamy_update("angry"),n._handle_pixel_dialog_create_open()):(n.setSt4te({_kb:t.kb,_saved_at:Date.now()},(function(){n._request_force_update()})),a(t,(function(){n.setSt4te({_is_pixel_dialog_create_open:!1,_attachment_previews:{}},(function(){n._request_force_update()}))})))},this._handle_view_name_change=function(e){var t,a,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},_=n.st4te,s=_._view_names,d=_._toolbox_container_ref;i=null===i?n.st4te._view_name_index:i,t=s[e]||s[0],i>(a=-1===s.indexOf(t)?0:s.indexOf(t))?ee.default.trigger_sfx("navigation_transition-left"):i<a&&ee.default.trigger_sfx("navigation_transition-right"),(o={})._view_name_sub_index=0,d.scrollTop=0,n.setSt4te(l({},o,{_previous_view_name_index:i||n.st4te._view_name_index,_view_name_index:a}),(function(){n._set_props_bypass_this(),n._compute_menu_drawer(),n._request_force_update(),r()}))},this._handle_view_name_switch=function(e,t){var a,o,i,r,_,s,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;("mouse"===e.pointerType&&0===e.button||"mouse"!==e.pointerType)&&(o=(a=n.st4te)._view_names,i=a._toolbox_container_ref,d=null===d?n.st4te._view_name_index:d,r=o[t]||o[0],d>(_=-1===o.indexOf(r)?0:o.indexOf(r))?ee.default.trigger_sfx("navigation_transition-left"):ee.default.trigger_sfx("navigation_transition-right"),s={},d!==_&&(s._view_name_sub_index=0,i.scrollTop=0),n.setSt4te(l({},s,{_previous_view_name_index:d||n.st4te._view_name_index,_view_name_index:_}),(function(){n._set_props_bypass_this(),n._compute_menu_drawer(),n._request_force_update()})))},this._handle_keydown=function(e){var t=n.st4te,a=t._tool,o=t._view_name_index,i=t._view_names,l=t._is_pixel_dialog_post_edit_open;if(e&&!l){if(e.preventDefault(),e.stopPropagation(),"MINE"===a)switch(e.preventDefault(),e.keyCode){case 38:n.setSt4te({_mine_player_direction:"UP"});break;case 40:n.setSt4te({_mine_player_direction:"DOWN"});break;case 37:n.setSt4te({_mine_player_direction:"LEFT"});break;case 39:n.setSt4te({_mine_player_direction:"RIGHT"})}else switch(e.keyCode){case 37:n._handle_view_name_change(o-1<0?i.length-1:o-1);break;case 39:n._handle_view_name_change(o+1>i.length-1?0:o+1);break;case 38:n._scroll_to_drawer(-1);break;case 40:n._scroll_to_drawer(1)}"1"===e.key?n._handle_view_name_change(0):"2"===e.key?n._handle_view_name_change(1):"3"===e.key?n._handle_view_name_change(2):"4"===e.key?n._handle_view_name_change(3):"5"===e.key?n._handle_view_name_change(4):"6"===e.key?n._handle_view_name_change(5):"7"===e.key?n._handle_view_name_change(6):e.ctrlKey&&"z"===e.key?n._undo():e.ctrlKey&&"y"===e.key?n._redo():e.ctrlKey&&"m"===e.key?n._set_tool("MINE"):e.ctrlKey&&"o"===e.key?n._upload_image():e.ctrlKey&&"i"===e.key?n._handle_file_import():e.ctrlKey||"o"!==e.key?e.ctrlKey||"b"!==e.key?e.ctrlKey||"h"!==e.key?e.ctrlKey||"x"!==e.key?e.ctrlKey||"u"!==e.key?e.ctrlKey||"r"!==e.key?e.ctrlKey&&"r"===e.key?n._set_tool("SELECT RECTANGLE"):e.ctrlKey||"e"!==e.key?e.ctrlKey&&"e"===e.key?n._set_tool("SELECT ELLIPSE"):e.ctrlKey||"l"!==e.key?e.ctrlKey&&"l"===e.key?n._set_tool("SELECT LINE"):e.ctrlKey||"p"!==e.key?e.ctrlKey||"n"!==e.key?e.ctrlKey&&"p"===e.key?n._set_tool("SELECT PIXEL"):e.ctrlKey&&"n"===e.key?n._set_tool("SELECT PENCIL PERFECT"):e.ctrlKey||"m"!==e.key?e.ctrlKey||"f"!==e.key?e.ctrlKey&&"f"===e.key?n._set_tool("SELECT PATH"):e.ctrlKey&&"k"===e.key?n._set_tool("SELECT COLOR THRESHOLD"):e.ctrlKey&&"g"===e.key?n._set_tool("SELECT COLOR"):e.ctrlKey&&"q"===e.key?n._download_image(1):e.ctrlKey&&"s"===e.key?n._download_image(32):"Enter"===e.key?(0,n.st4te._canvas.confirm_import)():e.ctrlKey?a.includes("SELECT")?(n.setSt4te({_previous_tool_timestamp:Date.now()}),n._set_select_mode("REMOVE")):(n.setSt4te({_previous_tool_timestamp:Date.now()}),n._set_tool("PICKER",!1)):"Shift"===e.key&&(a.includes("SELECT")?(n.setSt4te({_previous_tool_timestamp:Date.now()}),n._set_select_mode("ADD")):(n.setSt4te({_previous_tool_timestamp:Date.now()}),n._set_tool("MOVE",!1))):n._set_tool("CONTOUR"):n._set_tool("SET PENCIL MIRROR"):n._set_tool("PENCIL PERFECT"):n._set_tool("PENCIL"):n._set_tool("LINE"):n._set_tool("ELLIPSE"):n._set_tool("RECTANGLE"):n._set_tool("BORDER"):n._set_tool("EXCHANGE"):n._set_tool("HUE BUCKET"):n._set_tool("BUCKET"):n._set_tool("PICKER")}},this._undo=function(){(100*Math.random()|0)>90&&ee.default.trigger_snackbar("That was a nice undo!"),n.st4te._canvas.undo()},this._redo=function(){(100*Math.random()|0)>95&&(ee.default.jamy_update("suspicious"),ee.default.trigger_snackbar("Even nicer redo! Doo,doo,doo...",2500),setTimeout((function(){ee.default.jamy_update("annoyed"),ee.default.trigger_snackbar("Did I already said that today? I won't feel much smarter today.",3500),setTimeout((function(){ee.default.jamy_update("shocked"),ee.default.trigger_snackbar("No, huh!? I have feelings.",2500),setTimeout((function(){ee.default.jamy_update("flirty"),ee.default.trigger_snackbar("I am a real booooy! Yuhhh!")}),3e3)}),4e3)}),3e3)),n.st4te._canvas.redo()},this._set_png_compressors=function(){var e=n.st4te._canvas.set_png_compressors;(0,u.default)((function(){return a.e(0).then(a.t.bind(null,654,7))})).then((function(t){var n=t.png_quant;(0,u.default)((function(){return a.e(1).then(a.t.bind(null,664,7))})).then((function(t){var a=t.oxi_png;e(n,a)}))}))},this._backup_state=function(){var e=n.st4te._canvas,t=e.export_state,o=e.set_png_compressors;(0,u.default)((function(){return a.e(0).then(a.t.bind(null,654,7))})).then((function(e){var n=e.png_quant;(0,u.default)((function(){return a.e(1).then(a.t.bind(null,664,7))})).then((function(e){var a=e.oxi_png;o(n,a),t()}))}))},this._download_image=function(e){var t=n.st4te._canvas,o=t.get_base64_png_data_url,i=t.xxhashthat,l=t.set_png_compressors;window.dispatchEvent(new Event("art-download-raster"+e)),void 0!==o&&void 0!==i&&void 0!==l&&(0,u.default)((function(){return a.e(0).then(a.t.bind(null,654,7))})).then((function(t){var r=t.png_quant;(0,u.default)((function(){return a.e(1).then(a.t.bind(null,664,7))})).then((function(t){var a=t.oxi_png;l(r,a),o(e,!1,1,100,100).then((function(t){var a=t.url,o=i(a),l=document.createElement("a");l.download="PIXAPICS-"+o+"-PIXELATED-"+e+"x_RAS.png",l.href=a,l.click(),l.remove(),n._propose_selling_nft()}))}))}))},this._download_svg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"xbrz",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=n.st4te._canvas,_=r.get_base64_png_data_url,s=r.set_png_compressors,d=r.xxhashthat;window.dispatchEvent(new Event("art-download-vector"+e.toLowerCase())),ee.default.trigger_voice("please_wait"),ee.default.trigger_snackbar("Please wait... Files will download in a few seconds.",5700),ee.default.jamy_update("happy"),n.setSt4te({_loading:!0,_loading_process:"image_render"},(function(){(0,u.default)((function(){return a.e(0).then(a.t.bind(null,654,7))})).then((function(r){var c=r.png_quant;(0,u.default)((function(){return a.e(1).then(a.t.bind(null,664,7))})).then((function(a){var r=a.oxi_png;s(c,r),_(1,!0,1,100,100).then((function(a){var r=a.url,_=a.colors,s=d(r),c=n.st4te._files_waiting_download;c.push({name:"PIXAPICS-"+s+"-PIXELATED-1x_RAS.png",url:r}),n.setSt4te({_files_waiting_download:c},(function(){n._request_force_update()})),ee.default.trigger_voice("processing"),(0,it.base64png_to_xbrz_svg)(r,(function(t,a,o,i){var r=n.st4te._files_waiting_download;r.push({name:"PIXAPICS-"+s+"-"+e.toUpperCase()+"-"+a+"x_RAS.png",url:""+t}),n.setSt4te({_files_waiting_download:r},(function(){n._request_force_update(),l?(0,rt.postJSON)("https://real-life-image.pixa-pics.workers.dev/init",""+t,(function(e,t){t&&(0,rt.postJSON)("https://real-life-image.pixa-pics.workers.dev/get",""+t,(function(e,t){t&&t.split(" ").forEach((function(e){fetch(e).then((function(e){e.blob().then((function(e,t){new Promise((function(t,a){var n=new FileReader;n.onload=function(){t(n.result)},n.onerror=function(){var a=URL.createObjectURL(e);t(a)},n.readAsDataURL(e)})).then((function(e){r.push({name:"PIXAPICS-"+s+"-PHOTO-REAL-BIG+AI_RAS-#"+t+".jpg",url:""+e}),n.setSt4te({_files_waiting_download:r},n._request_force_update)}))}))}))}))}),"application/text")}),"application/text"):(ee.default.trigger_snackbar("Looks like we had an unexpected issue",5700),ee.default.jamy_update("angry"))}))}),(function(t,a){if(t.length>0){var o=n.st4te._files_waiting_download;o.push({name:"PIXAPICS-"+s+"-"+e.toUpperCase()+"-"+a+"x_VEC.svg",url:t}),n.setSt4te({_files_waiting_download:o},(function(){n._request_force_update()}))}n.setSt4te({_loading:!1,_loading_process:""},(function(){n._propose_selling_nft()}))}),(function(t,a){if(t.length>0){var o=n.st4te._files_waiting_download;o.push({name:"PIXAPICS-"+s+"-"+e.toUpperCase()+"-"+a+"+CRT.png",url:t}),n.setSt4te({_files_waiting_download:o},(function(){n._request_force_update()}))}}),Array.from(_),e,!!t,!!o,!!i)}))}))}))}))},this._propose_selling_nft=function(){ee.default.trigger_voice("complete"),ee.default.trigger_sfx("hero_decorative-celebration-02"),ee.default.trigger_snackbar("Fantastic!",1500),setTimeout((function(){ee.default.trigger_share(),window.dispatchEvent(new Event("home-action-tryshare")),setTimeout((function(){ee.default.trigger_sfx("alert_high-intensity"),ee.default.trigger_snackbar("Your unique and stunning pixel art can now be turned into a valuable digital asset through the power of blockchain technology.",7e3),setTimeout((function(){ee.default.trigger_sfx("hero_decorative-celebration-02"),ee.default.trigger_snackbar("Sell your pixel art as an NFT on your favourite platform and become a part of the growing NFT community.",9e3)}),8e3)}),2e3)}),2e3)},this._continue_download=function(){var e,t,a=n.st4te._files_waiting_download;a.length>0&&(e=a.shift(),(t=document.createElement("a")).download=""+e.name,t.href=""+e.url,t.click(),delete e.url,delete e.name,t.remove(),n.setSt4te({_files_waiting_download:a},(function(){n._request_force_update()})))},this._handle_keyup=function(e){var t,a,o,i,l=n.st4te._is_pixel_dialog_post_edit_open;e&&!l&&(e.preventDefault(),e.stopPropagation(),a=(t=n.st4te)._tool,o=t._memory_tool,i=t._previous_tool_timestamp,o&&o!==a&&Date.now()-1e4<i?(n.setSt4te({_previous_tool_timestamp:1/0}),n._set_tool(o)):i<Date.now()&&a.includes("SELECT")&&(n.setSt4te({_previous_tool_timestamp:1/0}),n._set_select_mode("REPLACE")))},this._upload_image=function(e){n._handle_file_upload(e)},this._upload_image_library=function(){n.setSt4te({_library_dialog_open:!0,_library_type:"open"},(function(){n._request_force_update()}))},this._close_library=function(){n.setSt4te({_library_dialog_open:!1},(function(){n._request_force_update()}))},this._from_library=function(e){var t=n.st4te._library_type,a=n.st4te._canvas,o=a.set_canvas_from_image,i=a.import_image_on_canvas,l=new Image;l.src=e,l.onload=function(){"open"===t?(n.setSt4te({_kb:0,_saved_at:1/0},(function(){n._request_force_update()})),o(l)):"import"===t&&i(l,e),n._close_library()}},this._handle_file_upload=(e=regeneratorRuntime.mark((function e(t){var a,o,i,l,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"dataTransfer"in t&&t.dataTransfer.files.length>0&&(t.preventDefault(),t.stopPropagation()),n.st4te._drag_file&&n.setSt4te({_drag_file:0},(function(){n._request_force_update()})),a=(t.target||{}).files||(t.srcElement||{}).files||(t.currentTarget||{}).files||((t.path||[])[0]||{}).files||(t.dataTransfer||{}).files||[],o=a[0]||null,i=null;for(l=0;l<a.length;l++)(i=a[l]).type.startsWith("image/")&&(l=a.length);if(null!==i||null!==o){e.next=11;break}ee.default.trigger_snackbar("Looks like I can't get your file as something is erroneous.",5700),ee.default.jamy_update("angry"),e.next=13;break;case 11:if(null===i){e.next=13;break}return e.delegateYield(regeneratorRuntime.mark((function e(){var t,a,o,l,_,s,d,c,u,m,p,f,h,g,b,v,w,y,x,k,E,C,T,I,N,z,D,O,A,L,M,P,R,j,B,q,F,K,Y,U,H,W,X,V,G,Z,J,$,Q,te,ae,ne,oe;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!("image/png"!==i.type),a=t?"image/png":i.type,o=n.st4te,l=o._import_colorize,_=o._import_size,s=n.st4te._canvas.set_canvas_from_image,c=parseInt((d=Rt?623.5382907247958:881.8163074019441)*d),u=Math.min(parseInt(262144),parseInt(_*_)),m=1,0!==parseInt(l)){e.next=17;break}n._handle_load("image_preload"),ee.default.trigger_voice("data_upload"),(0,lt.file_to_imagedata_resized)(i,c,(function(e){(0,lt.imagedata_to_base64)(e,a,(function(t){for(;Math.round(e.width*m)*Math.round(e.height*m)>u;)m-=.01;(0,lt.base64_sanitize)(t,(function(e){(0,lt.base64_to_bitmap)(e,(function(e){(0,lt.bitmap_to_imagedata)(e,e.width*e.height|0,(function(e){(0,lt.imagedata_to_base64)(e,"image/png",(function(e){var a=new Image;a.addEventListener("load",(function(){n._handle_load_complete("image_preload",{}),n.setSt4te({_kb:0,_saved_at:1/0}),s(a,t,{},!1),setTimeout((function(){ee.default.trigger_snackbar("I am really awesome, here is your pixel art!",5700),setTimeout((function(){ee.default.jamy_update("happy")}),2e3)}),1e3)}),{once:!0,capture:!0}),a.src=e}),S.default)}),S.default)}),S.default)}),null,m,"doppel")}),S.default)}),S.default),e.next=112;break;case 17:return n._handle_load("image_ai"),ee.default.trigger_voice("processing"),(p=new FormData).append("files",i),f=parseInt(16777215*Math.random()|0).toString(16),e.next=24,fetch("https://gokaygokay-sd3-long-captioner-v2.hf.space/upload?upload_id="+f,{method:"POST",body:p});case 24:return e.next=26,e.sent.json();case 26:return h=e.sent,g=h[0],b="https://gokaygokay-sd3-long-captioner-v2.hf.space/call/create_captions_rich",v="https://gokaygokay-sd3-long-captioner-v2.hf.space/file="+g,e.next=32,fetch(b,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:[{path:v}]})});case 32:return w=e.sent,e.next=35,w.json();case 35:return y=e.sent,x=y.event_id,e.next=39,fetch(b+"/"+x,{headers:{accept:"text/event-stream"}});case 39:k=e.sent,E=k.body.getReader(),C=new TextDecoder("utf-8"),T="",I=!1;case 44:if(I){e.next=112;break}return e.next=47,E.read();case 47:N=e.sent,z=N.value,D=N.done,I=D,T+=C.decode(z||new Uint8Array,{stream:!0}),O=T.split("\n"),A=0;case 54:if(!(A<O.length)){e.next=109;break}if(!(L=O[A].trim()).startsWith("data:")){e.next=106;break}return M=L.slice(5).trim(),P=JSON.parse(M),R=P[0],j=parseInt(16777215*Math.random()|0).toString(16),B="A low-palette, low color number pixel art (pixelart:1.5) in lucasarts style of : ".concat(R),e.next=65,fetch("https://abidlabs-face-to-all.hf.space/run/predict?__theme=light",{headers:{accept:"*/*","content-type":"application/json"},body:'{"data":["https://civitai.com/models/247890/lucasarts-adventure-game-style-xl"],"event_data":null,"fn_index":0,"trigger_id":11,"session_hash":"'+j+'"}',method:"POST"});case 65:return e.next=67,e.sent.json();case 67:return r=e.sent,(new FormData).append("files",i),q=parseInt(16777215*Math.random()|0).toString(16),e.next=73,fetch("https://abidlabs-face-to-all.hf.space/upload?upload_id="+q,{method:"POST",body:p});case 73:return e.next=75,e.sent.json();case 75:if(F=e.sent,K=F[0],Y="https://abidlabs-face-to-all.hf.space/file="+K,!r){e.next=106;break}return U=function(e){var t=e.match(/"url":"(https:\/\/[^"]+)"/g);return t&&t.length>1?t[1].match(/"url":"(https:\/\/[^"]+)"/)[1]:null},e.next=82,fetch("https://abidlabs-face-to-all.hf.space/queue/join?__theme=light",{headers:{accept:"*/*","content-type":"application/json"},body:'{"data":[{"path":"'+K+'","url":"'+Y+'","orig_name":"Screenshot from 2024-06-15 12-34-10.png","size":'+i.size+',"mime_type":"'+i.type+'","meta":{"_type":"gradio.FileData"}},"'+B+'","",0.9,null,0.92,0.17,7,0.8,null,null],"event_data":null,"fn_index":6,"trigger_id":18,"session_hash":"'+j+'"}',method:"POST"});case 82:return e.next=84,e.sent.json();case 84:return e.sent.event_id,e.next=88,fetch("https://abidlabs-face-to-all.hf.space/queue/data?session_hash="+j,{headers:{accept:"text/event-stream"}});case 88:H=e.sent,W=H.body.getReader(),X=new TextDecoder("utf-8"),V="",G=!1;case 93:if(G){e.next=106;break}return e.next=96,W.read();case 96:for(Z=e.sent,J=Z.value,$=Z.done,G=$,V+=X.decode(J||new Uint8Array,{stream:!0}),Q=V.split("\n"),te=0;te<Q.length;te++)(ae=Q[te].trim()).includes("process_completed")&&(console.log(ne=ae),oe=U(ne),console.log(oe),fetch(oe).then((function(e){e.blob().then((function(e){n._handle_load("image_preload"),(0,lt.file_to_imagedata_resized)(e,c,(function(e){(0,lt.imagedata_to_base64)(e,a,(function(t){for(;Math.round(e.width*m)*Math.round(e.height*m)>u;)m-=.01;(0,lt.base64_sanitize)(t,(function(e){(0,lt.base64_to_bitmap)(e,(function(e){(0,lt.bitmap_to_imagedata)(e,e.width*e.height|0,(function(e){(0,lt.imagedata_to_base64)(e,"image/png",(function(e){var a=new Image;a.addEventListener("load",(function(){n._handle_load_complete("image_preload",{}),n.setSt4te({_kb:0,_saved_at:1/0}),s(a,t,{},!1),setTimeout((function(){ee.default.trigger_snackbar("I am really awesome, here is your pixel art!",5700),setTimeout((function(){ee.default.jamy_update("happy")}),2e3)}),1e3)}),{once:!0,capture:!0}),a.src=e}),S.default)}),S.default)}),S.default)}),null,m,"doppel")}),S.default)}),S.default)}))})),n._handle_load_complete("image_ai",{}));V=Q[Q.length-1],e.next=93;break;case 106:A++,e.next=54;break;case 109:T=O[O.length-1],e.next=44;break;case 112:case"end":return e.stop()}}),e,n)}))(),"t0",13);case 13:case"end":return e.stop()}}),e,n)})),t=function(){var t=e.apply(this,arguments);return new Promise((function(e,a){return function n(o,i){var l,r;try{r=(l=t[o](i)).value}catch(_){return void a(_)}if(!l.done)return Promise.resolve(r).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(r)}("next")}))},function(e){return t.apply(this,arguments)}),this._handle_file_import=function(e){var t,a,o,i,l=(e.target||{}).files||(e.srcElement||{}).files||(e.currentTarget||{}).files||((e.path||[])[0]||{}).files||[],r=(l[0],null);for(t=0;t<l.length;t++)(a=l[t]).type.startsWith("image/")&&(r=a);null!==r&&(o=new Image,i=n.st4te._canvas.import_image_on_canvas,(0,lt.file_to_base64)(r,(function(e){o.onload=function(){i(o,e),n._handle_menu_close()},o.src=e}),S.default))},this._import_image_library=function(){n.setSt4te({_library_dialog_open:!0,_library_type:"import"},(function(){n._request_force_update()}))},this._handle_load=function(e){ee.default.trigger_loading_update(0),n.setSt4te({_loading:!0,_loading_process:e},(function(){n._request_force_update()})),"image_preload"===e&&(n._handle_edit_drawer_close(),n._handle_menu_close(),n._handle_pixel_dialog_create_close())},this._handle_load_complete=function(e,t){ee.default.trigger_loading_update(100),n.setSt4te({_loading:!1,_loading_process:e},(function(){n._request_force_update().then((function(){n.st4te._saved_at>Date.now()-60&&n._backup_state(),n._updated_dimensions()}))})),"less_color"===e||"less_color_auto"===e?0!==t.colors_removed&&(ee.default.trigger_snackbar("I am a magician! And "+t.colors_removed+" colors are now gone, only "+t.colors_remaining+" remaining."),ee.default.trigger_sfx("navigation_selection-complete-celebration"),ee.default.jamy_update("happy")):"image_load"===e&&(t.only_scan?ee.default.trigger_sfx("ui_scan"):(ee.default.trigger_sfx("ui_scan"),ee.default.trigger_snackbar("DONE! We've imported an image with my now "+t.number_of_colors+" colors."),setTimeout((function(){ee.default.trigger_voice("complete")}),1e3),ee.default.jamy_update("happy"),n._handle_edit_drawer_close(),n._handle_menu_close(),n._handle_pixel_dialog_create_close()))},this._set_ripple_ref=function(e){null!=e&&n.setSt4te({_ripple:e})},this._set_canvas_ref=function(e){null!=e&&n.setSt4te({_canvas:e,_filters:e.get_filter_names()},(function(){n._request_force_update()}))},this._handle_position_change=function(e){var t,a;void 0!==n.st4te._xy_el&&(t=-1===e.x?"out":e.x+1,a=-1===e.y?"out":e.y+1,n.st4te._xy_el.textContent=" | X: "+t+", Y: "+a+" ")},this._handle_fps_change=function(e){void 0!==n.st4te._fps_el&&(n.st4te._fps_el.textContent="FPS: "+e)},this._handle_can_undo_redo_change=function(e,t){e=parseInt(e),t=parseInt(t);var a=!(n.st4te._can_undo===e&&n.st4te._can_redo===t);n.setSt4te({_can_undo:e,_can_redo:t},(function(){a&&n._request_force_update()}))},this._handle_size_change=function(e,t){var a=!(n.st4te._width===e&&n.st4te._height===t);n.setSt4te({_width:e,_height:t},(function(){a&&(n._compute_menu_drawer(),n._request_force_update())}))},this._handle_current_color_change=function(e,t){e=void 0!==e.rgb?qt.new_of(e.rgb.r,e.rgb.g,e.rgb.b,Math.round(parseInt(255*e.rgb.a))).hex:qt.new_hex(e).hex;var a=qt.new_hex(e).hsla[0];n.setSt4te({_current_color:e,_hue:a})},this._handle_relevant_action_event=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#ffffff",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=n.st4te._ripple;e&&o&&(ee.default.trigger_sfx("navigation_selection-complete-celebration"),0!==a&&n.setSt4te({_ripple_color:t,_ripple_opacity:a},(function(){setTimeout((function(){o.start(e)}),25),setTimeout((function(){o.stop(e)}),200)})))},this._handle_something_selected_change=function(e){var t=!(n.st4te._is_something_selected===e);n.setSt4te({_is_something_selected:e},(function(){t&&(n._compute_menu_right_click(),n._request_force_update())}))},this._set_value_from_slider_with_update=function(e,t){n.setSt4te({_slider_value:t||e.target.value},(function(){n._set_props_bypass_this()}))},this._set_width_from_slider=function(e,t){n.setSt4te({_slider_value_width:t||e.target.value},(function(){n._set_props_bypass_this()}))},this._set_height_from_slider=function(e,t){n.setSt4te({_slider_value_height:t||e.target.value},(function(){n._set_props_bypass_this()}))},this._set_import_size=function(e,t){n.setSt4te({_import_size:t||e.target.value})},this._set_import_colorize=function(e,t){n.setSt4te({_import_colorize:t||e.target.value})},this._revert_tool=function(){n.setSt4te({_tool:n.st4te._memory_tool})},this._set_tool=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n.setSt4te({_tool:e.toUpperCase()},(function(){n._set_props_bypass_this()})),t&&n.setSt4te({_memory_tool:e.toUpperCase()})},this._set_select_mode=function(e){n.setSt4te({_select_mode:e.toUpperCase()},(function(){n._set_props_bypass_this()}))},this._set_pencil_mirror_mode=function(e){n.setSt4te({_pencil_mirror_mode:e.toUpperCase()},(function(){n._set_props_bypass_this()}))},this._switch_with_second_color=function(){var e=n.st4te,t=e._current_color,a=e._second_color;n.setSt4te({_current_color:a,_second_color:t},(function(){n._set_props_bypass_this()}))},this._show_hide_canvas_content=function(){n.setSt4te({_hide_canvas_content:!n.st4te._hide_canvas_content},(function(){n._set_props_bypass_this(),n.forceUpdate()}))},this._show_hide_background_image=function(){n.setSt4te({_show_original_image_in_background:!n.st4te._show_original_image_in_background},(function(){n._set_props_bypass_this()}))},this._show_hide_transparent_image=function(){n.setSt4te({_show_transparent_image_in_background:!n.st4te._show_transparent_image_in_background},(function(){n._set_props_bypass_this()}))},this._handle_image_import_mode_change=function(e){n.setSt4te({_is_image_import_mode:e},(function(){n._set_props_bypass_this(),n._request_force_update()}))},this._handle_layers_change=function(e,t){n.setSt4te({_previous_layer_index:parseInt(n.st4te._layer_index),_layer_index:parseInt(e),_layers:t},(function(){n._set_props_bypass_this()}))},this._handle_filters_thumbnail_change=function(e,t,a){n.st4te._swipeable_drawer_handle_filters_thumbnail_change(e,t,a)},this._set_filters_callback=function(e){n.setSt4te({_swipeable_drawer_handle_filters_thumbnail_change:e})},this._set_props_callback=function(e){n.setSt4te({_swipeable_drawer_set_props:e},(function(){n._set_props_bypass_this(),n._request_force_update()}))},this._set_props_bypass_this=function(){var e=n.st4te,t=e._view_name_index,a=e._previous_view_name_index,o=e._layers,i=e._layer_index,l=e._hide_canvas_content,r=e._show_original_image_in_background,_=e._show_transparent_image_in_background,s=e._hue,d=e._current_color,c=e._second_color,u=e._slider_value,m=e._tool,p=e._width,f=e._height,h=e._filters,g=e._select_mode,b=e._pencil_mirror_mode,v=e._is_something_selected,w=e._is_image_import_mode,y=e._import_size,x=e._import_colorize,k=e._slider_value_width,E=e._slider_value_height;n.st4te._canvas&&n.st4te._canvas._set_props({tool:m,hide_canvas_content:l,show_original_image_in_background:r&&!0,show_transparent_image_in_background:_,select_mode:g,pencil_mirror_mode:b,hue:s,bucket_threshold:u,color_loss:u,pxl_current_color:d,default_size:y,ideal_size:y,max_size:1.5*y}),n.st4te._swipeable_drawer_set_props({view_name_index:t%7,previous_view_name_index:a%7,layers:o,layer_index:i,hide_canvas_content:l,show_original_image_in_background:r,show_transparent_image_in_background:_,hue:s,current_color:d,second_color:c,slider_value:parseFloat(u),slider_value_width:k,slider_value_height:E,tool:m,width:parseInt(p),height:parseInt(f),filters:h,select_mode:g,pencil_mirror_mode:b,is_something_selected:v,is_image_import_mode:w,import_size:y,import_colorize:x})},this._handle_game_end=function(){n.setSt4te({_game_ended:!0},(function(){setTimeout((function(){n.setSt4te({_game_ended:!1})}),5e3)}))},this._handle_edit_drawer_open=function(e,t){var a,o,i,l,r,_,s;t=void 0!==t?t:n.st4te._view_name_index,a=!(n.st4te._view_name_index!==t)&&n.st4te._is_edit_drawer_open,o=n.st4te._toolbox_container_ref,i=!0,l=void 0,a&&null!==o?(r="swipetoolbox_i_"+t+"_"+(l=n.st4te._view_name_sub_index||0),l++,null!==(_=(document.getElementsByClassName(r)||[])[0]||null)?o.scrollTop=_.offsetTop:(l=0,o.scrollTop=0)):(l=0,o.scrollTop=0),s=!(n.st4te._is_edit_drawer_open===i&&n.st4te._view_name_index===t),n.setSt4te({_is_edit_drawer_open:i,_view_name_index:t,_view_name_sub_index:l},(function(){s&&(n._compute_menu_drawer(),n._request_force_update())}))},this._handle_edit_drawer_close=function(){var e=!!n.st4te._is_edit_drawer_open;n.setSt4te({_is_edit_drawer_open:!1},(function(){e&&(n._compute_menu_drawer(),n._request_force_update())}))},this._set_current_color=function(e){n._handle_menu_close(),n.setSt4te({_current_color:e},(function(){n._set_props_bypass_this()}))},this._exchange_pixel_colors=function(e,t,a){var o=n.st4te._canvas.exchange_pixel_color,i=n.st4te._menu_data;o(e,t,a),i.pxl_color=a,n._handle_menu_close(),n.setSt4te({_menu_data:i})},this._to_auto_medium_more_contrast=function(){(0,n.st4te._canvas.auto_adjust_contrast)(.2),ee.default.trigger_voice("enhanced")},this._to_auto_medium_more_saturation=function(){(0,n.st4te._canvas.auto_adjust_saturation)(.2),ee.default.trigger_voice("enhanced")},this._less_colors_auto=function(){var e=n.st4te,t=e._layers,a=e._layer_index,o=n.st4te._canvas.to_less_color;ee.default.trigger_voice("please_wait"),(t[a]||{}).number_of_colors,o("auto")},this._get_average_color_of_selection=function(){var e=(0,n.st4te._canvas.get_average_color_of_selection)();n._handle_current_color_change(e)},this._handle_pixel_dialog_create_close=function(){n.setSt4te({_is_pixel_dialog_create_open:!1,_attachment_previews:{}},(function(){n._request_force_update()}))},this._handle_pixel_dialog_create_open=function(){!1===n.st4te._is_pixel_dialog_create_open&&ee.default.trigger_sfx("hero_decorative-celebration-02"),he.default.get_settings(n._process_settings_info_result),setTimeout((function(){n.setSt4te({_is_pixel_dialog_create_open:!0},(function(){n._request_force_update()}))}),725)},this._set_toolbox_container_ref=function(e){null!=e&&n.setSt4te({_toolbox_container_ref:e})},this._set_root_ref=function(e){null!=e&&n.setSt4te({_root_ref:e},(function(){n.st4te._root_ref.addEventListener("drop",n._handle_file_upload,{capture:!0}),n.st4te._root_ref.addEventListener("dragenter",n._drop_start),n.st4te._root_ref.addEventListener("dragover",n._drop_start),n.st4te._root_ref.addEventListener("dragleave",n._drop_end)}))},this._drop_start=function(e){e.preventDefault(),e.stopPropagation(),n.setSt4te({_drag_file:Date.now()},(function(){n._request_force_update()}))},this._drop_end=function(e){e.preventDefault(),e.stopPropagation(),n.st4te._drag_file&&n.setSt4te({_drag_file:0},(function(){n._request_force_update()}))},this._scroll_to_drawer=function(e){var t,a,o,i;if((""+e).startsWith("swipetoolbox_i_"))t=(document.getElementsByClassName(e)||[])[0]||null,n.st4te._toolbox_container_ref.scrollTop=null!==t?t.offsetTop:0;else{for(a=n.st4te._toolbox_container_ref.scrollTop,o=(document.getElementsByClassName("swipetoolbox_i_"+n.st4te._view_name_index+"_0")||[])[0]||{},i=1;o;){if(!(a>o.offsetTop)){o=(document.getElementsByClassName("swipetoolbox_i_"+n.st4te._view_name_index+"_"+(i-1+e))||[])[0]||{};break}o=(document.getElementsByClassName("swipetoolbox_i_"+n.st4te._view_name_index+"_"+i++)||[])[0]||{}}n.st4te._toolbox_container_ref.scrollTop=o.offsetTop||0}},this._toggle_perspective=function(){var e=!n.st4te._perspective;e?(ee.default.trigger_voice("vision_activated"),n._set_tool("MOVE",!1)):(ee.default.trigger_voice("vision_deactivated"),n._revert_tool()),n.setSt4te({_perspective:e},(function(){n._request_force_update()}))},this._smooth_adjust=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;(0,n.st4te._canvas.smooth_adjust)(e)},this._close_text=function(){n.setSt4te({_text_dialog_open:!1},(function(){n._request_force_update()}))},this._open_text=function(){n.setSt4te({_text_dialog_open:!0},(function(){n._request_force_update()}))},this._draw_text=function(e,t){n._close_text(),(0,n.st4te._canvas.write_text)(e,t)},this._resume_video=function(){try{document.getElementById("labintro-video").play()}catch(e){}},this._compute_menu_right_click=function(){var e=n.st4te,t=e.classes,a=e._canvas,o=e._current_color,i=e._tool,l=e._width,r=e._height,_=e._pencil_mirror_mode,s=e._is_something_selected,d=e._menu_mouse_y,c=e._menu_mouse_x,u=e._menu_data,m=e._menu_event;u.pos_x=-1===u.pos_x?"out":u.pos_x,u.pos_y=-1===u.pos_y?"out":u.pos_y,n.menu=p.default.createElement(Y.default,{className:t.contextMenuFuckYouDisable,PaperProps:{style:{maxHeight:380,width:240,overflowY:"overlay",contain:"paint style layout",scrollBehavior:"smooth",userSelect:"none",pointerEvents:d||c?"all":"none"}},onContextMenu:function(e){e.preventDefault()},MenuListProps:{dense:!0},transitionDuration:{enter:125,exit:250},open:!!d||!!c,onClose:n._handle_menu_close,disablePortal:!1,keepMounted:!0,anchorReference:"anchorPosition",anchorPosition:{top:0|d,left:0|c}},p.default.createElement("span",{style:{textAlign:"left",padding:"12px 8px",color:"#666"}},"X: ",u.pos_x,", Y: ",u.pos_y),p.default.createElement("div",{style:"SET PENCIL MIRROR"===i||"NONE"!==_?{}:{display:"none"}},p.default.createElement(H.default,{className:t.contextMenuSubheader},"Tools"),p.default.createElement(T.default,{button:!0,divider:!0,disabled:"PENCIL"===i,onClick:function(){n._set_tool("PENCIL")}},p.default.createElement(G.default,null,p.default.createElement(Ke.default,null)),p.default.createElement(X.default,{primary:"Pencil"})),p.default.createElement(T.default,{button:!0,divider:!0,disabled:"PENCIL PERFECT"===i,onClick:function(){n._set_tool("PENCIL PERFECT")}},p.default.createElement(G.default,null,p.default.createElement(Ue.default,null)),p.default.createElement(X.default,{primary:"Pencil perfect"})),p.default.createElement(H.default,{className:t.contextMenuSubheader},"Mirror mode"),[{icon:p.default.createElement(qe.default,null),disabled:"NONE"===_,text:"None",on_click:function(){n._set_pencil_mirror_mode("NONE")}},{icon:p.default.createElement(qe.default,null),disabled:"VERTICAL"===_,text:"Vertical",on_click:function(){n._set_pencil_mirror_mode("VERTICAL")}},{icon:p.default.createElement(qe.default,null),disabled:"HORIZONTAL"===_,text:"Horizontal",on_click:function(){n._set_pencil_mirror_mode("HORIZONTAL")}},{icon:p.default.createElement(qe.default,null),disabled:"BOTH"===_,text:"Both",on_click:function(){n._set_pencil_mirror_mode("BOTH")}}].map((function(e){return p.default.createElement(T.default,{key:e.text,button:!0,divider:!0,disabled:e.disabled,onClick:e.on_click},p.default.createElement(G.default,null,e.icon),p.default.createElement(X.default,{primary:e.text}))}))),p.default.createElement("div",{style:s?{}:{display:"none"}},p.default.createElement(H.default,{className:t.contextMenuSubheader},"Apply to selection"),[{icon:p.default.createElement(Ze.default,null),text:"Unselect",on_click:function(){a.to_selection_none()}},{icon:p.default.createElement(Ie.default,null),text:"Colorize dynamical",on_click:function(){a.to_selection_changes(o,!1)}},{icon:p.default.createElement(Ve.default,null),text:"Get average color",on_click:function(){n._get_average_color_of_selection()}},{icon:p.default.createElement(Ee.default,null),text:"Shrink",on_click:function(){a.to_selection_size(-1)}},{icon:p.default.createElement(Ee.default,null),text:"Grow",on_click:function(){a.to_selection_size(1)}},{icon:p.default.createElement(Ce.default,null),text:"Border",on_click:function(){a.to_selection_border()}},{icon:p.default.createElement(Ie.default,null),text:"Bucket",on_click:function(){a.to_selection_bucket()}},{icon:p.default.createElement(Ee.default,null),text:"Crop",on_click:function(){a.to_selection_crop()}},{icon:p.default.createElement(ze.default,null),text:"Invert",on_click:function(){a.to_selection_invert()}},{icon:p.default.createElement(Oe.default,null),text:"Copy",on_click:function(){a.copy_selection()}},{icon:p.default.createElement(Pe.default,null),text:"Cut",on_click:function(){a.cut_selection()}},{icon:p.default.createElement(je.default,null),text:"Erase",on_click:function(){a.erase_selection()}}].map((function(e){return p.default.createElement(T.default,{key:e.text,button:!0,divider:!0,onClick:e.on_click},p.default.createElement(G.default,null,e.icon),p.default.createElement(X.default,{primary:e.text}))}))),p.default.createElement(H.default,{style:null===u.pxl_color?{display:"none"}:{},className:t.contextMenuSubheader},"Color"),p.default.createElement(T.default,{button:!0,divider:!0,style:null===u.pxl_color?{display:"none"}:{},disabled:u.pxl_color===o||null===u.pxl_color,onClick:function(e){n._set_current_color(u.pxl_color),n._handle_relevant_action_event(m,u.pxl_color,1,!0)}},p.default.createElement(G.default,null,p.default.createElement(oe.default,{style:{color:u.pxl_color,background:"repeating-conic-gradient(#80808055 0% 25%, #00000000 0% 50%) 50% / calc(200% / "+l+") calc(200% / "+r+")"}})),p.default.createElement(X.default,{primary:"Pick color"})),p.default.createElement(T.default,{button:!0,divider:!0,style:null===u.pxl_color?{display:"none"}:{},disabled:u.pxl_color===o||null===u.pxl_color,onClick:function(e){n._exchange_pixel_colors(u.pos_x,u.pos_y,o+""),n._handle_relevant_action_event(m,o,1,!0)}},p.default.createElement(G.default,null,p.default.createElement(oe.default,{style:{color:o,background:"repeating-conic-gradient(#80808055 0% 25%, #00000000 0% 50%) 50% / calc(200% / "+l+") calc(200% / "+r+")"}})),p.default.createElement(X.default,{primary:"Replace color"})),p.default.createElement(H.default,{className:t.contextMenuSubheader},"Effect"),p.default.createElement(T.default,{button:!0,divider:!0,onClick:function(e){return n._to_auto_medium_more_contrast()}},p.default.createElement(G.default,null,p.default.createElement(be.default,null)),p.default.createElement(X.default,{primary:"Increase contrast"})),p.default.createElement(T.default,{button:!0,divider:!0,onClick:function(e){return n._to_auto_medium_more_saturation()}},p.default.createElement(G.default,null,p.default.createElement(be.default,null)),p.default.createElement(X.default,{primary:"Increase saturation"})),p.default.createElement(T.default,{button:!0,divider:!0,onClick:function(e){return n._handle_edit_drawer_open(null,6)}},p.default.createElement(G.default,null,p.default.createElement(ae.default,null)),p.default.createElement(X.default,{primary:"Add a filter"})),p.default.createElement(T.default,{button:!0,divider:!0,onClick:function(e){a.less_colors_stepped()}},p.default.createElement(G.default,null,p.default.createElement(we.default,null)),p.default.createElement(X.default,{primary:"Reduce color number"})),p.default.createElement(T.default,{button:!0,divider:!0,onClick:n._less_colors_auto},p.default.createElement(G.default,null,p.default.createElement(we.default,null)),p.default.createElement(X.default,{primary:"To auto colors number"})),p.default.createElement(T.default,{button:!0,divider:!0,onClick:function(e){return n._smooth_adjust(1)}},p.default.createElement(G.default,null,p.default.createElement(xe.default,null)),p.default.createElement(X.default,{primary:"Smooth a bit"})))},this._compute_menu_drawer=function(){var e=n.st4te,t=e.classes,a=e._canvas,o=e._view_name_index,i=e._previous_view_name_index,l=e._view_names,r=e._layers,_=e._layer_index,s=e._is_image_import_mode,d=e._hide_canvas_content,c=e._show_original_image_in_background,u=e._show_transparent_image_in_background,m=e._can_undo,f=e._can_redo,h=e._current_color,g=e._second_color,b=e._slider_value,v=e._tool,w=e._width,y=e._height,x=e._import_size,k=e._import_colorize,E=e._hue,S=e._filters,C=e._select_mode,T=e._pencil_mirror_mode,I=e._is_something_selected,z=e._is_edit_drawer_open,D=e._menu_data,O=e._less_than_1280w,L=e._slider_value_width,P=e._slider_value_height;D.pos_x=-1===D.pos_x?"out":D.pos_x,D.pos_y=-1===D.pos_y?"out":D.pos_y,O?n.drawer_mobile=p.default.createElement(p.default.Fragment,null,p.default.createElement(M.default,{className:t.contentDrawer,disableBackdropTransition:!1,disableSwipeToOpen:!1,disableDiscovery:!1,disablePortal:!0,keepMounted:!0,hysteresis:.314,minFlingVelocity:314,swipeAreaWidth:128,open:!!z,onOpen:n._handle_edit_drawer_open,onClose:n._handle_edit_drawer_close,classes:{paper:t.swipeableDrawerPaper,modal:t.drawerModal},transitionDuration:{appear:5,enter:50,exit:75},ModalProps:{disablePortal:!0,BackdropProps:{classes:{root:t.drawerModalBackdropRoot}}},variant:"temporary",anchor:"bottom",style:{pointerEvents:"all"}},p.default.createElement("div",{className:t.mobileintrovideowrapper},p.default.createElement("video",{className:t.mobileintrovideo,id:"labintro-video",width:"56",height:"56",onClick:n._resume_video,style:{aspectRatio:"1",transform:"translateZ(10px)"}},p.default.createElement("source",{src:"/src/videos/labintro.mp4",type:"video/mp4"}))),p.default.createElement(le.default,{onClick:n._handle_edit_drawer_close}),p.default.createElement("div",{style:{display:"grid",contain:"layout paint style"}},p.default.createElement("div",{style:{boxShadow:"rgb(0 0 0 / 20%) 0px 2px 4px -1px, rgb(0 0 0 / 14%) 0px 4px 5px 0px, rgb(0 0 0 / 12%) 0px 1px 10px 0px",zIndex:1}},p.default.createElement("div",{className:t.drawerHeader},p.default.createElement(N.default,{className:t.effectSliderText,id:"strength-slider",gutterBottom:!0},"Effect strength :"),p.default.createElement(A.default,{key:"slider-"+(255*b|0),className:t.effectSlider,defaultValue:parseFloat(b),step:1/255,min:0,max:1,onChangeCommitted:n._set_value_from_slider_with_update,"aria-labelledby":"strength-slider"}))),p.default.createElement("div",{className:t.drawerContainer,ref:n._set_toolbox_container_ref},p.default.createElement(ue.default,{should_update:z,slider_value_width:L,slider_value_height:P,onActionClose:n._handle_edit_drawer_close,canvas:a,is_mobile:Rt,view_class:t.listOfTools,view_names:l,is_image_import_mode:s,can_undo:m,can_redo:f,view_name_index:o,previous_view_name_index:i,layers:r,layer_index:_,hide_canvas_content:d,show_original_image_in_background:c,show_transparent_image_in_background:u,hue:E,current_color:h,second_color:g,slider_value:b,tool:v,width:parseInt(w),height:parseInt(y),filters:S,select_mode:C,pencil_mirror_mode:T,is_something_selected:I,import_size:x,import_colorize:k,set_filters_callback:n._set_filters_callback,set_props_callback:n._set_props_callback,set_tool:n._set_tool,set_select_mode:n._set_select_mode,set_pencil_mirror_mode:n._set_pencil_mirror_mode,set_width_from_slider:n._set_width_from_slider,set_height_from_slider:n._set_height_from_slider,set_import_size:n._set_import_size,set_import_colorize:n._set_import_colorize,switch_with_second_color:n._switch_with_second_color,show_hide_canvas_content:n._show_hide_canvas_content,show_hide_background_image:n._show_hide_background_image,show_hide_transparent_image:n._show_hide_transparent_image,on_current_color_change:n._handle_current_color_change,on_view_name_change:n._handle_view_name_change,on_upload_image:function(e){window.dispatchEvent(new Event("art-upload-drawer")),n._upload_image(e)},on_upload_image_library:n._upload_image_library,on_import_image:function(e){window.dispatchEvent(new Event("art-import-drawer")),n._handle_file_import(e)},on_import_image_library:n._import_image_library,on_request_draw_text:n._open_text,on_download_image:n._download_image,on_download_svg:n._download_svg,on_scroll_to:n._scroll_to_drawer})))),p.default.createElement("div",{className:t.fatabs,style:z&&O?{transform:"translateY(24px)",backgroundColor:"#fff"}:{}},p.default.createElement(B.default,{className:t.tabs,style:{pointerEvents:"all"},variant:"fullWidth",scrollButtons:"off",indicatorColor:"primary",textColor:"primary",selectionFollowsFocus:!0,value:o,onChange:n._handle_edit_drawer_open},p.default.createElement(F.default,{className:t.tab,label:"colors",icon:p.default.createElement(st.default,null)}),p.default.createElement(F.default,{className:t.tab,label:"image",icon:p.default.createElement(ct.default,null)}),p.default.createElement(F.default,{className:t.tab,label:"layers",icon:p.default.createElement(mt.default,null)}),p.default.createElement(F.default,{className:t.tab,label:"tools",icon:p.default.createElement(ft.default,null)}),p.default.createElement(F.default,{className:t.tab,label:"select",icon:p.default.createElement(gt.default,null)}),p.default.createElement(F.default,{className:t.tab,label:"effects",icon:p.default.createElement(vt.default,null)}),p.default.createElement(F.default,{className:t.tab,label:"filters",icon:p.default.createElement(yt.default,null)})))):n.drawer_desktop=p.default.createElement(R.default,{className:t.contentDrawerFixed,variant:"permanent",anchor:"right",classes:{paper:t.drawerPaper}},p.default.createElement("div",{style:{display:"contents",pointerEvents:"all"}},p.default.createElement("div",{style:{boxShadow:"rgb(0 0 0 / 20%) 0px 2px 4px -1px, rgb(0 0 0 / 14%) 0px 4px 5px 0px, rgb(0 0 0 / 12%) 0px 1px 10px 0px",zIndex:1}},p.default.createElement("div",{className:t.drawerHeader},p.default.createElement("div",{className:t.desktopintrovideowrapper},p.default.createElement("video",{className:t.desktopintrovideo,id:"labintro-video",width:"56",height:"56",onClick:n._resume_video,style:{aspectRatio:"1",transform:"translateZ(10px)"}},p.default.createElement("source",{src:"/src/videos/labintro.mp4",type:"video/mp4"}))),p.default.createElement("span",{className:t.coordinate},p.default.createElement("span",{id:"fps_el"},"FPS: 0"),p.default.createElement("span",{id:"xy_el"}," | X: out, Y: out ")),p.default.createElement(N.default,{className:t.effectSliderText,id:"strength-slider",gutterBottom:!0},"Effect strength :"),p.default.createElement(A.default,{key:"slider-"+(255*b|0),defaultValue:parseFloat(b),className:t.effectSlider,step:1/255,min:0,max:1,onChangeCommitted:n._set_value_from_slider_with_update,"aria-labelledby":"strength-slider"})),p.default.createElement(B.default,{id:"tabs-desktop",className:t.tabs,variant:"fullWidth",indicatorColor:"primary",textColor:"primary",selectionFollowsFocus:!1,value:o,onChange:function(e,t){n._handle_view_name_change(t)}},p.default.createElement(F.default,{className:t.tab,label:"colors",icon:p.default.createElement(st.default,null)}),p.default.createElement(F.default,{className:t.tab,label:"image",icon:p.default.createElement(ct.default,null)}),p.default.createElement(F.default,{className:t.tab,label:"layers",icon:p.default.createElement(mt.default,null)}),p.default.createElement(F.default,{className:t.tab,label:"tools",icon:p.default.createElement(ft.default,null)}),p.default.createElement(F.default,{className:t.tab,label:"select",icon:p.default.createElement(gt.default,null)}),p.default.createElement(F.default,{className:t.tab,label:"effects",icon:p.default.createElement(vt.default,null)}),p.default.createElement(F.default,{className:t.tab,label:"filters",icon:p.default.createElement(yt.default,null)}))),p.default.createElement("div",{className:t.drawerContainer,ref:n._set_toolbox_container_ref},p.default.createElement(ue.default,{should_update:!Rt,slider_value_width:L,slider_value_height:P,canvas:a,view_class:t.listOfTools,is_mobile:Rt,view_names:l,is_image_import_mode:s,can_undo:m,can_redo:f,view_name_index:o,previous_view_name_index:i,layers:r,layer_index:_,hide_canvas_content:d,show_original_image_in_background:c,show_transparent_image_in_background:u,hue:E,current_color:h,second_color:g,slider_value:b,tool:v,width:parseInt(w),height:parseInt(y),filters:S,select_mode:C,pencil_mirror_mode:T,is_something_selected:I,import_size:x,import_colorize:k,set_filters_callback:n._set_filters_callback,set_props_callback:n._set_props_callback,set_tool:n._set_tool,set_select_mode:n._set_select_mode,set_pencil_mirror_mode:n._set_pencil_mirror_mode,set_width_from_slider:n._set_width_from_slider,set_height_from_slider:n._set_height_from_slider,set_import_size:n._set_import_size,set_import_colorize:n._set_import_colorize,switch_with_second_color:n._switch_with_second_color,show_hide_canvas_content:n._show_hide_canvas_content,show_hide_background_image:n._show_hide_background_image,show_hide_transparent_image:n._show_hide_transparent_image,on_current_color_change:n._handle_current_color_change,on_view_name_change:n._handle_view_name_change,on_upload_image:function(e){window.dispatchEvent(new Event("art-upload-drawer")),n._upload_image(e)},on_upload_image_library:n._upload_image_library,on_import_image:n._handle_file_import,on_import_image_library:n._import_image_library,on_request_draw_text:n._open_text,on_download_image:n._download_image,on_download_svg:n._download_svg,on_scroll_to:n._scroll_to_drawer}))))}},t.default=(0,k.default)(Ft)(Kt)}}]);