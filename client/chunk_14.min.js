/*! For license information please see chunk_14.min.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{608:function(e,t,o){var r,n,i,a;e.exports=(r={characters:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,o,n,i,a,l,s,c="",d=0;for(e=r.utf8Encode(e);d<e.length;)i=(t=e.charCodeAt(d++))>>2,a=(3&t)<<4|(o=e.charCodeAt(d++))>>4,l=(15&o)<<2|(n=e.charCodeAt(d++))>>6,s=63&n,isNaN(o)?l=s=64:isNaN(n)&&(s=64),c=c+this.characters.charAt(i)+this.characters.charAt(a)+this.characters.charAt(l)+this.characters.charAt(s);return c},utf8Encode:function(e){var t,o,r;for(e=e.replace(/\r\n/g,"\n"),t="",o=0;o<e.length;o++)(r=e.charCodeAt(o))<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128));return t}},n=function(e){return"string"==typeof e?"string":"undefined"!=typeof SVGElement&&e instanceof SVGElement?"element":void 0},i=function(e){var t=(new XMLSerializer).serializeToString(e);return a(t)},a=function(e){return"data:image/svg+xml;base64,"+r.encode(e)},function(e){switch(n(e)){case"string":return a(e);case"element":return i(e);default:return e}})},630:function(e,t,o){(function(t,o){var r;"undefined"!=typeof self&&self,r=function(){return function(){function e(t){var o,i=n[t];return void 0!==i?i.exports:(o=n[t]={exports:{}},r[t](o,o.exports,e),o.exports)}var r={345:function(e,t,o){function r(e,t){"string"==typeof e?this.script=e||null:(this.script=null,t=e),this.workers=[],this.tasks=[],t=t||{},this.forkArgs=Object.freeze(t.forkArgs||[]),this.forkOpts=Object.freeze(t.forkOpts||{}),this.workerOpts=Object.freeze(t.workerOpts||{}),this.workerThreadOpts=Object.freeze(t.workerThreadOpts||{}),this.debugPortStart=t.debugPortStart||43210,this.nodeWorker=t.nodeWorker,this.workerType=t.workerType||t.nodeWorker||"auto",this.maxQueueSize=t.maxQueueSize||1/0,this.workerTerminateTimeout=t.workerTerminateTimeout||1e3,this.onCreateWorker=t.onCreateWorker||function(){return null},this.onTerminateWorker=t.onTerminateWorker||function(){return null},t&&"maxWorkers"in t?(function(e){if(!n(e)||!i(e)||e<1)throw new TypeError("Option maxWorkers must be an integer number >= 1")}(t.maxWorkers),this.maxWorkers=t.maxWorkers):this.maxWorkers=Math.max((s.cpus||4)-1,1),t&&"minWorkers"in t&&("max"===t.minWorkers?this.minWorkers=this.maxWorkers:(function(e){if(!n(e)||!i(e)||e<0)throw new TypeError("Option minWorkers must be an integer number >= 0")}(t.minWorkers),this.minWorkers=t.minWorkers,this.maxWorkers=Math.max(this.minWorkers,this.maxWorkers)),this._ensureMinWorkers()),this._boundNext=this._next.bind(this),"thread"===this.workerType&&l.ensureWorkerThreads()}function n(e){return"number"==typeof e}function i(e){return Math.round(e)==e}var a=o(219),l=o(751),s=o(828),c=new(o(833));r.prototype.exec=function(e,t,o){var r,n,i,l;if(t&&!Array.isArray(t))throw new TypeError('Array expected as argument "params"');if("string"==typeof e){if(r=a.defer(),this.tasks.length>=this.maxQueueSize)throw Error("Max queue size of "+this.maxQueueSize+" reached");return n=this.tasks,i={method:e,params:t,resolver:r,timeout:null,options:o},n.push(i),l=r.promise.timeout,r.promise.timeout=function(e){return-1!==n.indexOf(i)?(i.timeout=e,r.promise):l.call(r.promise,e)},this._next(),r.promise}if("function"==typeof e)return this.exec("run",[e+"",t]);throw new TypeError('Function or string expected as argument "method"')},r.prototype.proxy=function(){if(arguments.length>0)throw Error("No arguments expected");var e=this;return this.exec("methods").then((function(t){var o={};return t.forEach((function(t){o[t]=function(){return e.exec(t,Array.prototype.slice.call(arguments))}})),o}))},r.prototype._next=function(){var e,t,o,r;this.tasks.length>0&&(e=this._getWorker())&&(t=this,(o=this.tasks.shift()).resolver.promise.pending?(r=e.exec(o.method,o.params,o.resolver,o.options).then(t._boundNext).catch((function(){if(e.terminated)return t._removeWorker(e)})).then((function(){t._next()})),"number"==typeof o.timeout&&r.timeout(o.timeout)):t._next())},r.prototype._getWorker=function(){var e,t,o=this.workers;for(e=0;e<o.length;e++)if(!1===(t=o[e]).busy())return t;return o.length<this.maxWorkers?(t=this._createWorkerHandler(),o.push(t),t):null},r.prototype._removeWorker=function(e){var t=this;return c.releasePort(e.debugPort),this._removeWorkerFromList(e),this._ensureMinWorkers(),new a((function(o,r){e.terminate(!1,(function(n){t.onTerminateWorker({forkArgs:e.forkArgs,forkOpts:e.forkOpts,workerThreadOpts:e.workerThreadOpts,script:e.script}),n?r(n):o(e)}))}))},r.prototype._removeWorkerFromList=function(e){var t=this.workers.indexOf(e);-1!==t&&this.workers.splice(t,1)},r.prototype.terminate=function(e,t){var o,r,n=this;return this.tasks.forEach((function(e){e.resolver.reject(Error("Pool terminated"))})),this.tasks.length=0,o=function(e){c.releasePort(e.debugPort),this._removeWorkerFromList(e)}.bind(this),r=[],this.workers.slice().forEach((function(i){var a=i.terminateAndNotify(e,t).then(o).always((function(){n.onTerminateWorker({forkArgs:i.forkArgs,forkOpts:i.forkOpts,workerThreadOpts:i.workerThreadOpts,script:i.script})}));r.push(a)})),a.all(r)},r.prototype.stats=function(){var e=this.workers.length,t=this.workers.filter((function(e){return e.busy()})).length;return{totalWorkers:e,busyWorkers:t,idleWorkers:e-t,pendingTasks:this.tasks.length,activeTasks:t}},r.prototype._ensureMinWorkers=function(){if(this.minWorkers)for(var e=this.workers.length;e<this.minWorkers;e++)this.workers.push(this._createWorkerHandler())},r.prototype._createWorkerHandler=function(){var e=this.onCreateWorker({forkArgs:this.forkArgs,forkOpts:this.forkOpts,workerOpts:this.workerOpts,workerThreadOpts:this.workerThreadOpts,script:this.script})||{};return new l(e.script||this.script,{forkArgs:e.forkArgs||this.forkArgs,forkOpts:e.forkOpts||this.forkOpts,workerOpts:e.workerOpts||this.workerOpts,workerThreadOpts:e.workerThreadOpts||this.workerThreadOpts,debugPort:c.nextAvailableStartingAt(this.debugPortStart),workerType:this.workerType,workerTerminateTimeout:this.workerTerminateTimeout})},e.exports=r},219:function(e){"use strict";function t(e,i){var a,l,s,c,d,u=this;if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if("function"!=typeof e)throw new SyntaxError("Function parameter handler(resolve, reject) missing");a=[],l=[],this.resolved=!1,this.rejected=!1,this.pending=!0,s=function(e,t){a.push(e),l.push(t)},this.then=function(e,r){return new t((function(t,n){var i=e?o(e,t,n):t,a=r?o(r,t,n):n;s(i,a)}),u)},c=function(e){return u.resolved=!0,u.rejected=!1,u.pending=!1,a.forEach((function(t){t(e)})),s=function(t,o){t(e)},c=d=function(){},u},d=function(e){return u.resolved=!1,u.rejected=!0,u.pending=!1,l.forEach((function(t){t(e)})),s=function(t,o){o(e)},c=d=function(){},u},this.cancel=function(){return i?i.cancel():d(new r),u},this.timeout=function(e){if(i)i.timeout(e);else{var t=setTimeout((function(){d(new n("Promise timed out after "+e+" ms"))}),e);u.always((function(){clearTimeout(t)}))}return u},e((function(e){c(e)}),(function(e){d(e)}))}function o(e,t,o){return function(r){try{var n=e(r);n&&"function"==typeof n.then&&"function"==typeof n.catch?n.then(t,o):t(n)}catch(i){o(i)}}}function r(e){this.message=e||"promise cancelled",this.stack=Error().stack}function n(e){this.message=e||"timeout exceeded",this.stack=Error().stack}t.prototype.catch=function(e){return this.then(null,e)},t.prototype.always=function(e){return this.then(e,e)},t.all=function(e){return new t((function(t,o){var r=e.length,n=[];r?e.forEach((function(e,i){e.then((function(e){n[i]=e,0==--r&&t(n)}),(function(e){r=0,o(e)}))})):t(n)}))},t.defer=function(){var e={};return e.promise=new t((function(t,o){e.resolve=t,e.reject=o})),e},r.prototype=Error(),r.prototype.constructor=Error,r.prototype.name="CancellationError",t.CancellationError=r,n.prototype=Error(),n.prototype.constructor=Error,n.prototype.name="TimeoutError",t.TimeoutError=n,e.exports=t},751:function(e,r,n){"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=Array(t);o<t;o++)r[o]=e[o];return r}function a(e,t){var o,r=Object.keys(e);return Object.getOwnPropertySymbols&&(o=Object.getOwnPropertySymbols(e),t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)),r}function l(e,t,o){return(t=function(e){var t=function(e,t){var o,r;if("object"!==s(e)||null===e)return e;if(void 0!==(o=e[Symbol.toPrimitive])){if("object"!==s(r=o.call(e,"string")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return e+""}(e);return"symbol"===s(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function c(){var e=u();if(!e)throw Error("WorkerPool: workerType = 'thread' is not supported, Node >= 11.7.0 required");return e}function d(){if("function"!=typeof Worker&&("object"!==("undefined"==typeof Worker?"undefined":s(Worker))||"function"!=typeof Worker.prototype.constructor))throw Error("WorkerPool: Web Workers not supported")}function u(){try{return w("worker_threads")}catch(e){if("object"===s(e)&&null!==e&&"MODULE_NOT_FOUND"===e.code)return null;throw e}}function p(e,t,o){var r=new o(e,t);return r.isBrowserWorker=!0,r.on=function(e,t){this.addEventListener(e,(function(e){t(e.data)}))},r.send=function(e,t){this.postMessage(e,t)},r}function _(e,t,o){var r=new t.Worker(e,function(e){var t,o;for(t=1;t<arguments.length;t++)o=null!=arguments[t]?arguments[t]:{},t%2?a(Object(o),!0).forEach((function(t){l(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}));return e}({stdout:!1,stderr:!1},o));return r.isWorkerThread=!0,r.send=function(e,t){this.postMessage(e,t)},r.kill=function(){return this.terminate(),!0},r.disconnect=function(){this.terminate()},r}function f(e,t,o){var r=o.fork(e,t.forkArgs,t.forkOpts),n=r.send;return r.send=function(e){return n.call(r,e)},r.isChildProcess=!0,r}function h(e){var t,r,n,i;return e=e||{},r=-1!==(t=o.execArgv.join(" ")).indexOf("--inspect"),n=-1!==t.indexOf("--debug-brk"),i=[],r&&(i.push("--inspect="+e.debugPort),n&&i.push("--debug-brk")),o.execArgv.forEach((function(e){e.indexOf("--max-old-space-size")>-1&&i.push(e)})),Object.assign({},e,{forkArgs:e.forkArgs,forkOpts:Object.assign({},e.forkOpts,{execArgv:(e.forkOpts&&e.forkOpts.execArgv||[]).concat(i)})})}function m(e,o){function r(e){for(var t in l.terminated=!0,l.processing)void 0!==l.processing[t]&&l.processing[t].resolver.reject(e);l.processing=Object.create(null)}var a,l=this,s=o||{};this.script=e||function(){if("browser"===b.platform){if("undefined"==typeof Blob)throw Error("Blob not supported by the browser");if(!window.URL||"function"!=typeof window.URL.createObjectURL)throw Error("URL.createObjectURL not supported by the browser");var e=new Blob([n(670)],{type:"text/javascript"});return window.URL.createObjectURL(e)}return t+"/worker.js"}(),this.worker=function(e,t){if("web"===t.workerType)return d(),p(e,t.workerOpts,Worker);if("thread"===t.workerType)return _(e,o=c(),t.workerThreadOpts);if("process"!==t.workerType&&t.workerType){if("browser"===b.platform)return d(),p(e,t.workerOpts,Worker);var o=u();return o?_(e,o,t.workerThreadOpts):f(e,h(t),w("child_process"))}return f(e,h(t),w("child_process"))}(this.script,s),this.debugPort=s.debugPort,this.forkOpts=s.forkOpts,this.forkArgs=s.forkArgs,this.workerOpts=s.workerOpts,this.workerThreadOpts=s.workerThreadOpts,this.workerTerminateTimeout=s.workerTerminateTimeout,e||(this.worker.ready=!0),this.requestQueue=[],this.worker.on("message",(function(e){var t,o;l.terminated||("string"==typeof e&&"ready"===e?(l.worker.ready=!0,function(){var e,t,o=function(e,t){var o,r,n,a,l,s="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!s){if(Array.isArray(e)||(s=function(e,t){if(e){if("string"==typeof e)return i(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?i(e,t):void 0}}(e)))return s&&(e=s),o=0,{s:r=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return n=!0,a=!1,{s:function(){s=s.call(e)},n:function(){var e=s.next();return n=e.done,e},e:function(e){a=!0,l=e},f:function(){try{n||null==s.return||s.return()}finally{if(a)throw l}}}}(l.requestQueue.splice(0));try{for(o.s();!(e=o.n()).done;)t=e.value,l.worker.send(t.message,t.transfer)}catch(r){o.e(r)}finally{o.f()}}()):(t=e.id,void 0!==(o=l.processing[t])&&(e.isEvent?o.options&&"function"==typeof o.options.on&&o.options.on(e.payload):(delete l.processing[t],!0===l.terminating&&l.terminate(),e.error?o.resolver.reject(function(e){var t,o=Error(""),r=Object.keys(e);for(t=0;t<r.length;t++)o[r[t]]=e[r[t]];return o}(e.error)):o.resolver.resolve(e.result)))))})),a=this.worker,this.worker.on("error",r),this.worker.on("exit",(function(e,t){var o="Workerpool Worker terminated Unexpectedly\n";o+="    exitCode: `"+e+"`\n",o+="    signalCode: `"+t+"`\n",o+="    workerpool.script: `"+l.script+"`\n",o+="    spawnArgs: `"+a.spawnargs+"`\n",o+="    spawnfile: `"+a.spawnfile+"`\n",o+="    stdout: `"+a.stdout+"`\n",o+="    stderr: `"+a.stderr+"`\n",r(Error(o))})),this.processing=Object.create(null),this.terminating=!1,this.terminated=!1,this.cleaning=!1,this.terminationHandler=null,this.lastId=0}var g=n(219),b=n(828),w=n(397),y="__workerpool-terminate__";m.prototype.methods=function(){return this.exec("methods")},m.prototype.exec=function(e,t,o,r){var n,i,a;return o||(o=g.defer()),n=++this.lastId,this.processing[n]={id:n,resolver:o,options:r},i={message:{id:n,method:e,params:t},transfer:r&&r.transfer},this.terminated?o.reject(Error("Worker is terminated")):this.worker.ready?this.worker.send(i.message,i.transfer):this.requestQueue.push(i),a=this,o.promise.catch((function(e){if(e instanceof g.CancellationError||e instanceof g.TimeoutError)return delete a.processing[n],a.terminateAndNotify(!0).then((function(){throw e}),(function(e){throw e}));throw e}))},m.prototype.busy=function(){return this.cleaning||Object.keys(this.processing).length>0},m.prototype.terminate=function(e,t){var o,r,n,i=this;if(e){for(o in this.processing)void 0!==this.processing[o]&&this.processing[o].resolver.reject(Error("Worker terminated"));this.processing=Object.create(null)}if("function"==typeof t&&(this.terminationHandler=t),this.busy())this.terminating=!0;else{if(r=function(e){if(i.terminated=!0,i.cleaning=!1,null!=i.worker&&i.worker.removeAllListeners&&i.worker.removeAllListeners("message"),i.worker=null,i.terminating=!1,i.terminationHandler)i.terminationHandler(e,i);else if(e)throw e},this.worker){if("function"==typeof this.worker.kill)return this.worker.killed?void r(Error("worker already killed!")):(n=setTimeout((function(){i.worker&&i.worker.kill()}),this.workerTerminateTimeout),this.worker.once("exit",(function(){clearTimeout(n),i.worker&&(i.worker.killed=!0),r()})),this.worker.ready?this.worker.send(y):this.requestQueue.push({message:y}),void(this.cleaning=!0));if("function"!=typeof this.worker.terminate)throw Error("Failed to terminate worker");this.worker.terminate(),this.worker.killed=!0}r()}},m.prototype.terminateAndNotify=function(e,t){var o=g.defer();return t&&o.promise.timeout(t),this.terminate(e,(function(e,t){e?o.reject(e):o.resolve(t)})),o.promise},e.exports=m,e.exports._tryRequireWorkerThreads=u,e.exports._setupProcessWorker=f,e.exports._setupBrowserWorker=p,e.exports._setupWorkerThreadWorker=_,e.exports.ensureWorkerThreads=c},833:function(e){"use strict";function t(){this.ports=Object.create(null),this.length=0}e.exports=t,t.prototype.nextAvailableStartingAt=function(e){for(;!0===this.ports[e];)e++;if(e>=65535)throw Error("WorkerPool debug port limit reached: "+e+">= 65535");return this.ports[e]=!0,this.length++,e},t.prototype.releasePort=function(e){delete this.ports[e],this.length--}},828:function(e,t,r){var n,i=r(397),a=function(e){return void 0!==e&&null!=e.versions&&null!=e.versions.node};e.exports.isNode=a,e.exports.platform=void 0!==o&&a(o)?"node":"browser",n=function(e){try{return i("worker_threads")}catch(t){return null}}(),e.exports.isMainThread="node"===e.exports.platform?(!n||n.isMainThread)&&!o.connected:"undefined"!=typeof Window,e.exports.cpus="browser"===e.exports.platform?self.navigator.hardwareConcurrency:i("os").cpus().length},670:function(e){e.exports='!function(){var __webpack_modules__={577:function(e){e.exports=function(e,r){this.message=e,this.transfer=r}}},__webpack_module_cache__={};function __webpack_require__(e){var r=__webpack_module_cache__[e];return void 0!==r||(r=__webpack_module_cache__[e]={exports:{}},__webpack_modules__[e](r,r.exports,__webpack_require__)),r.exports}var __webpack_exports__={};!function(){var exports=__webpack_exports__,__webpack_unused_export__;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Transfer=__webpack_require__(577),requireFoolWebpack=eval("typeof require !== \'undefined\' ? require : function (module) { throw new Error(\'Module \\" + module + \\" not found.\') }"),TERMINATE_METHOD_ID="__workerpool-terminate__",worker={exit:function(){}},WorkerThreads,parentPort;if("undefined"!=typeof self&&"function"==typeof postMessage&&"function"==typeof addEventListener)worker.on=function(e,r){addEventListener(e,function(e){r(e.data)})},worker.send=function(e){postMessage(e)};else{if("undefined"==typeof process)throw new Error("Script must be executed as a worker");try{WorkerThreads=requireFoolWebpack("worker_threads")}catch(error){if("object"!==_typeof(error)||null===error||"MODULE_NOT_FOUND"!==error.code)throw error}WorkerThreads&&null!==WorkerThreads.parentPort?(parentPort=WorkerThreads.parentPort,worker.send=parentPort.postMessage.bind(parentPort),worker.on=parentPort.on.bind(parentPort)):(worker.on=process.on.bind(process),worker.send=function(e){process.send(e)},worker.on("disconnect",function(){process.exit(1)})),worker.exit=process.exit.bind(process)}function convertError(o){return Object.getOwnPropertyNames(o).reduce(function(e,r){return Object.defineProperty(e,r,{value:o[r],enumerable:!0})},{})}function isPromise(e){return e&&"function"==typeof e.then&&"function"==typeof e.catch}worker.methods={},worker.methods.run=function(e,r){e=new Function("return ("+e+").apply(null, arguments);");return e.apply(e,r)},worker.methods.methods=function(){return Object.keys(worker.methods)},worker.terminationHandler=void 0,worker.cleanupAndExit=function(e){function r(){worker.exit(e)}if(!worker.terminationHandler)return r();var o=worker.terminationHandler(e);isPromise(o)?o.then(r,r):r()};var currentRequestId=null;worker.on("message",function(r){if(r===TERMINATE_METHOD_ID)return worker.cleanupAndExit(0);try{var e=worker.methods[r.method];if(!e)throw new Error(\'Unknown method "\'+r.method+\'"\');currentRequestId=r.id;var o=e.apply(e,r.params);isPromise(o)?o.then(function(e){e instanceof Transfer?worker.send({id:r.id,result:e.message,error:null},e.transfer):worker.send({id:r.id,result:e,error:null}),currentRequestId=null}).catch(function(e){worker.send({id:r.id,result:null,error:convertError(e)}),currentRequestId=null}):(o instanceof Transfer?worker.send({id:r.id,result:o.message,error:null},o.transfer):worker.send({id:r.id,result:o,error:null}),currentRequestId=null)}catch(e){worker.send({id:r.id,result:null,error:convertError(e)})}}),worker.register=function(e,r){if(e)for(var o in e)e.hasOwnProperty(o)&&(worker.methods[o]=e[o]);r&&(worker.terminationHandler=r.onTerminate),worker.send("ready")},worker.emit=function(e){currentRequestId&&(e instanceof Transfer?worker.send({id:currentRequestId,isEvent:!0,payload:e.message},e.transfer):worker.send({id:currentRequestId,isEvent:!0,payload:e}))},__webpack_unused_export__=worker.register,worker.emit}()}();'},397:function(e){var t=eval("typeof require !== 'undefined' ? require : function (module) { throw new Error('Module \" + module + \" not found.') }");e.exports=t},577:function(e){e.exports=function(e,t){this.message=e,this.transfer=t}},744:function(e,t,r){function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e){return Object.getOwnPropertyNames(e).reduce((function(t,o){return Object.defineProperty(t,o,{value:e[o],enumerable:!0})}),{})}function a(e){return e&&"function"==typeof e.then&&"function"==typeof e.catch}var l,s,c,d=r(577),u=eval("typeof require !== 'undefined' ? require : function (module) { throw new Error('Module \" + module + \" not found.') }"),p="__workerpool-terminate__",_={exit:function(){}};if("undefined"!=typeof self&&"function"==typeof postMessage&&"function"==typeof addEventListener)_.on=function(e,t){addEventListener(e,(function(e){t(e.data)}))},_.send=function(e){postMessage(e)};else{if(void 0===o)throw Error("Script must be executed as a worker");try{l=u("worker_threads")}catch(f){if("object"!==n(f)||null===f||"MODULE_NOT_FOUND"!==f.code)throw f}l&&null!==l.parentPort?(s=l.parentPort,_.send=s.postMessage.bind(s),_.on=s.on.bind(s),_.exit=o.exit.bind(o)):(_.on=o.on.bind(o),_.send=function(e){o.send(e)},_.on("disconnect",(function(){o.exit(1)})),_.exit=o.exit.bind(o))}_.methods={},_.methods.run=function(e,t){var o=Function("return ("+e+").apply(null, arguments);");return o.apply(o,t)},_.methods.methods=function(){return Object.keys(_.methods)},_.terminationHandler=void 0,_.cleanupAndExit=function(e){var t,o=function(){_.exit(e)};if(!_.terminationHandler)return o();a(t=_.terminationHandler(e))?t.then(o,o):o()},c=null,_.on("message",(function(e){var t,o;if(e===p)return _.cleanupAndExit(0);try{if(!(t=_.methods[e.method]))throw Error('Unknown method "'+e.method+'"');c=e.id,a(o=t.apply(t,e.params))?o.then((function(t){t instanceof d?_.send({id:e.id,result:t.message,error:null},t.transfer):_.send({id:e.id,result:t,error:null}),c=null})).catch((function(t){_.send({id:e.id,result:null,error:i(t)}),c=null})):(o instanceof d?_.send({id:e.id,result:o.message,error:null},o.transfer):_.send({id:e.id,result:o,error:null}),c=null)}catch(r){_.send({id:e.id,result:null,error:i(r)})}})),_.register=function(e,t){if(e)for(var o in e)e.hasOwnProperty(o)&&(_.methods[o]=e[o]);t&&(_.terminationHandler=t.onTerminate),_.send("ready")},_.emit=function(e){if(c){if(e instanceof d)return void _.send({id:c,isEvent:!0,payload:e.message},e.transfer);_.send({id:c,isEvent:!0,payload:e})}},t.add=_.register,t.emit=_.emit}},n={},i={};return function(){var t=i,o=e(828);t.pool=function(t,o){return new(e(345))(t,o)},t.worker=function(t,o){e(744).add(t,o)},t.workerEmit=function(t){e(744).emit(t)},t.Promise=e(219),t.Transfer=e(577),t.platform=o.platform,t.isMainThread=o.isMainThread,t.cpus=o.cpus}(),i}()},e.exports=r()})("/",o(46))},682:function(e,t,o){"use strict";e.exports=function(){}},698:function(e,t,o){"use strict";const r={_create_state(){const e=window.requestAnimationFrame||window.oRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,t=window.cancelAnimationFrame||window.oCancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame;return Object.assign({},{raf:e,caf:t,caf_id:{},lasts_raf_time:{},previous_cpaf_fps:{},cpaf_frames:{},is_mobile_or_tablet:!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(navigator.userAgent||navigator.vendor||window.opera)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent||navigator.vendor||window.opera.substr(0,4)))})},init(){let e,t=parseInt(Date.now()).toString(16),o=this._create_state;window._sraf_state=window._sraf_state||{},window._sraf_state[t]=o();let r=function(){};return{start_timer:function(){clearInterval(e),e&&clearInterval(e),window._sraf_state[t]=o(),e=setInterval((function(){window._sraf_state[t].second_previous_cpaf_fps=parseInt(window._sraf_state[t].previous_cpaf_fps),window._sraf_state[t].previous_cpaf_fps=2*window._sraf_state[t].cpaf_frames|0,window._sraf_state[t].cpaf_frames=0,r((window._sraf_state[t].second_previous_cpaf_fps+window._sraf_state[t].previous_cpaf_fps|0)/2|0)}),500)},set_notify_fps_callback(e=function(){}){r=e},destroy(o=function(){}){null!==window._sraf_state[t]?(clearInterval(e),window._sraf_state[t]={},o()):o("ok")},run_frame:(e,o,r,n,i)=>(o=o||!1,r=r||!1,n=n||Date.now(),i="_"+i,new Promise((function(a,l){function s(){window._sraf_state[t].lasts_raf_time[i]=0|n,e().then((function(){window._sraf_state[t].cpaf_frames++,c===window._sraf_state[t].caf_id[i]&&(window._sraf_state[t].caf_id=null),a()})).catch(l)}var c;if(n<(0|window._sraf_state[t].lasts_raf_time[i]))a();else{let e=Math.max(window._sraf_state[t].second_previous_cpaf_fps+window._sraf_state[t].previous_cpaf_fps|0,window._sraf_state[t].is_mobile_or_tablet?20:40),n=!0,d=Date.now()-window._sraf_state[t].lasts_raf_time[i];d>1e3/e&&(n=!1),r||!n||null!==window._sraf_state[t].caf_id[i]&&d>1e3/(1.5*e)?(null!==window._sraf_state[t].caf_id[i]&&(window._sraf_state[t].caf.call(window,window._sraf_state[t].caf_id[i]),window._sraf_state[t].caf_id[i]=null),c=0|window._sraf_state[t].caf_id[i],o?window._sraf_state[t].raf.call(window,s):window._sraf_state[t].caf_id[i]=window._sraf_state[t].raf.call(window,s)):setTimeout(this,d<1e3/(2*e)?1e3/(1.75*e):r||o?1e3/(2.5*e):1e3/e,a,l)}}))),get_state:()=>window._sraf_state[t]}}};e.exports=r},751:function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n,i,a,l,s,c,d,u,p,_,f,h,m,g,b,w,y,x,k,v,E,C,T,S,L,I,O,z,R,j,P,W,N,A,M,D,B,H,F,U,q,$,V,G,X,K,Q,Y,Z,J,ee,te,oe,re,ne,ie,ae,le,se,ce,de,ue,pe,_e,fe,he,me,ge,be,we,ye,xe,ke,ve,Ee,Ce,Te,Se,Le,Ie,Oe,ze,Re,je,Pe,We,Ne,Ae,Me,De,Be,He,Fe,Ue,qe,$e,Ve,Ge,Xe,Ke,Qe,Ye,Ze,Je,et,tt,ot,rt,nt,it,at,lt,st,ct,dt,ut,pt,_t,ft,ht,mt,gt,bt,wt,yt,xt,kt,vt,Et,Ct,Tt,St,Lt,It,Ot,zt,Rt,jt,Pt,Wt,Nt,At,Mt,Dt,Bt,Ht,Ft,Ut;Object.defineProperty(t,"__esModule",{value:!0}),n=Object.assign||function(e){var t,o,r;for(t=1;t<arguments.length;t++)for(r in o=arguments[t])Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);return e},i=o(0),a=r(i),l=o(26),s=o(591),c=o(73),d=o(752),u=r(d),p=o(753),_=r(p),f=o(754),h=r(f),m=o(680),g=r(m),b=o(755),w=r(b),y=o(774),x=r(y),k=o(775),v=r(k),E=o(778),C=o(779),T=r(C),S=o(780),L=r(S),I=o(781),O=r(I),z=o(782),R=r(z),j=o(783),P=r(j),W=o(784),N=r(W),A=o(785),M=r(A),D=o(786),B=r(D),H=o(787),F=r(H),U=o(788),q=r(U),$=o(789),V=r($),G=o(790),X=r(G),K=o(791),Q=r(K),Y=o(792),Z=r(Y),J=o(674),ee=r(J),te=o(684),oe=r(te),re=o(793),ne=r(re),ie=o(685),ae=r(ie),le=o(686),se=r(le),ce=o(687),de=r(ce),ue=o(794),pe=r(ue),_e=o(795),fe=r(_e),he=o(796),me=r(he),ge=o(797),be=r(ge),we=o(798),ye=r(we),xe=o(799),ke=r(xe),ve=o(688),Ee=r(ve),Ce=o(800),Te=r(Ce),Se=o(689),Le=r(Se),Ie=o(801),Oe=r(Ie),ze=o(690),Re=r(ze),je=o(802),Pe=r(je),We=o(691),Ne=r(We),Ae=o(692),Me=r(Ae),De=o(803),Be=r(De),He=o(804),Fe=r(He),Ue=o(805),qe=r(Ue),$e=o(806),Ve=r($e),Ge=o(807),Xe=r(Ge),Ke=o(808),Qe=r(Ke),Ye=o(809),Ze=r(Ye),Je=o(693),et=r(Je),tt=o(380),ot=r(tt),rt=o(694),nt=r(rt),it=o(632),at=r(it),lt=o(810),st=r(lt),ct=o(811),dt=r(ct),ut=o(812),pt=r(ut),_t=o(813),ft=r(_t),ht=o(814),mt=r(ht),gt=o(695),bt=r(gt),wt=o(815),yt=r(wt),xt=o(696),kt=r(xt),vt=o(816),Et=r(vt),Ct=o(697),Tt=r(Ct),St=o(817),Lt=r(St),It=o(818),Ot=r(It),zt=o(819),Rt=r(zt),jt=o(820),Pt=r(jt),Wt=o(821),Nt=r(Wt),At=o(66),Mt=r(At),Dt=o(385),Bt=r(Dt),Ht=o(129),Ft=r(Ht);const{Color:qt}=(0,s.SIMDopeCreate)({create:{new_hex:!0,new_hsla:!0,new_of:!0},properties:{hex:!0,hsla:!0},methods:{get_slice:!0}}),$t=["palette","image","layers","tools","selection","effects","filters"];class Vt extends a.default.PureComponent{constructor(e){super(e),Ut.call(this),this.st4te={classes:e.classes,canvas:e.canvas,is_mobile:e.is_mobile||!1,view_names:e.view_names,view_name_index:e.view_name_index,current_color:e.current_color,second_color:e.second_color,slider_value:parseFloat(e.slider_value),layers:e.layers,layer_index:e.layer_index,filter_layer_index:0,can_undo:e.can_undo,can_redo:e.can_redo,width:e.width,height:e.height,default_width:this.default_width?96:e.default_width||e.width||96,default_height:this.default_height?96:e.default_height||e.height||96,is_image_import_mode:e.is_image_import_mode,hide_canvas_content:e.hide_canvas_content,show_original_image_in_background:e.show_original_image_in_background,show_transparent_image_in_background:e.show_transparent_image_in_background,tool:e.tool,filters:e.filters,select_mode:e.select_mode,pencil_mirror_mode:e.pencil_mirror_mode,is_something_selected:e.is_something_selected,previous_view_name_index:e.previous_view_name_index,hue:e.hue,should_update:e.should_update||!1,slider_value_width:e.slider_value_width,slider_value_height:e.slider_value_height,_layer_opened:!1,_anchor_el:null,_saturation:60,_luminosity:60,_opacity:100,_history:c.HISTORY,too_much_colors_no_vector:!1,import_size:e.import_size,import_colorize:e.import_colorize,filters_thumbnail:e.filters_thumbnail||new Map,filters_preview_progression:e.filters_preview_progression||"0",last_filters_hash:"",_filter_aspect_ratio:"1 / 1",_filter_thumbnail_changed:!0,_compressed:!1,_upscale:!1,_vectorized:!1,_photo:!1,_crt:!1,_list_sub_header_opened:""},this._cache={palette:null,image:null,layers:null,tools:null,selection:null,effects:null,filters:null},this._cache_empty={palette:null,image:null,layers:null,tools:null,selection:null,effects:null,filters:null},Object.keys(this._cache).map((e=>{this.update_cache_view(e),this._cache_empty[e]=a.default.createElement(l.List,{key:"list-empty-"+e,style:{willChange:"none",minHeight:"100%",contain:"size style layout paint",overflow:"auto",contentVisibility:"hidden",paddingTop:0}})}))}setSt4te(e,t){let o=Object.keys(e),r=0|o.length,n="";for(let i=0;(0|i)<(0|r);i=(i+1|0)>>>0)n=o[i]+"",this.st4te[n]=e[n];"function"==typeof t&&t()}componentDidMount(){this.props.set_filters_callback&&this.props.set_filters_callback(this._handle_filters_thumbnail_change),this.props.set_props_callback&&this.props.set_props_callback(this._set_props)}componentWillReceiveProps(e){const{should_update:t,view_name_index:o,previous_view_name_index:r,layer_index:i,filter_layer_index:a,is_image_import_mode:l,hide_canvas_content:s,show_original_image_in_background:c,show_transparent_image_in_background:d,can_undo:u,can_redo:p,current_color:_,second_color:f,tool:h,width:m,height:g,filters_preview_progression:b,select_mode:w,pencil_mirror_mode:y,is_something_selected:x,import_size:k,import_colorize:v,layers:E}=this.st4te,C=!(a===e.layer_index),T=!(u===e.can_undo&&p===e.can_redo),S=!(o===e.view_name_index&&!T&&!C||6!==e.view_name_index);let L=0;Array.from(e.layers).forEach((function(e){L<parseInt(e.number_of_colors)&&(L=parseInt(e.number_of_colors))}));const I=!!(L>256),O=!(E.map((function(e,t){return t+"_"+e.hidden+"_"+e.opacity+"_"+e.number_of_colors+"_h"+e.thumbnail.hash})).join("-")===e.layers.map((function(e,t){return t+"_"+e.hidden+"_"+e.opacity+"_"+e.number_of_colors+"_h"+e.thumbnail.hash})).join("-")),z=!(o===e.view_name_index),R=!(!e.should_update&&!t||!O&&w+""==e.select_mode+""&&!!I==!!this.st4te.too_much_colors_no_vector&&parseInt(i)===parseInt(e.layer_index)&&!!l==!!e.is_image_import_mode&&!!s==!!e.hide_canvas_content&&!!c==!!e.show_original_image_in_background&&!!d==!!e.show_transparent_image_in_background&&!!u==!!e.can_undo&&!!p==!!e.can_redo&&_+""==e.current_color+""&&f+""==e.second_color+""&&h+""==e.tool+""&&parseInt(m)===parseInt(e.width)&&parseInt(g)===parseInt(e.height)&&!!y==!!e.pencil_mirror_mode&&!!x==!!e.is_something_selected&&parseInt(k)===parseInt(e.import_size)&&(0|v)==(0|e.import_colorize));S&&this.compute_filters_preview(),this.setSt4te(n({},e,{},{slider_value:parseFloat(e.slider_value),too_much_colors_no_vector:I}),(()=>{R?this.update_cache_view(null,!0):z&&this.forceUpdate()}))}render(){const{view_name_index:e,previous_view_name_index:t}=this.st4te,o=this._cache,r=this._cache_empty;return a.default.createElement(w.default,{ignoreNativeScroll:!0,containerStyle:{overflow:"visible",contain:"style size"},animateHeight:!0,animateTransitions:!0,disableLazyLoading:!0,resistance:!0,springConfig:{tension:450,friction:60,duration:"120ms",easeFunction:"cubic-bezier(0.280, 0.840, 0.420, 1)",delay:"5ms"},index:e,onChangeIndex:this._handle_view_name_change,disabled:!1,key:"swipe-able-view"},this.get_action_panel_names().map((function(n,i){return e!==i&&t!==i?r[n]:o[n]})))}}Ut=function(){this._scroll_to_id=e=>{"function"==typeof this.props.on_scroll_to&&this.props.on_scroll_to(e)},this._handle_filters_thumbnail_change=(e,t,o)=>{if(o+="","0"===this.st4te.filters_preview_progression&&Mt.default.trigger_voice("filtering"),this.st4te._filters_changed){let t,o="",r=!1;for(let n=0;n<this.st4te.filters.length;n++)t=e[this.st4te.filters[n]]||{},t&&(o=`${t.width} / ${t.height}`,r=!0);o!==this.st4te._filter_aspect_ratio&&r&&this.setSt4te({_filters_changed:!1,_filter_aspect_ratio:o},(()=>{this.update_cache_view(null,!0)}))}this.setSt4te({filters_thumbnail:e,last_filters_hash:t,filters_preview_progression:o,filter_layer_index:this.st4te.layer_index},(()=>{"100"===o&&this.update_cache_view(null,!0)}))},this._set_props=e=>{this.componentWillReceiveProps(e)},this.compute_filters_preview=()=>{try{this.setSt4te({_filters_changed:!0},(()=>{this.st4te.canvas.compute_filters_preview()}))}catch(e){}},this._text_to_new_layer=()=>{this.props.on_request_draw_text()},this._to_filter=e=>{this.st4te.canvas.to_filter(e,this.st4te.slider_value),this.is_mobile||this.compute_filters_preview()},this.get_action_panel_names=()=>$t,this.get_action_panel_cache=e=>this._cache[e],this._set_list_subheader_collapse=e=>{this.setSt4te({_list_sub_header_opened:this.st4te._list_sub_header_opened&&this.st4te._list_sub_header_opened===e?"":e},(()=>{this.update_cache_view(null,!0)}))},this._get_list_sub_header_content_scarlett=(e,t)=>{const o=this.st4te._list_sub_header_opened,r=this.st4te.classes;return a.default.createElement(a.default.Fragment,null,a.default.createElement(l.Collapse,{className:r.listSubHeaderCollapse,in:o===e},a.default.createElement("p",{className:r.listSubHeaderDescription},t)),o===e&&a.default.createElement("div",{className:r.listSubHeaderVideo},a.default.createElement("video",{id:"upload-video",width:"150",height:"150",style:{aspectRatio:"1",transform:"translateZ(10px)"},autoPlay:!0},a.default.createElement("source",{src:"/src/videos/"+e+".mp4",type:"video/mp4"})),a.default.createElement("div",{className:r.listSubHeaderVideoOverlay}),a.default.createElement("div",{className:r.listSubHeaderVideoFade})),a.default.createElement(l.IconButton,{className:r.listSubHeaderToggle,onClick:()=>{this._set_list_subheader_collapse(e)}},o===e?a.default.createElement(Ft.default,null):a.default.createElement(Bt.default,null)))},this._get_list_sub_header_classname=(e,t)=>{const o=this.st4te._list_sub_header_opened,r=this.st4te.classes;return o===e?r.listSubHeaderOpen:r.listSubHeader},this._get_colors=(e,t,o)=>{let r=[];for(let n=1;n<=128;n++)r.push(qt.new_hsla(n/128*360|0,e,t,o).hex);return r},this.get_before_action_panel=e=>{const{classes:t,canvas:o,_anchor_el:r,layers:n,layer_index:i,_previous_layer_index:s,current_color:c,second_color:d,slider_value:p,width:_,height:f,_saturation:h,_luminosity:m,_opacity:g,_layer_opened:b,import_size:w,import_colorize:y,_list_sub_header_opened:k}=this.st4te,C=qt.new_hex(c),S={r:C.r,g:C.g,b:C.b,a:C.a/255},[I,O,z]="#ffffff"===c?[196,196,196]:qt.new_hex(c).get_slice(),R=I+O+z<456,[j,P,W]="#ffffff"===d?[196,196,196]:qt.new_hex(d).get_slice(),N=j+P+W<456;switch(this.get_action_panel_names()[e]){case"layers":return a.default.createElement("div",{key:"layers-layers-main",className:`swipetoolbox_i_${e}_0`},a.default.createElement(l.ListSubheader,{className:t.listSubHeader,onClick:()=>{this._scroll_to_id(`swipetoolbox_i_${e}_0`)}},a.default.createElement("span",null,a.default.createElement(u.default,null)),a.default.createElement("span",null,"All layers")),a.default.createElement("div",{key:"layers-wrapper-index-"+e},Array.from(n).reverse().map(((r,d,u)=>{const h=u.length-1-d;return void 0===r.colors?null:a.default.createElement("div",{key:"layers-list-item-n-"+h},a.default.createElement(l.ListItem,{divider:!0,className:i===h?t.layerSelected:null,button:!0,onClick:()=>this._change_active_layer(h)},a.default.createElement(l.ListItemAvatar,null,a.default.createElement("canvas",{className:"pixelated "+t.layerThumbnail+" "+e,ref:e=>{this._set_canvas_ref(e,r.thumbnail,!0)},key:"layer-n-"+h+"-w-"+r.thumbnail.width+"-h-"+r.thumbnail.height,width:r.thumbnail.width||0,height:r.thumbnail.height||0,style:{background:`repeating-conic-gradient(rgb(248 248 248 / 100%) 0% 25%, rgb(224 224 224 / 100%) 0% 50%) left top 50% / calc(200% / ${_}) calc(200% / ${f})`}})),a.default.createElement(l.ListItemText,{primary:r.name}),a.default.createElement(x.default,{className:b&&i===h?t.flipExpandMoreIcon:t.expandMoreIcon})),(i===h||s===h)&&a.default.createElement(l.Collapse,{timeout:{appear:250,enter:250,exit:250},in:b&&i===h,className:t.layerSelected},a.default.createElement("div",{style:{padding:"12px 0px 12px 32px"}},a.default.createElement("span",null,"Colours: (",r.colors.length,"/",r.number_of_colors,")"),a.default.createElement(v.default,{key:"layer-n-"+e+"-color-palette",transparent:!0,padding:"12px 0px",size:32,gap:"8px",colors:r.colors,selected_colors:Array.of(c),onColorClick:(e,t)=>{this._handle_current_color_change(t)}}),r.colors.length>=2?a.default.createElement("div",{style:{padding:"12px 0px"}},a.default.createElement(l.Button,{color:"primary",onClick:()=>this._less_colors_stepped(1)},"...Less colors")):null),a.default.createElement(l.Divider,{style:{marginLeft:24}}),a.default.createElement("div",{style:{padding:"12px 0px 12px 32px"}},a.default.createElement("span",null,"Actions:"),a.default.createElement("div",{style:{padding:"12px 0px"}},a.default.createElement(l.Button,{color:"primary",onClick:()=>{o.current_layer_up()}},"UP"),a.default.createElement(l.Button,{color:"primary",onClick:()=>{o.current_layer_down()}},"DOWN"),a.default.createElement(l.Button,{color:"primary",onClick:()=>{o.toggle_layer_visibility(i)}},(n[i]||{}).hidden?"SHOW":"HIDE"),a.default.createElement(l.Button,{color:"primary",onClick:()=>{o.change_layer_opacity(i,p)}},`OPACITY: ${(n[i]||{}).opacity} -> ${p}`)))))}))));case"palette":return a.default.createElement("div",{key:"palette-palette-main",className:`swipetoolbox_i_${e}_0`},a.default.createElement(l.Menu,{className:t.menu,anchorEl:r,anchorPosition:{vertical:"top",horizontal:"center"},keepMounted:!0,open:!!r,onClose:this._handle_color_menu_close,style:{padding:0}},a.default.createElement(E.RgbaColorPicker,{className:t.materialPicker,color:S,onChange:e=>{this._handle_current_color_change(qt.new_of(e.r,e.g,e.b,0|Math.round(255*e.a)).hex)}})),a.default.createElement("div",{style:{textAlign:"center"}},a.default.createElement(l.Button,{variant:"contained",style:{fontWeight:"bold",color:R?"white":"black",boxShadow:`0px 2px 4px -1px rgb(${I} ${O} ${z} / 20%), 0px 4px 5px 0px rgb(${I} ${O} ${z} / 14%), 0px 1px 10px 0px rgb(${I} ${O} ${z} / 12%)`,margin:24,boxSizing:"content-box",background:c,borderRadius:4,height:48,width:152},onClick:e=>{this._handle_color_menu_open(e,c)}},"Primary"),a.default.createElement(l.Button,{variant:"contained",style:{fontWeight:"bold",color:N?"white":"black",boxShadow:`0px 2px 4px -1px rgb(${j} ${P} ${W} / 20%), 0px 4px 5px 0px rgb(${j} ${P} ${W} / 14%), 0px 1px 10px 0px rgb(${j} ${P} ${W} / 12%)`,margin:24,boxSizing:"content-box",background:d,borderRadius:4,height:48,width:96},onClick:e=>{this._switch_with_second_color()}},"Switch")),a.default.createElement(v.default,{transparent:!0,padding:"12px 16px 24px 24px",gap:"0px",align:"left",colors:this._get_colors(h,m,g),selected_colors:[c],onColorClick:(e,t)=>{this._handle_current_color_change(t)}}),a.default.createElement("div",{style:{padding:"8px 24px",position:"relative",overflow:"visible",boxSizing:"border-box",width:"100%"},key:"palette-palette-secondary",className:`swipetoolbox_i_${e}_1`},a.default.createElement("div",{className:t.sliderContainer},a.default.createElement(l.Typography,{className:t.sliderLabel,id:"opacity-slider",gutterBottom:!0},"α"),a.default.createElement(l.Slider,{defaultValue:parseInt(g),key:"0-"+g,step:10,valueLabelDisplay:"auto",min:0,max:100,onChangeCommitted:this._set_opacity_from_slider,"aria-labelledby":"opacity-slider"})),a.default.createElement("div",{className:t.sliderContainer},a.default.createElement(l.Typography,{className:t.sliderLabel,id:"luminosity-slider",gutterBottom:!0},"L"),a.default.createElement(l.Slider,{defaultValue:parseInt(m),key:"0-"+m,step:10,valueLabelDisplay:"auto",min:0,max:100,onChangeCommitted:this._set_luminosity_from_slider,"aria-labelledby":"luminosity-slider"})),a.default.createElement("div",{className:t.sliderContainer},a.default.createElement(l.Typography,{className:t.sliderLabel,id:"saturation-slider",gutterBottom:!0},"S"),a.default.createElement(l.Slider,{defaultValue:parseInt(h),key:"0-"+h,step:10,valueLabelDisplay:"auto",min:0,max:100,onChangeCommitted:this._set_saturation_from_slider,"aria-labelledby":"strength-slider"}))));case"image":return a.default.createElement("div",{key:"image-image-upload",className:`swipetoolbox_i_${e}_0`},a.default.createElement(l.ListSubheader,{className:this._get_list_sub_header_classname("upload"),onClick:()=>{this._scroll_to_id(`swipetoolbox_i_${e}_0`)},disabled:"upload"!=k},a.default.createElement("span",{className:"list-sub-header-main-text"},a.default.createElement("span",null,a.default.createElement(L.default,null)),a.default.createElement("span",null,"New Artwork")),this._get_list_sub_header_content_scarlett("upload","Define a size before uploading an image from the library or your device, this size will be the one used in the laboratory, but before! You can optionally define a retouching setting by artificial intelligence of your starting image, you can enlarge, colorize or even do both at the same time! That's how it's done to open an image in the lab, have fun.")),a.default.createElement(l.FormLabel,{style:{padding:"32px 24px 12px 32px"},component:"legend"},"START HERE, CONVERT PICTURES INTO PIXEL ART!"),a.default.createElement("div",{className:"image "+t.listItems},a.default.createElement("input",{accept:"image/jpg, image/jpeg, image/png, image/svg, image/webp, image/gif",style:{display:"none"},id:"button-file-drawer-upload-key-"+(n[i]||{}).hash,key:"input-button-file-drawer-upload-key-"+(n[i]||{}).hash,type:"file",onChange:this._upload_image}),a.default.createElement(l.ListItem,{component:"label",button:!0,key:"list-item-button-file-drawer-upload-key-"+(n[i]||{}).hash,htmlFor:"button-file-drawer-upload-key-"+(n[i]||{}).hash},a.default.createElement(l.ListItemIcon,{className:t.listItemIconBlueBold},a.default.createElement(T.default,null)),a.default.createElement(l.ListItemText,{className:t.ListItemTextBold,primary:"UPLOAD IMAGE",secondary:"NETWORK NOT REQUIRED"})),!1,!1),a.default.createElement("div",{className:"image "+t.listItems},a.default.createElement("div",{style:{padding:"8px 24px",position:"relative",overflow:"hidden",boxSizing:"border-box",width:"100%"}},a.default.createElement(l.Typography,{id:"size-slider",style:{textAlignLast:"left"},gutterBottom:!0},"NEW IMAGE SIZE"),a.default.createElement(l.Slider,{defaultValue:parseInt(w),step:1,valueLabelDisplay:"auto",min:0,max:w>512?w:512,onChangeCommitted:this._set_import_size,onClick:function(e){e.stopPropagation(),e.preventDefault()},"aria-labelledby":"size-slider"}))),a.default.createElement(l.FormLabel,{style:{padding:"16px 24px 12px 32px"},component:"legend"},"ONLINE TOOLS TO ENHANCE YOUR SELECTION"),a.default.createElement("div",{className:"image "+t.listItems},a.default.createElement(l.RadioGroup,{row:!0,name:"Colorize",onChange:this._set_import_colorize,key:"colorize-mode-n-"+y,value:y,style:{padding:"12px 0px",margin:"0px 11px"}},a.default.createElement(l.FormControlLabel,{value:"0",control:a.default.createElement(l.Radio,{color:"primary"}),label:"NONE",labelPlacement:"bottom"}),a.default.createElement(l.FormControlLabel,{value:"1",control:a.default.createElement(l.Radio,{color:"primary"}),label:"COLOR",labelPlacement:"bottom"}),a.default.createElement(l.FormControlLabel,{value:"2",control:a.default.createElement(l.Radio,{color:"primary"}),label:"SCALE",labelPlacement:"bottom"}),a.default.createElement(l.FormControlLabel,{value:"3",control:a.default.createElement(l.Radio,{color:"primary"}),label:"BOTH",labelPlacement:"bottom"}))))}},this._set_canvas_ref=(e,t,o=!1)=>{if(void 0===t)return;if(void 0===t.width)return;if(1!=o&&1==t.drawn)return;if(void 0===e)return;if(null==e)return;if(void 0===e.width)return;let r=e.getContext("2d");r.globalCompositeOperation="copy",r.drawImage(t,0,0),t.drawn=!0},this.get_action_panel=e=>{const{canvas:t,classes:o,filters_thumbnail:r,layer_index:n,is_image_import_mode:i,hide_canvas_content:l,show_original_image_in_background:s,show_transparent_image_in_background:c,current_color:d,second_color:u,slider_value:p,tool:f,filters:m,select_mode:b,pencil_mirror_mode:w,is_something_selected:y,_filter_aspect_ratio:x,filters_preview_progression:k,too_much_colors_no_vector:v,_compressed:E,_upscale:C,_vectorized:T,_crt:S,_photo:I}=this.st4te,z=Math.round(7*parseFloat(k/7));switch(this.get_action_panel_names()[e]){case"palette":default:return[];case"image":return[{name:"pixelated",tutorial:"Here are the buttons to download your image in simple size or enlarged so as to have enlarged but still very clear edges!",icon:a.default.createElement(O.default,null),text:"Download pixelated",description:"Simple way to upscale your source file to be sure to have a file that is interpreted correctly with crisp edges.",local_i:1,label:"matrix",tools:[{icon:a.default.createElement(R.default,null),class:o.animatedDownload,text:"Render (1x size)",sub:"[CTRL + Q]",on_click:()=>{this._download_png(1)}},{icon:a.default.createElement(R.default,null),class:o.animatedDownload,text:"Render (2x size)",sub:"Upscale 2x",on_click:()=>{this._download_png(2)}},{icon:a.default.createElement(R.default,null),class:o.animatedDownload,text:"Render (4x size)",sub:"Upscale 4x",on_click:()=>{this._download_png(4)}},{icon:a.default.createElement(R.default,null),class:o.animatedDownload,text:"Render (8x size)",sub:"Upscale 8x",on_click:()=>{this._download_png(8)}},{icon:a.default.createElement(R.default,null),class:o.animatedDownload,text:"Render (16x size)",sub:"Upscale 16x",on_click:()=>{this._download_png(16)}},{icon:a.default.createElement(R.default,null),class:o.animatedDownload,text:"Render (24x size)",sub:"Upscale 24x",on_click:()=>{this._download_png(24)}},{icon:a.default.createElement(R.default,null),class:o.animatedDownload,text:"Render (32x size)",sub:"Upscale 32x",on_click:()=>{this._download_png(32)}},{icon:a.default.createElement(R.default,null),class:o.animatedDownload,text:"Render (48x size)",sub:"Upscale 48x",on_click:()=>{this._download_png(48)}}]},{name:"enhanced",tutorial:"Here are the buttons to download your image enlarged, yet having sleek, clean and humanized or rounded edges! It is possible to request a non-raster version of your image, it can be enlarged at will without loss of quality. The other options are provided for the purpose of reducing the size of your incoming file or even enlarging the result by two at most.",icon:a.default.createElement(O.default,null),text:"Download enhanced"+(v?" (Disabled)":""),description:v?"It will look like a painting! Yet, we need to have less than 256 colors for each layers because there should be a few shapes to get a beautiful result.":"After 2000's, great minds have found ways to up-scale late 80's pixel art within modern emulators while always being cool and absolutely right. Hey! It can look like a nice painting^^",local_i:2,label:"vector",tools:[{icon:a.default.createElement(R.default,null),class:o.animatedDownload,text:"Kikko",sub:"Upscale by 48x using a 400 years old Japanese pattern",disabled:v,on_click:()=>{this._download_svg("kikko",E,T,S,I)}},{icon:a.default.createElement(R.default,null),class:o.animatedDownload,text:"Hexagon",sub:"Upscale by 32x using an hexagonal grid",disabled:v,on_click:()=>{this._download_svg("hexagon",E,T,S,I)}},{icon:a.default.createElement(R.default,null),class:o.animatedDownload,text:"Omni",sub:"Upscale by 8x using Omniscale",disabled:v,on_click:()=>{this._download_svg("omniscale",E,T,S,I)}},{icon:a.default.createElement(R.default,null),class:o.animatedDownload,text:"xBRZ",sub:"Upscale by 6x using xBRZ",disabled:v,on_click:()=>{this._download_svg("xbrz",E,T,S,I)}},{icon:E?a.default.createElement(st.default,null):a.default.createElement(dt.default,null),text:"Compressed",sub:"Reduce file weight",disabled:v,on_click:()=>{this._toggle_compressed()}},{icon:T?a.default.createElement(st.default,null):a.default.createElement(dt.default,null),text:"Vectorized",sub:"Download an SVG file with it",disabled:v,on_click:()=>{this._toggle_vectorized()}},{icon:S?a.default.createElement(st.default,null):a.default.createElement(dt.default,null),text:"Retro",sub:"Download a PNG file with a retro effect",disabled:v,on_click:()=>{this._toggle_crt()}},{icon:I?a.default.createElement(st.default,null):a.default.createElement(dt.default,null),text:"Photo-realistic",sub:"Get the pixel art changed into something looking very real",disabled:v,on_click:()=>{this._toggle_photo()}}]}];case"layers":return[{icon:a.default.createElement(P.default,null),local_i:1,text:"Layer tools",label:"tools",tools:[{icon:l?a.default.createElement(N.default,null):a.default.createElement(M.default,null),text:l?"Show canvas content":"Hide canvas content",on_click:()=>{this._show_hide_canvas_content()}},{icon:s?a.default.createElement(B.default,null):a.default.createElement(F.default,null),text:s?"Hide bg img":"Show bg img",on_click:()=>{this._show_hide_background_image()}},{icon:c?a.default.createElement(B.default,null):a.default.createElement(F.default,null),text:c?"Hide chessboard":"Show chessboard",on_click:()=>{this._show_hide_transparent_image()}}]},{icon:a.default.createElement(q.default,null),text:"Layer actions",local_i:2,label:"actions",tools:[{icon:a.default.createElement(V.default,null),text:"New layer",on_click:()=>{t.new_layer(n)}},{icon:a.default.createElement(X.default,null),text:"Delete layer",on_click:()=>{t.delete_layer(n)}},{icon:a.default.createElement(Q.default,null),text:"Duplicate layer",on_click:()=>{t.duplicate_layer(n)}},{icon:a.default.createElement(Z.default,null),text:"Merge down layer",on_click:()=>{t.merge_down_layer(n)}}]},{icon:a.default.createElement(L.default,null),text:"Import image",local_i:3,label:"importing",tools:[{icon:a.default.createElement(ee.default,null),text:"Library to import",sub:"",on_click:()=>{this._import_image_from_libary()}},{icon:a.default.createElement(ee.default,null),text:"Import image",sub:"[CTRL + I]",for:"button-file-dialog-main",on_click:this.props.on_import_image},{icon:a.default.createElement(ee.default,null),text:"Confirm import",sub:"[Enter]",disabled:!i,on_click:()=>{t.confirm_import()}},{icon:a.default.createElement(Fe.default,null),text:"Asset Store",sub:"Buy tremendous images to add in your drawing",disabled:!1,on_click:()=>{window.open("https://www.artstation.com/pixapics/store")}}]}];case"tools":return[{icon:a.default.createElement(oe.default,null),text:"Drawing tools",label:"drawing",local_i:1,tools:[{icon:a.default.createElement(ne.default,null),disabled:"PICKER"===f,text:"Picker",sub:"[CTRL (HOLD)]",on_click:()=>{this._set_tool("PICKER")}},{icon:a.default.createElement(ae.default,null),disabled:"PENCIL"===f,text:"Pencil",sub:"[P]",on_click:()=>{this._set_tool("PENCIL")}},{icon:a.default.createElement(se.default,null),disabled:"PENCIL PERFECT"===f,text:"Pencil perfect",sub:"[N]",on_click:()=>{this._set_tool("PENCIL PERFECT")}},{icon:a.default.createElement(de.default,null),disabled:"SET PENCIL MIRROR"===f,text:"Set pencil mirror",sub:"[M]",on_click:()=>{this._set_tool("SET PENCIL MIRROR")}},{icon:a.default.createElement(Ze.default,null),disabled:"MOVE"===f,text:"Move",sub:"Middle mouse click moves it too...",on_click:()=>{this._set_tool("MOVE")}}]},{icon:a.default.createElement(pe.default,null),text:"Shapes tools",label:"shapes",local_i:2,tools:[{icon:a.default.createElement(fe.default,null),disabled:"LINE"===f,text:"Line",sub:"[L]",on_click:()=>{this._set_tool("LINE")}},{icon:a.default.createElement(me.default,null),disabled:"RECTANGLE"===f,text:"Rectangle",sub:"[R]",on_click:()=>{this._set_tool("RECTANGLE")}},{icon:a.default.createElement(be.default,null),disabled:"ELLIPSE"===f,text:"Ellipse",sub:"[E]",on_click:()=>{this._set_tool("ELLIPSE")}},{icon:a.default.createElement(ye.default,null),disabled:"CONTOUR"===f,text:"Free path",sub:"[F]",on_click:()=>{this._set_tool("CONTOUR")}}]},{icon:a.default.createElement(ke.default,null),text:"Paint tools",label:"basic",local_i:3,tools:[{icon:a.default.createElement(Ee.default,null),disabled:"BUCKET"===f,text:"Bucket",sub:"[B]",on_click:()=>{this._set_tool("BUCKET")}},{icon:a.default.createElement(Ee.default,null),disabled:"HUE BUCKET"===f,text:"Hue bucket",sub:"[H]",on_click:()=>{this._set_tool("HUE BUCKET")}},{icon:a.default.createElement(Te.default,null),disabled:"EXCHANGE"===f,text:"Exchange",sub:"[X]",on_click:()=>{this._set_tool("EXCHANGE")}},{icon:a.default.createElement(Le.default,null),disabled:"BORDER"===f,text:"Border",sub:"[U]",on_click:()=>{this._set_tool("BORDER")}}]},{icon:a.default.createElement(de.default,null),text:"Set pencil mirrors",label:"mirror",local_i:4,tools:[{icon:a.default.createElement(de.default,null),disabled:"NONE"===w,text:"None",on_click:()=>{this._set_pencil_mirror_mode("NONE")}},{icon:a.default.createElement(de.default,null),disabled:"VERTICAL"===w,text:"Vertical",on_click:()=>{this._set_pencil_mirror_mode("VERTICAL")}},{icon:a.default.createElement(de.default,null),disabled:"HORIZONTAL"===w,text:"Horizontal",on_click:()=>{this._set_pencil_mirror_mode("HORIZONTAL")}},{icon:a.default.createElement(de.default,null),disabled:"BOTH"===w,text:"Both",on_click:()=>{this._set_pencil_mirror_mode("BOTH")}}]}];case"selection":return[{icon:a.default.createElement(Oe.default,null),text:"Select mode",local_i:0,label:"mode",tools:[{icon:a.default.createElement(Re.default,null),disabled:"REMOVE"===b,text:"Select remove",sub:"[CTRL (HOLD)]",on_click:()=>{this._set_select_mode("REMOVE")}},{icon:a.default.createElement(Pe.default,null),disabled:"ADD"===b,text:"Select add",sub:"[SHIFT (HOLD)]",on_click:()=>{this._set_select_mode("ADD")}},{icon:a.default.createElement(_.default,null),disabled:"REPLACE"===b,text:"Select replace",on_click:()=>{this._set_select_mode("REPLACE")}}]},{icon:a.default.createElement(Ne.default,null),text:"Select tool",label:"selecting",local_i:1,tools:[{icon:a.default.createElement(_.default,null),disabled:"SELECT PATH"===f,text:"Select path",sub:"[CTRL + F]",on_click:()=>{this._set_tool("SELECT PATH")}},{icon:a.default.createElement(Me.default,null),disabled:"SELECT COLOR"===f,text:"Select color",sub:"[CTRL + G]",on_click:()=>{this._set_tool("SELECT COLOR")}},{icon:a.default.createElement(Be.default,null),disabled:"SELECT COLOR THRESHOLD"===f,text:"Select color threshold",sub:"[CTRL + K]",on_click:()=>{this._set_tool("SELECT COLOR THRESHOLD")}},{icon:a.default.createElement(qe.default,null),disabled:"SELECT PIXEL"===f,text:"Select pixel",sub:"[CTRL + P]",on_click:()=>{this._set_tool("SELECT PIXEL")}},{icon:a.default.createElement(qe.default,null),disabled:"SELECT PIXEL PERFECT"===f,text:"Select pixel perfect",sub:"[CTRL + N]",on_click:()=>{this._set_tool("SELECT PIXEL PERFECT")}},{icon:a.default.createElement(_.default,null),disabled:"SELECT LINE"===f,text:"Select line",sub:"[CTRL + L]",on_click:()=>{this._set_tool("SELECT LINE")}},{icon:a.default.createElement(Ve.default,null),disabled:"SELECT RECTANGLE"===f,text:"Select rectangle",sub:"[CTRL + R]",on_click:()=>{this._set_tool("SELECT RECTANGLE")}},{icon:a.default.createElement(Xe.default,null),disabled:"SELECT ELLIPSE"===f,text:"Select ellipse",sub:"[CTRL + E]",on_click:()=>{this._set_tool("SELECT ELLIPSE")}}]},{icon:a.default.createElement(Qe.default,null),text:"Apply to selection",label:"applying",local_i:2,tools:[{icon:a.default.createElement(Ne.default,null),disabled:!y,text:"Shrink",on_click:()=>{t.to_selection_size(-1)}},{icon:a.default.createElement(Ne.default,null),disabled:!y,text:"Grow",on_click:()=>{t.to_selection_size(1)}},{icon:a.default.createElement(Le.default,null),disabled:!y,text:"Border",on_click:()=>{t.to_selection_border()}},{icon:a.default.createElement(Ee.default,null),disabled:!y,text:"Bucket",on_click:()=>{t.to_selection_bucket()}},{icon:a.default.createElement(Ne.default,null),disabled:!y,text:"Crop",on_click:()=>{t.to_selection_crop()}},{icon:a.default.createElement(et.default,null),disabled:!y,text:"Invert",on_click:()=>{t.to_selection_invert()}},{icon:a.default.createElement(Re.default,null),disabled:!y,text:"Unselect",on_click:()=>{t.to_selection_none()}},{icon:a.default.createElement(ot.default,null),disabled:!y,text:"Copy",on_click:()=>{t.copy_selection()}},{icon:a.default.createElement(nt.default,null),disabled:!y,text:"Cut",on_click:()=>{t.cut_selection()}},{icon:a.default.createElement(at.default,null),disabled:!y,text:"Erase",on_click:()=>{t.erase_selection()}},{icon:a.default.createElement(Ee.default,null),disabled:!y,text:"Colorize dynamical",on_click:()=>{t.to_selection_changes(d,!1)}},{icon:a.default.createElement(Me.default,null),disabled:!y,text:"Get average color",on_click:()=>{this._get_average_color_of_selection()}},{icon:a.default.createElement(Me.default,null),disabled:!y,text:"Luminance +10",on_click:()=>{t._selection_pxl_adjust_sat_lum(0,10)}},{icon:a.default.createElement(Me.default,null),disabled:!y,text:"Luminance -10",on_click:()=>{t._selection_pxl_adjust_sat_lum(0,-10)}},{icon:a.default.createElement(Me.default,null),disabled:!y,text:"Saturation +10",on_click:()=>{t._selection_pxl_adjust_sat_lum(10,0)}},{icon:a.default.createElement(Me.default,null),disabled:!y,text:"Saturation -10",on_click:()=>{t._selection_pxl_adjust_sat_lum(-10,0)}}]}];case"effects":return[{icon:a.default.createElement(h.default,null),text:"Effects",label:"primary",local_i:0,tools:[{icon:a.default.createElement(kt.default,null),text:"Smooth",sub:"Run smooth effect once",on_click:()=>{t.smooth_adjust(1),this._handle_action_close()}},{icon:a.default.createElement(bt.default,null),text:"To auto contrast",sub:"Effect strength have an impact",on_click:()=>{t.auto_adjust_contrast(p),this._handle_action_close()}},{icon:a.default.createElement(bt.default,null),text:"To auto saturation",sub:"Effect strength have an impact",on_click:()=>{t.auto_adjust_saturation(p),this._handle_action_close()}},{icon:a.default.createElement(Et.default,null),text:"To vignette",sub:"Current color and effect strength have an impact",on_click:()=>{t.to_vignette(d,p),this._handle_action_close()}},{icon:a.default.createElement(Tt.default,null),text:"Less colors by strength",sub:"Effect strength have an impact",on_click:()=>{t.to_less_color(p/5),this._handle_action_close()}},{icon:a.default.createElement(Tt.default,null),text:"Less colors by small steps",sub:"Remove colors slowly",on_click:()=>{this._less_colors_stepped(),this._handle_action_close()}},{icon:a.default.createElement(Lt.default,null),text:"Less colors auto",sub:"Apply to current layer",on_click:()=>{t.to_less_color("auto"),this._handle_action_close()}},{icon:a.default.createElement(yt.default,null),text:"To dutone",sub:"Current color and effect strength have an impact",on_click:()=>{t.to_dutone(p,u,d),this._handle_action_close()}},{icon:a.default.createElement(mt.default,null),text:"To colorized",sub:"Current color and effect strength have an impact",on_click:()=>{this._colorize(),this._handle_action_close()}},{icon:a.default.createElement(ft.default,null),text:"To alpha",sub:"Current color and effect strength have an impact",on_click:()=>{t.to_alpha(d,p),this._handle_action_close()}},{icon:a.default.createElement(Nt.default,null),text:"Mirror vertical",sub:"Apply to current layer",on_click:()=>{t.to_mirror(!1),this._handle_action_close()}},{icon:a.default.createElement(Pt.default,null),text:"Mirror horizontal",sub:"Apply to current layer",on_click:()=>{t.to_mirror(!0),this._handle_action_close()}},{icon:a.default.createElement(Rt.default,null),text:"Rotate 90°",sub:"Apply to all layers",on_click:()=>{t.to_rotation(!0),this._handle_action_close()}},{icon:a.default.createElement(Ot.default,null),text:"Rotate - 90°",sub:"Apply to all layers",on_click:()=>{t.to_rotation(!1),this._handle_action_close()}}]}];case"filters":const{height:e,width:k}=r.get(m[0])||{};return[{icon:a.default.createElement(g.default,null),progression:z,text:"Filters",style:{position:"relative"},label:"primary",local_i:0,sub:"The strength selected matters meanwhile preview are only shown at 100% intensity. To cancel any operation, use 'undo'.",tools:m.map(((t,o)=>{const n=r.get(t)||{};return{style:{position:"relative",width:"100%",height:"100%"},icon:a.default.createElement("canvas",{className:"pixelated",ref:e=>{this._set_canvas_ref(e,n,!0)},width:k||1,height:e||1,style:{zIndex:"-1",aspectRatio:x,boxSizing:"border-box",height:"100%",minWidth:"100%",width:128,boxShadow:"0px 1px 2px #3729c1a8",border:"4px solid #020529",borderRadius:2,contain:"paint style size"},key:"name-"+t+"-ratio-"+x+"-over-"+(n.width||0)+"x"+(n.height||0)}),text:t,text_style:{flex:"1 1",bottom:16,left:8,width:"100%",right:24,color:"white",padding:8,borderBottomLeftRadius:"4px",borderBottomRightRadius:"4px",textAlign:"initial",zIndex:1,wordBreak:"break-word",position:"absolute",margin:"-16px -12px -12px -8px",boxSizing:"border-box"},on_click:()=>{this._to_filter(t),this._handle_action_close()}}}))}]}},this.canvas_set_size=()=>{this.st4te.canvas._new_blank(this.st4te.slider_value_width,this.st4te.slider_value_height)},this.get_after_action_panel=e=>{const{classes:t,slider_value_width:o,slider_value_height:r}=this.st4te;if("image"===this.get_action_panel_names()[e])return a.default.createElement("div",{key:"image-image-create",className:`swipetoolbox_i_${e}_3`},a.default.createElement(l.ListSubheader,{className:t.listSubHeader,onClick:()=>{this._scroll_to_id(`swipetoolbox_i_${e}_3`)}},a.default.createElement("span",{className:"list-sub-header-main-text"},a.default.createElement("span",null,a.default.createElement(T.default,null)),a.default.createElement("span",null,"Create new")),this._get_list_sub_header_content_scarlett("create","This is where you can create a new transparent canvas of any size you want. This is how it's done, have fun!")),a.default.createElement("div",{style:{padding:"32px 24px",position:"relative",overflow:"hidden",boxSizing:"border-box",width:"100%"}},a.default.createElement(l.Typography,{id:"width-slider",gutterBottom:!0},"Width"),a.default.createElement(l.Slider,{defaultValue:parseInt(o),step:1,valueLabelDisplay:"auto",min:0,max:512,key:"slider-width",onChangeCommitted:this._set_width_from_slider,"aria-labelledby":"width-slider"}),a.default.createElement(l.Typography,{id:"height-slider",gutterBottom:!0},"Height"),a.default.createElement(l.Slider,{defaultValue:parseInt(r),step:1,valueLabelDisplay:"auto",min:0,max:512,key:"slider-height",onChangeCommitted:this._set_height_from_slider,"aria-labelledby":"height-slider"}),a.default.createElement(l.Typography,{id:"confirm-slider",gutterBottom:!0},"Confirm"),a.default.createElement(l.Button,{fullWidth:!0,onClick:()=>{this.canvas_set_size()}},"Create my new canvas")))},this._rgba_from_hex=e=>{const{get_rgba_from_hex:t}=this.st4te.canvas;return t?t(e):[0,0,0,0]},this._download_png=e=>{this.props.on_download_image&&this.props.on_download_image(e)},this._toggle_compressed=()=>{this.setSt4te({_compressed:!this.st4te._compressed},(()=>{this.update_cache_view(null,!0)}))},this._toggle_upscale=()=>{this.setSt4te({_upscale:!this.st4te._upscale},(()=>{this.update_cache_view(null,!0)}))},this._toggle_vectorized=()=>{this.setSt4te({_vectorized:!this.st4te._vectorized},(()=>{this.update_cache_view(null,!0)}))},this._toggle_crt=()=>{this.setSt4te({_crt:!this.st4te._crt},(()=>{this.update_cache_view(null,!0)}))},this._toggle_photo=()=>{this.setSt4te({_photo:!this.st4te._photo},(()=>{this.update_cache_view(null,!0)}))},this._download_svg=(e="xbrz",t=!1,o=!1,r=!1,n=!1)=>{this.props.on_download_svg&&this.props.on_download_svg(e,t,o,r,n)},this._less_colors_stepped=(e=1)=>{const{_less_colors_stepped:t}=this.st4te.canvas;t(e)},this._colorize=()=>{const{current_color:e,slider_value:t}=this.st4te,{to_color:o}=this.st4te.canvas,[r,n,i,a]=qt.new_hex(e).hsla;o(r,t,0===n?null:n,0===i?null:i)},this._import_image_from_libary=()=>{this.props.on_import_image_library&&this.props.on_import_image_library()},this._upload_image=e=>{this.props.on_upload_image&&this.props.on_upload_image(e)},this._upload_image_from_library=()=>{this.props.on_upload_image_library&&this.props.on_upload_image_library()},this._handle_current_color_change=e=>{this.props.on_current_color_change&&this.props.on_current_color_change(e),this.setSt4te({current_color:e},(()=>{this.update_cache_view(null,!0)}))},this._handle_view_name_change=(e,t=null)=>{this.props.on_view_name_change&&this.props.on_view_name_change(e,t)},this._handle_color_menu_open=e=>{this.setSt4te({_anchor_el:e.currentTarget},(()=>{this.update_cache_view(null,!0)}))},this._handle_color_menu_close=()=>{this.setSt4te({_anchor_el:null},(()=>{this.update_cache_view(null,!0)}))},this._set_saturation_from_slider=(e,t)=>{this.setSt4te({_saturation:t},(()=>{this.update_cache_view("palette",!0)}))},this._set_luminosity_from_slider=(e,t)=>{this.setSt4te({_luminosity:t},(()=>{this.update_cache_view("palette",!0)}))},this._set_opacity_from_slider=(e,t)=>{this.setSt4te({_opacity:t},(()=>{this.update_cache_view("palette",!0)}))},this._set_tool=e=>{this.props.set_tool&&this.props.set_tool(e)},this._set_select_mode=e=>{this.props.set_select_mode&&this.props.set_select_mode(e)},this._set_pencil_mirror_mode=e=>{this.props.set_pencil_mirror_mode&&this.props.set_pencil_mirror_mode(e)},this._switch_with_second_color=()=>{this.props.switch_with_second_color&&this.props.switch_with_second_color()},this._show_hide_canvas_content=()=>{this.props.show_hide_canvas_content&&this.props.show_hide_canvas_content()},this._show_hide_background_image=()=>{this.props.show_hide_background_image&&this.props.show_hide_background_image()},this._show_hide_transparent_image=()=>{this.props.show_hide_transparent_image&&this.props.show_hide_transparent_image()},this._set_width_from_slider=(e,t)=>{this.props.set_width_from_slider&&this.props.set_width_from_slider(e,t)},this._set_height_from_slider=(e,t)=>{this.props.set_height_from_slider&&this.props.set_height_from_slider(e,t)},this._set_import_size=(e,t)=>{this.props.set_import_size&&this.props.set_import_size(e,t)},this._set_import_colorize=e=>{this.props.set_import_colorize&&this.props.set_import_colorize(e)},this._get_average_color_of_selection=()=>{const{get_average_color_of_selection:e}=this.st4te.canvas,t=e();this._handle_current_color_change(t)},this._change_active_layer=e=>{const{layer_index:t,_layer_opened:o}=this.st4te,{change_active_layer:r}=this.st4te.canvas;t!==e?(o&&this.setSt4te({_layer_opened:!1},(()=>{this.update_cache_view(null,!0)})),r(e)):this.setSt4te({_layer_opened:!o},(()=>{this.update_cache_view(null,!0)}))},this._handle_action_close=()=>{this.props.onActionClose&&this.props.onActionClose()},this.update_cache_view=(e,t)=>{const{classes:o,canvas:r,view_name_index:n,too_much_colors_no_vector:i,filters_preview_progression:s}=this.st4te,c=(this.st4te._list_sub_header_opened,this.get_action_panel_names()),d=Math.round(7*parseFloat(s/7)),u=e?c.indexOf(e):n;e=c[u],this._cache[e]=a.default.createElement(l.List,{key:"list-filled-"+e,style:{willChange:0===parseInt(d)||"filters"!==e?"inherit":"contents",contentVisibility:"auto",minHeight:"100%",contain:"style layout paint",overflow:"visible",paddingTop:0}},this.get_before_action_panel(u),this.get_action_panel(u).map((t=>a.default.createElement("div",{key:e+"-"+t.label+"-"+t.text.toLowerCase()+"-wrapper",className:`swipetoolbox_i_${u}_${t.local_i}`},a.default.createElement(l.ListSubheader,{className:this._get_list_sub_header_classname(t.name),onClick:()=>{this._scroll_to_id(`swipetoolbox_i_${u}_${t.local_i}`)}},a.default.createElement("span",{className:"list-sub-header-main-text"},a.default.createElement("span",null,t.icon),a.default.createElement("span",null,t.text)),t.tutorial&&this._get_list_sub_header_content_scarlett(t.name,t.tutorial),!!t.progression&&a.default.createElement(l.LinearProgress,{color:"primary",variant:"determinate",role:"progressbar","aria-valuenow":t.progression,"aria-valuemin":"0","aria-valuemax":"100","aria-label":"main-progressbar-"+t.text,className:o.linearProgress,value:parseInt(t.progression)%100})),t.description?a.default.createElement("p",{className:o.info,style:{margin:"24px 32px"}},t.description):null,"filters"!==e&&"vector"!==t.label||!i?"filters"===e?a.default.createElement("blockquote",{className:o.info},"DID YOU KNOW? Just double-tap/right-click around the drawing area to open a context menu with shortcuts including some to adjust saturation and contrast like a professional..."):null:a.default.createElement(l.ListItem,{classes:{root:o.relevantTextBlue},button:"filters"!==e,onClick:()=>{r.to_less_color("auto")}},a.default.createElement(l.ListItemIcon,null,a.default.createElement(Lt.default,{className:o.listItemIcon})),a.default.createElement(l.ListItemText,{primary:"Auto reduce color palette",secondary:"May you need less color in your palette?"})),!("filters"!==e)&&a.default.createElement(l.ListItem,{button:!0,onClick:this.compute_filters_preview},a.default.createElement(l.ListItemIcon,null,a.default.createElement(pt.default,{className:o.listItemIcon})),a.default.createElement(l.ListItemText,{primary:"Refresh filter previews"})),a.default.createElement("div",{className:e+" "+o.listItems,key:e+"-"+t.label+"-"+t.text.toLowerCase()+"-inner",style:Object.assign({flexWrap:"wrap",alignContent:"stretch",flexDirection:"row",justifyContent:"flex-start"},t.text.toLowerCase().includes("filter")?{padding:"0px !important",margin:"8px !important"}:{})},t.tools.map(((r,n)=>r.for?a.default.createElement("div",{key:e+"-"+t.label+r.text.toLowerCase().replaceAll(" ","-")},a.default.createElement("input",{accept:"image/jpg, image/jpeg, image/png, image/svg, image/webp, image/gif",style:{display:"none"},id:r.for,type:"file",onChange:r.on_click}),a.default.createElement(l.ListItem,{className:r.class?r.class:null,component:"label",key:n+(r.disabled?"-0":"-1"),htmlFor:r.for,button:!0,disabled:r.disabled},a.default.createElement(l.ListItemIcon,{className:o.listItemIcon,style:r.style||{}},r.icon),a.default.createElement(l.ListItemText,{className:o.ListItemText,primary:r.text,secondary:r.sub}))):a.default.createElement(l.ListItem,{className:r.class?r.class:null,key:e+"-"+t.label+(r.text||"").toLowerCase().replaceAll(" ","-"),button:!0,disabled:r.disabled||!1,onClick:r.on_click},a.default.createElement(l.ListItemIcon,{className:o.listItemIcon,style:r.style||{}},r.icon),a.default.createElement(l.ListItemText,{className:o.ListItemText,style:r.text_style||{},primary:r.text,secondary:r.sub})))))))),this.get_after_action_panel(u)),t&&this.forceUpdate()}},t.default=(0,l.withStyles)((e=>({"@global":{"@keyframes wiggle":{"0%, 7%":{transform:"scale(1.00)"},"15%":{transform:"scale(1.08)"},"20%":{transform:"scale(1.04)"},"25%":{transform:"scale(1.00)"},"30%":{transform:"scale(0.96)"},"40%, 100%":{transform:"scale(1)"}},"@keyframes shift":{"0%, 7%":{transform:"translateX(0%)"},"15%":{transform:"translateX(-25%)"},"20%":{transform:"translateX(-10%)"},"25%":{transform:"translateX(0%)"},"30%":{transform:"translateX(10%)"},"40%, 100%":{transform:"translateX(0%)"}}},listSubHeaderDescription:{lineHeight:"1em",textTransform:"initial",fontWeight:"initial",color:"#170f70",marginTop:0,textAlign:"justify",marginRight:150,minHeight:126,marginLeft:48},rippleGreen:{"& > *":{color:"#00FF16CB"}},advertising:{contain:"layout paint style",maxWidth:"calc(100% - 64px)",cursor:"pointer",borderRadius:8,border:"2px solid #00FF16",margin:"32px 32px 64px 32px",padding:"24px 12px",boxSizing:"border-box",backgroundColor:"#e7f5e5",boxShadow:"0px 0px 12px #008f09",transformOrigin:"center",filter:"sepia(1) hue-rotate(192deg) saturate(1.314) opacity(0.666)",transition:"filter cubic-bezier(0.4, 0, 0.2, 1) 225ms","& > img":{userSelect:"none",pointerEvents:"none",maxWidth:"100%",transform:"scale(1)",transition:"transform cubic-bezier(0.4, 0, 0.2, 1) 150ms"},"&:hover > img":{transform:"scale(1.05)",transition:"transform cubic-bezier(0.4, 0, 0.2, 1) 225ms"},"&:hover, &:active":{filter:"sepia(0) hue-rotate(0deg) saturate(1) opacity(1)"}},listSubHeaderToggle:{position:"absolute",right:0,top:0,margin:0,"& .MuiSvgIcon-root":{color:"#b3aee8"}},listSubHeaderCollapse:{marginTop:"0px"},listSubHeaderVideo:{contain:"layout paint size style",contentVisibility:"auto",position:"absolute",right:0,bottom:0,margin:0,padding:0,height:164,width:150},listSubHeaderVideoOverlay:{position:"absolute",top:0,right:0,height:20,width:40,backgroundColor:"#ededff"},listSubHeaderVideoFade:{position:"absolute",top:0,right:0,height:150,width:150,background:"linear-gradient(to top, #ededfff1 2.5%,  #ededffbf 5%, #ededff78 15%, transparent 30%)"},listSubHeader:{borderRadius:"none !important","&:hover":{backgroundColor:"#d4d4ff",color:"#050c4c",transition:"all cubic-bezier(0.4, 0, 0.2, 1) 350ms",boxShadow:"0px 3px 6px #3729c14d","& .list-sub-header-main-text svg":{animation:"$shift linear 675ms both"}},display:"inline-table",cursor:"pointer",transition:"all cubic-bezier(0.4, 0, 0.2, 1) 275ms",boxShadow:"0px 2px 5px #050c4c4d",width:"100%",alignSelf:"flex-start",color:"#3729c1",backgroundColor:"#ededff",fontWeight:"bold",textTransform:"capitalize","& span svg":{verticalAlign:"middle",color:"#050c4c",marginRight:e.spacing(1)}},listSubHeaderOpen:{borderRadius:"none !important","&:hover":{backgroundColor:"#ededff",color:"#3729c1",transition:"all cubic-bezier(0.4, 0, 0.2, 1) 350ms",boxShadow:"0px 3px 6px #3729c14d","& .list-sub-header-main-text svg":{animation:"$shift linear 675ms both"}},display:"inline-table",cursor:"pointer",transition:"all cubic-bezier(0.4, 0, 0.2, 1) 275ms",boxShadow:"0px 2px 5px #050c4c4d",width:"100%",alignSelf:"flex-start",color:"#3729c1",backgroundColor:"#ededff",fontWeight:"bold",textTransform:"capitalize","& span svg":{verticalAlign:"middle",color:"#050c4c",marginRight:e.spacing(1)}},info:{backgroundColor:"#f2f2ff",color:"#5c5fd1",padding:"16px",margin:0,borderRadius:"4px"},relevantTextBlue:{color:"#3729c1ff"},listItemIcon:{color:e.palette.secondary.dark},listItemIconBlue:{"& svg":{color:e.palette.secondary.light}},listItemIconBlueBold:{"& svg":{color:e.palette.secondary.dark,width:"1.314em",height:"1.314em"}},styledBadgeConnected:{"& .MuiBadge-badge":{transform:"scale(1.618) translate(50% -50%) !important",marginRight:-12,backgroundColor:"#050c4c",color:"#fafafa",boxShadow:"0 0 0 2px #fafafa","&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid #050c4c",content:'""'}},"@global":{"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}},menu:{"& .MuiPaper-root":{overflow:"inherit",contain:"layout size style"},"& .MuiList-padding":{padding:0}},layerThumbnail:{width:"128px !important",height:"auto",borderRadius:2,marginRight:e.spacing(2)},layerSelected:{borderRight:"4px solid "+e.palette.primary.action,paddingRight:12},listOfTools:{paddingTop:0},materialPicker:{fontFamily:"Open Sans !important"},flipExpandMoreIcon:{transform:"rotate(180deg)",transition:"transform 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},expandMoreIcon:{transform:"rotate(0deg)",transition:"transform 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},ListItemText:{"& .MuiTypography-colorTextSecondary":{color:"rgb(25 25 51 / 54%)"}},ListItemTextBold:{"& span.MuiListItemText-primary":{fontWeight:"bold",fontSize:"15px !important",color:e.palette.primary.dark},"& p.MuiListItemText-secondary":{fontSize:"11px !important",fontWeight:"bold",color:e.palette.secondary.contrast}},animatedDownload:{},listItems:{textAlignLast:"center",display:"inline-flex",flexWrap:"wrap",alignContent:"stretch",flexDirection:"row",justifyContent:"flex-start",marginBottom:"-20px",width:"100%",maxWidth:"100%",overflowX:"scroll",contentVisibility:"auto",padding:"16px 16px",contain:"paint style layout","&.filters":{"& .MuiListItem-root":{width:128,display:"inline-flex",height:"100%",contain:"paint style layout",margin:"8px !important",padding:"0px !important"},padding:"0px 8px",textAlignLast:"left"},"&.filters > .MuiListItem-root:hover > .MuiListItemText-root":{color:"#fff !important",background:"linear-gradient(to top, #020519 10%, #02052990 35%, #02052960 65%, #02052900 95%)",transition:"all cubic-bezier(0.4, 0, 0.2, 1) 700ms",fontWeight:"bold"},"&.filters > .MuiListItem-root > .MuiListItemText-root":{color:"#ffffffe0 !important",background:"linear-gradient(to top, #020529 5%, #020529a0 25%, #02052980 50%, #02052900 75%)",transition:"all cubic-bezier(0.4, 0, 0.2, 1) 350ms",fontWeight:"bold"},"& .MuiFormGroup-root":{flexWrap:"nowrap",padding:"16px 0px !important",contain:"layout paint style",display:"inline-flex"},"& .MuiListItem-root":{display:"table",flexGrow:1,flexBasis:"auto",width:"96px",padding:"8px !important",textAlign:"center",boxSizing:"content-box",contain:"paint style layout",transition:"all cubic-bezier(0.4, 0, 0.2, 1) 125ms","&:hover":{transition:"all cubic-bezier(0.4, 0, 0.2, 1) 325ms",color:"#050c4c",background:"#D7D7FD7D"},"& div svg.MuiSvgIcon-root":{transition:"all cubic-bezier(0.4, 0, 0.2, 1) 125ms"},"&:hover div svg.MuiSvgIcon-root":{transition:"all cubic-bezier(0.4, 0, 0.2, 1) 325ms",color:"#050c4c !important"},"& .MuiListItemIcon-root":{minWidth:0,contain:"style layout"},"& .MuiListItemText-root":{"& .MuiListItemText-primary":{fontSize:"14px"},"& .MuiListItemText-secondary":{fontSize:"10px"}}},[e.breakpoints.down("md")]:{marginBottom:"-4px",display:"inline-flex",justifyContent:"flex-start",flexDirection:"row",flexWrap:"wrap",overflowX:"overlay",width:"100%",maxWidth:"100%",flexFlow:"row","& .MuiListItem-root":{display:"block",flexGrow:1,flexBasis:"auto",width:"96px",textAlign:"center","& .MuiListItemIcon-root":{minWidth:0,contain:"paint style layout"},"& .MuiListItemText-root":{"& .MuiListItemText-primary":{fontSize:"14px"},"& .MuiListItemText-secondary":{display:"none"}}},"&.filters":{"& .MuiListItem-root":{display:"inline-flex"}}}},sliderContainer:{display:"flex",overflow:"visible"},sliderLabel:{marginRight:e.spacing(2)},linearProgress:{"& .MuiLinearProgress-barColorPrimary":{background:"linear-gradient(90deg, #0056ce 0%, #0056ce 100%)",zIndex:-1},zIndex:1,marginBottom:-2,height:2,backgroundColor:"transparent",width:"100%",display:"flex",left:0,bottom:0,position:"absolute"}})))(Vt)},775:function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n,i,a,l,s,c,d;Object.defineProperty(t,"__esModule",{value:!0}),n=o(0),i=r(n),a=o(26),l=o(776),s=r(l),c=o(632),d=r(c);class u extends i.default.PureComponent{constructor(e){super(e),this._handle_color_item_click=(e,t)=>{"function"==typeof this.props.onColorClick&&this.props.onColorClick(e,t)},this.st4te={classes:e.classes,colors:e.colors||[],selected_colors:e.selected_colors||["#"],padding:e.padding||24,gap:e.gap||0,size:e.size||32,transparent:e.transparent||!1,align:e.align||"center"}}setSt4te(e,t){let o=Object.keys(e),r=0|o.length,n="";for(let i=0;(0|i)<(0|r);i=(i+1|0)>>>0)n=o[i].toString(),this.st4te[n]=e[n];"function"==typeof t&&t()}componentDidMount(){this.forceUpdate()}componentWillReceiveProps(e){const{colors:t,selected_colors:o}=this.st4te;(e.colors[0]!==t[0].length||e.colors.length!==t.length||e.selected_colors.length!==o.length||(e.selected_colors||["#"])[0]!==(o||["#"])[0])&&this.setSt4te(e,(()=>{this.forceUpdate()}))}render(){let{classes:e,colors:t,padding:o,gap:r,size:n,transparent:a,align:l,selected_colors:c}=this.st4te;return i.default.createElement("div",{className:e.colorPalette,style:"center"===l?{padding:o,gap:r}:{justifyContent:"start",padding:o,gap:r}},i.default.createElement(s.default,{style:a?{}:{display:"none"},size:40,className:e.eraseButton,icon:i.default.createElement(d.default,null),full_width:!0,color:"#00000000",selected:!!((0|c.indexOf("#00000000"))>=0),onClick:e=>{this._handle_color_item_click(e,"#00000000")}}),t.map(((e,t)=>{var o=!!((0|c.indexOf(e))>=0);return i.default.createElement(s.default,{key:"c-"+e+"-i-"+t+"-s-"+(o?"1":"0"),color:e,size:n,selected:o,onClick:this._handle_color_item_click})})))}}t.default=(0,a.withStyles)((e=>({colorPalette:{contain:"contents",padding:24,display:"flex",flexDirection:"row",justifyContent:"left",alignContent:"stretch","& > *:not(:last-child)":{marginRight:8,marginBottom:8},flexWrap:"wrap"},eraseButton:{marginBottom:8}})))(u)},776:function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n,i,a,l,s,c,d;Object.defineProperty(t,"__esModule",{value:!0}),n=Object.assign||function(e){var t,o,r;for(t=1;t<arguments.length;t++)for(r in o=arguments[t])Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);return e},i=o(0),a=r(i),l=o(26),s=o(777),c=r(s),d=o(591);class u extends a.default.PureComponent{constructor(e){super(e),this.st4te={classes:e.classes,selected:e.selected||!1,color:e.color||"#00000000",size:e.size||"inherit",full_width:e.full_width||!1,icon:e.icon||null,key:e.key||Math.round(1e4*Math.random()).toString(16),style:e.style||{},_is_dark:!1}}setSt4te(e,t){let o=Object.keys(e),r=0|o.length,n="";for(let i=0;(0|i)<(0|r);i=(i+1|0)>>>0)n=o[i].toString(),this.st4te[n]=e[n];"function"==typeof t&&t()}componentDidMount(){this.forceUpdate()}componentWillReceiveProps(e){const{selected:t,color:o,size:r,icon:n,key:i}=this.st4te,a=!(o===e.color);(i!==e.key||t!==e.selected||a||r!==e.size||n!==e.icon)&&this.setSt4te(e,(()=>{this.forceUpdate()}))}render(){const{classes:e,full_width:t,selected:o,size:r,color:i,style:s,key:u}=this.st4te;let p=d.Color.new_hex(i).is_dark()?"#fff":"#000";return a.default.createElement(l.Tooltip,{title:i,key:u},a.default.createElement(l.IconButton,{disableRipple:!0,onClick:e=>{this.props.onClick(e,i)},style:n({background:i,width:t?"100%":r,height:r,borderRadius:"2px"},s),className:t?null:e.colorPaletteItem},o&&a.default.createElement(c.default,{style:{color:p}})))}}t.default=(0,l.withStyles)((e=>({colorPaletteItem:{padding:0,borderRadius:0,height:40,width:40}})))(u)},822:function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n,i,a,l,s,c,d,u,p,_,f;Object.defineProperty(t,"__esModule",{value:!0}),n=o(0),i=r(n),a=o(72),l=o(216),s=r(l),c=o(26),d=o(823),u=r(d),p=o(126),_=o(66),f=r(_);class h extends i.default.PureComponent{constructor(e){super(e),this._go_to_editor=(e="",t=!1)=>{e.startsWith("data:image/png;base64,")?f.default.load_with(e,t):e.length>0?fetch(e).then((e=>{e.blob().then((e=>{new Promise((function(t,o){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=function(){var o=URL.createObjectURL(e);t(o)},r.readAsDataURL(e)})).then((e=>{f.default.load_with(e,t)}))}))})):f.default.load_with(e,t)},this._notify_size_from_slider=(e,t)=>{this.props.on_import_size_change&&this.props.on_import_size_change(e,t)},this._handle_pixel_art_delete=e=>{this.props.on_pixel_art_delete&&this.props.on_pixel_art_delete(e)},this._set_horizontal_projects_list_el_ref=e=>null==e?null:void this.setSt4te({_horizontal_projects_list_el:e},(()=>{try{this.st4te._horizontal_projects_list_el.addEventListener("wheel",this._horizontal_projects_list_el_wheel,{passive:!1})}catch(e){}})),this._horizontal_projects_list_el_wheel=e=>{e.deltaY>0?(this.st4te._horizontal_projects_list_el.scrollLeft+=100,e.preventDefault()):(this.st4te._horizontal_projects_list_el.scrollLeft-=100,e.preventDefault())},this.st4te={classes:e.classes,open:e.open,size:e.size,pixel_arts:e.pixel_arts,theme_day:e.theme_day,_paperplane:null,_horizontal_projects_list_el:{}}}setSt4te(e,t){let o=Object.keys(e),r=0|o.length,n="";for(let i=0;(0|i)<(0|r);i=(i+1|0)>>>0)n=o[i]+"",this.st4te[n]=e[n];"function"==typeof t&&t()}componentDidMount(){f.default.trigger_loading_update(100),this.setSt4te({_paperplane:i.default.createElement(s.default,{id:"paperplane",loop:!0,autoplay:!0,src:"/src/js/lottie/paperplane.json",style:{transform:"translateZ(10px)",height:"75%",width:"100%",position:"absolute",top:0,left:0,zIndex:0}}),_ufo:i.default.createElement(s.default,{id:"ufo",loop:!0,autoplay:!0,src:"/src/js/lottie/ufo.json",style:{transform:"translateZ(10px)",height:"100%",width:"100%",position:"absolute",top:0,left:0,zIndex:0}})},(()=>{this.forceUpdate()}))}componentWillUnmount(){try{this.st4te._horizontal_projects_list_el.removeEventListener("wheel",this._horizontal_projects_list_el_wheel)}catch(e){}}componentWillReceiveProps(e){const t=this.st4te.open!==e.open;(t||this.st4te.size!==e.size||Object.keys(this.st4te.pixel_arts).join("-")!==Object.keys(e.pixel_arts).join("-"))&&this.setSt4te(e,(()=>{if(this.forceUpdate(),t)if(this.st4te.open)try{document.getElementById("presentation-video").pause()}catch(e){}else try{document.getElementById("presentation-video").play()}catch(e){}}))}render(){const{classes:e,size:t,open:o,pixel_arts:r,theme_day:n,_paperplane:a,_ufo:l}=this.st4te,s=!n;return i.default.createElement(c.Dialog,{open:o,className:e.dialogMobileFullscreen,maxWidth:"xl",onClose:this.props.onClose,disablePortal:!1,keepMounted:!1},i.default.createElement(c.DialogContent,null,i.default.createElement(c.Typography,{component:"h2",variant:"h6"},"Latest artworks"),i.default.createElement("div",{className:e.dialogContentContainer},i.default.createElement("div",{className:e.leftImage},i.default.createElement("input",{onChange:this.props.on_upload,accept:"image/jpg, image/svg, image/jpeg, image/png, image/webp, image/gif",style:{display:"none"},id:"button-file-dialog-primary",type:"file"}),i.default.createElement(c.Button,{component:"label",htmlFor:"button-file-dialog-primary",fullWidth:!0,variant:"contained",color:"secondary",className:s?e.uploadButtonDesktopUfo:e.uploadButtonDesktopPaperplane,autoFocus:!0,onClick:this.props.on_upload},s?l:a," ",i.default.createElement("span",{style:{zIndex:1,pointerEvents:"none",transform:"translateY(200%)"}},"Let's upload!"))),i.default.createElement("div",{className:e.rightImagesContainer},i.default.createElement("div",{className:e.rightImagesContainer,style:{padding:"8px 24px",position:"relative",overflow:"hidden",boxSizing:"border-box",width:"100%"}},i.default.createElement(c.Typography,{id:"size-slider",gutterBottom:!0},"Reduce size of the image down to :"),i.default.createElement(c.Slider,{key:t,defaultValue:parseInt(t),step:8,valueLabelDisplay:"auto",min:16,max:t>512?t:512,onChangeCommitted:this._notify_size_from_slider,"aria-labelledby":"size-slider"})),i.default.createElement("input",{onChange:this.props.on_upload,accept:"image/jpg, image/svg, image/jpeg, image/png, image/webp, image/gif",style:{display:"none"},id:"button-file-dialog-secondary",type:"file"}),i.default.createElement(c.Button,{component:"label",htmlFor:"button-file-dialog-secondary",className:e.mainUploadButton,fullWidth:!0,variant:"contained",color:"primary",autoFocus:!0},"UPLOAD"),i.default.createElement(c.Typography,{component:"h2",variant:"h6",style:{marginTop:16,marginLeft:24}},0===Object.keys(r).length?i.default.createElement("span",null,"Demo projects"):i.default.createElement("span",null,"Unsaved projects")),i.default.createElement("div",{style:{padding:"8px 24px",position:"relative",display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",boxSizing:"border-box",width:"100%"}},i.default.createElement(c.ImageList,{rowHeight:288,cols:2,ref:this._set_horizontal_projects_list_el_ref,style:{flexWrap:"nowrap",contain:"paint style layout",contains:"strict",maxWidth:"min(576px, calc(100vw - 96px))"}},0===Object.keys(r).length?["/src/images/demo/Redstar.jpg","/src/images/demo/Beast.jpg","/src/images/demo/Disney.jpg","/src/images/demo/Masterc.jpg","/src/images/demo/Man.jpg","/src/images/demo/Tower.jpg"].map(((e,t)=>i.default.createElement(c.ImageListItem,{style:{display:"inline-block",width:"auto",userSelect:"none"},key:t},i.default.createElement("img",{onClick:()=>{this._go_to_editor(e)},src:e,alt:"demo #"+t,style:{zIndex:0,width:"auto",height:"100%",cursor:"pointer"}}),i.default.createElement(c.ImageListItemBar,{title:"Try with this image",subtitle:"This is a demo"})))):Object.values(r).sort(((e,t)=>t.timestamp-e.timestamp)).map(((e,t)=>{const{id:o,kb:r,preview:n,timestamp:a}=e;return i.default.createElement(c.ImageListItem,{style:{display:"inline-block",width:"auto",userSelect:"none"},className:"pixelated",key:o},i.default.createElement("img",{onClick:()=>{this.props.import_JSON_state(o)},src:n,alt:"preview "+t,style:{zIndex:0,width:"auto",height:"100%",cursor:"pointer"}}),i.default.createElement(c.ImageListItemBar,{title:(0,p.t)(a),subtitle:i.default.createElement("span",null,r.toFixed(2)," Kb"),actionIcon:i.default.createElement(c.IconButton,{style:{color:"#fff"},onClick:e=>{this._handle_pixel_art_delete(o)},"aria-label":"Delete"},i.default.createElement(u.default,null))}))}))))))),i.default.createElement(c.DialogActions,null,i.default.createElement(c.Button,{variant:"text",color:"primary",autoFocus:!0,onClick:this.props.onClose},(0,p.t)("words.close"))))}}t.default=(0,a.withStyles)((e=>({dialogMobileFullscreen:{"& .MuiPaper-root":{maxHeight:"calc(100% - -24px)",contentVisibility:"auto",contain:"paint style layout"},"& .MuiBackdrop-root":{background:"#060e2391"}},dialogContentContainer:{marginTop:16,[e.breakpoints.up("lg")]:{display:"inline-flex"},display:"grid"},leftImage:{display:"none",[e.breakpoints.up("lg")]:{display:"inherit",cursor:"pointer",float:"left",width:"384px",backgroundSize:"100%",backgroundPosition:"center",backgroundRepeat:"no-repeat","& > button":{maxHeight:36,height:36,marginTop:"calc(100% - 18px)"}},"&:hover":{backgroundSize:"100%"}},rightImagesContainer:{float:"right"},uploadButtonDesktopPaperplane:{background:"#060e23","&:hover":{background:"#01030f"},boxShadow:"none",color:"#fff",fontWeight:"bold",mixBlendMode:"hard-light",fontSize:"2.5em","& .MuiSvgIcon-root":{marginRight:"1em"}},uploadButtonDesktopUfo:{background:"#010218","&:hover":{background:"#000000"},boxShadow:"none",color:"#fff",fontWeight:"bold",fontSize:"2.5em","& .MuiSvgIcon-root":{marginRight:"1em"}},mainUploadButton:{display:"flex",[e.breakpoints.up("lg")]:{display:"none"}}})))(h)},828:function(e,t,o){"use strict";var r,n,i,a,l,s;Object.defineProperty(t,"__esModule",{value:!0}),r=o(0),n=(s=r)&&s.__esModule?s:{default:s},i=o(72),a=o(26),l=o(126);class c extends n.default.PureComponent{constructor(e){super(e),this._handle_path_open_index=e=>{const{_path:t}=this.state,o=t.split("/").splice(0,e).join("/");this.setState({_path:o},(()=>{this.forceUpdate()}))},this._handle_path_open_next_object=e=>{const{_path:t}=this.state;let o=t.split("/");o.push(e);const r=o.join("/");this.setState({_path:r},(()=>{this.forceUpdate()}))},this.state={classes:e.classes,keepMounted:e.keepMounted||!1,open:e.open,object:e.object,_path:""}}componentWillReceiveProps(e){this.setState(e,(()=>{this.forceUpdate()}))}render(){const{classes:e,_path:t,object:o,open:r,keepMounted:i}=this.state;let s=t.split("/"),c=o||{};return s.forEach((e=>{if(""!==e)try{c=c[e]}catch(t){}})),n.default.createElement(a.Dialog,{open:r,fullWidth:!0,disablePortal:!1,onClose:this.props.onClose,keepMounted:i},n.default.createElement(a.DialogContent,null,n.default.createElement(a.Breadcrumbs,{style:{paddingBottom:16}},n.default.createElement("a",{variant:"outlined",onClick:()=>{this._handle_path_open_index(0)}},"ROOT"),s.map(((e,t)=>{if(""!==e)return n.default.createElement(a.Link,{key:t,variant:"outlined",onClick:()=>{this._handle_path_open_index(t+1)}},e)}))),n.default.createElement(a.Divider,null),n.default.createElement("div",{style:{paddingBottom:16,paddingTop:16}},Object.entries(c).map(((e,t)=>{const[o,r]=e;return"string"!=typeof r?n.default.createElement(a.Button,{style:{margin:8},key:t,variant:"outlined",onClick:()=>{this._handle_path_open_next_object(o)}},o):n.default.createElement("img",{style:{margin:8},key:t,src:r,onClick:e=>{this.props.onSelectImage(r)}})})))),n.default.createElement(a.DialogActions,null,n.default.createElement(a.Button,{variant:"text",color:"primary",autoFocus:!0,onClick:this.props.onClose},(0,l.t)("words.close"))))}}t.default=(0,i.withStyles)((e=>({})))(c)},841:function(e,t,o){"use strict";var r,n,i,a,l,s;Object.defineProperty(t,"__esModule",{value:!0}),r=o(0),n=(s=r)&&s.__esModule?s:{default:s},i=o(72),a=o(26),l=o(126);class c extends n.default.PureComponent{constructor(e){super(e),this._handle_text_change=e=>{this.setState({_text:e.target.value.toString()},(()=>{this.forceUpdate()}))},this._handle_size_change=e=>{this.setState({_size:parseInt(e.target.value)},(()=>{this.forceUpdate()}))},this.state={classes:e.classes,keepMounted:e.keepMounted||!1,open:e.open,_text:"",_size:12}}componentWillReceiveProps(e){this.setState(e,(()=>{this.forceUpdate()}))}render(){const{classes:e,_text:t,_size:o,open:r,keepMounted:i}=this.state;return n.default.createElement(a.Dialog,{open:r,fullWidth:!0,disablePortal:!1,onClose:this.props.onClose,keepMounted:i},n.default.createElement(a.DialogContent,null,n.default.createElement(a.Typography,{component:"h2",variant:"h6"},"Write text to a new layer"),n.default.createElement(a.Divider,null),n.default.createElement("form",{noValidate:!0,autoComplete:"off"},n.default.createElement(a.TextField,{fullWidth:!0,label:"Text",value:t,placeholder:"Text to draw",onChange:this._handle_text_change}),n.default.createElement(a.TextField,{select:!0,fullWidth:!0,label:"Size",value:o,onChange:this._handle_size_change,helperText:"Please select your currency"},[{value:6,label:"xs"},{value:8,label:"s"},{value:12,label:"m"},{value:16,label:"l"},{value:24,label:"xl"},{value:36,label:"xxl"}].map((e=>n.default.createElement(a.MenuItem,{key:e.value,value:e.value},e.label))))),n.default.createElement(a.Button,{onClick:()=>{this.props.onSuccess(o,t)}},"Draw it")),n.default.createElement(a.DialogActions,null,n.default.createElement(a.Button,{variant:"text",color:"primary",autoFocus:!0,onClick:this.props.onClose},(0,l.t)("words.close"))))}}t.default=(0,i.withStyles)((e=>({})))(c)}}]);