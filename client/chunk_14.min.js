/*! For license information please see chunk_14.min.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1236:function(e,n,t){"use strict";function a(e,n){const t=e.length;return t>=3?n?[...e.slice(0,-3),e[t-3]*e[t-2],e[t-1]]:[...e.slice(0,-3),e[t-3],e[t-2]*e[t-1]]:!n&&1===t&&e[0]>1?[e[0],1]:null}function s({x:e,filter:n,convInfo:t,backend:s,bias:r=null,preluActivationWeights:o=null,leakyreluAlpha:c=0,activation:u=null}){const h=e.shape,f=s.texData.get(e.dataId),m=t.inChannels,k=h[0]*h[1]*h[2],g=t.outChannels,x="channelsLast"===t.dataFormat;let v;const I=[];if(null!=o){const e=a(o.shape,x);null!=e&&(o=Object(b.a)({inputs:{x:o},backend:s,attrs:{shape:e}}),I.push(o))}if(null!=r){const e=a(r.shape,x);null!=e&&(r=Object(b.a)({inputs:{x:r},backend:s,attrs:{shape:e}}),I.push(r))}if((1!==k&&1!==g||!(m>d.a))&&f.isPacked&&x&&null!=f.texture&&h[2]%2!=0&&i.Si.arraysEqual(f.shape.slice(-3),h.slice(-3))){const a=h[0]*h[1]*(h[2]+1),m={dataId:e.dataId,shape:[1,a,t.inChannels],dtype:e.dtype},k=f.shape;f.shape=f.shape.slice(),f.shape[f.shape.length-2]++,i.Si.assert(p.isReshapeFree(f.shape,m.shape),(()=>`packed reshape ${f.shape} to ${m.shape} isn't free`));const g=Object(b.a)({inputs:{x:n},backend:s,attrs:{shape:[1,t.inChannels,t.outChannels]}});I.push(g);const x=Object(d.b)({a:m,b:g,backend:s,transposeA:!1,transposeB:!1,bias:r,activation:u,preluActivationWeights:o,leakyreluAlpha:c}),O=s.texData.get(x.dataId);i.Si.assert(O.isPacked,(()=>"batchMatMul result is expected to be packed")),f.shape=k,O.shape=t.outShape,v=Object(l.a)({inputs:{x},backend:s}),v.shape=t.outShape,I.push(x)}else{const a=t.outHeight*t.outWidth,i=Object(b.a)({inputs:{x:e},backend:s,attrs:{shape:x?[t.batchSize,a,t.inChannels]:[t.batchSize,t.inChannels,a]}}),p=Object(b.a)({inputs:{x:n},backend:s,attrs:{shape:[1,t.inChannels,t.outChannels]}}),l=Object(d.b)({a:x?i:p,b:x?p:i,transposeA:!x,transposeB:!1,backend:s,bias:r,activation:u,preluActivationWeights:o,leakyreluAlpha:c});v=Object(b.a)({inputs:{x:l},backend:s,attrs:{shape:t.outShape}}),I.push(i),I.push(p),I.push(l)}for(const a of I)s.disposeIntermediateTensorInfo(a);return v}function r({x:e,filter:n,convInfo:t,backend:s,bias:r=null,preluActivationWeights:p=null,leakyreluAlpha:d=0,activation:l=null}){const{filterWidth:h,filterHeight:f,inChannels:m,outWidth:k,outHeight:g,dataFormat:x}=t,v="channelsLast"===x,I=h*f*m,O=g*k,S=[t.batchSize,I,O],N=[];if(null!=p){const e=a(p.shape,v);null!=e&&(p=Object(b.a)({inputs:{x:p},backend:s,attrs:{shape:e}}),N.push(p))}if(null!=r){const e=a(r.shape,v);null!=e&&(r=Object(b.a)({inputs:{x:r},backend:s,attrs:{shape:e}}),N.push(r))}const w=Object(b.a)({inputs:{x:n},backend:s,attrs:{shape:[1,I,i.Si.sizeFromShape(n.shape)/I]}});N.push(w);const j=new o.a(S,t),W=[e.shape,[t.padInfo.top,t.padInfo.left],[t.strideHeight,t.strideWidth],[t.dilationHeight,t.dilationWidth],[t.inChannels],[t.filterWidth*t.inChannels],[t.outWidth]],y=s.runWebGLProgram(j,[e],"float32",W),F=Object(b.a)({inputs:{x:y},backend:s,attrs:{shape:S}});N.push(y),N.push(F);const E=null!=r,C=null!=p,T="leakyrelu"===l,L=l?Object(c.c)(l,!0):null,P=new u.a(v?F.shape:w.shape,v?w.shape:F.shape,v?[t.batchSize,O,t.outChannels]:[t.batchSize,t.outChannels,O],!0,!1,E,L,C,T),A=v?[F,w]:[w,F];if(r&&A.push(r),C&&A.push(p),T){const e=s.makeTensorInfo([],"float32",i.Si.createScalarValue(d,"float32"));A.push(e),N.push(e)}const D=s.runWebGLProgram(P,A,"float32"),G=Object(b.a)({inputs:{x:D},backend:s,attrs:{shape:t.outShape}});N.push(D);for(const a of N)s.disposeIntermediateTensorInfo(a);return G}var i,o,c,u,p,d,l,b;t.d(n,"a",(function(){return s})),t.d(n,"b",(function(){return r})),i=t(616),o=t(1983),c=t(626),u=t(1232),p=t(674),d=t(1033),l=t(686),b=t(636)},1238:function(e,n,t){"use strict";function a(e,n,t,a,c,u){const p=n.shape.length,d=s.ie.getAxesPermutation([a],p);let l=n;null!=d&&(l=Object(o.a)({inputs:{x:n},backend:t,attrs:{perm:d}}));const b=s.ie.getInnerMostAxes(1,p)[0];if(b!==p-1)throw Error(`WebGL cumprod shader expects an inner-most axis=${n.shape.length-1} but got axis=`+a);const h=l.shape[b];let f=Object(i.a)({inputs:{x:l},backend:t});for(let s=0;s<=Math.ceil(Math.log2(h))-1;s++){const n=new r.b(e,l.shape,!1,u),a=[[s]],i=f;f=t.runWebGLProgram(n,[f],f.dtype,a),t.disposeIntermediateTensorInfo(i)}if(c){const n=new r.b(e,l.shape,c,u),a=f;f=t.runWebGLProgram(n,[f],f.dtype),t.disposeIntermediateTensorInfo(a)}if(null!=d){const e=s.ie.getUndoAxesPermutation(d),n=Object(o.a)({inputs:{x:f},backend:t,attrs:{perm:e}});return t.disposeIntermediateTensorInfo(f),t.disposeIntermediateTensorInfo(l),n}return f}var s,r,i,o;t.d(n,"a",(function(){return a})),s=t(616),r=t(1036),i=t(686),o=t(684)},1242:function(e,n,t){"use strict";var a,s,r;t.d(n,"a",(function(){return o})),t.d(n,"b",(function(){return c})),a=t(616),s=t(626),r=t(628);const i=s.a+"\n  return exp(x);\n",o=Object(s.d)({opSnippet:i,packedOpSnippet:"\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:r.i,dtype:"float32"}),c={kernelName:a.lb,backendName:"webgl",kernelFunc:o}},1243:function(e,n,t){"use strict";function a(e){const{inputs:n,attrs:t,backend:a}=e,{dim:i}=t,{input:o}=n,c=o.shape.length,u=o.shape.slice();let p=i;return i<0&&(s.Si.assert(-(c+1)<=i,(()=>`Axis must be in the interval [${-(c+1)}, ${c}]`)),p=c+i+1),u.splice(p,0,1),Object(r.a)({inputs:{x:o},backend:a,attrs:{shape:u}})}var s,r;t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return i})),s=t(616),r=t(636);const i={kernelName:s.mb,backendName:"webgl",kernelFunc:a}},1244:function(e,n,t){"use strict";function a(e,n,t){const a=t.texData.get(e.dataId),c=s.Si.sizeFromShape(e.shape),u=e.shape[e.shape.length-1],p=c/u,d=Object(o.a)({inputs:{x:e},backend:t,attrs:{shape:[p,u]}}),l=d.shape,b=new r.a("real",l,n),h=new r.a("imag",l,n),f=[{dataId:a.complexTensorInfos.real.dataId,dtype:a.complexTensorInfos.real.dtype,shape:l},{dataId:a.complexTensorInfos.imag.dataId,dtype:a.complexTensorInfos.imag.dtype,shape:l}],m=t.runWebGLProgram(b,f,"float32"),k=t.runWebGLProgram(h,f,"float32"),g=Object(i.a)({inputs:{real:m,imag:k},backend:t});t.disposeIntermediateTensorInfo(m),t.disposeIntermediateTensorInfo(k);const x=Object(o.a)({inputs:{x:g},backend:t,attrs:{shape:e.shape}});return t.disposeIntermediateTensorInfo(d),t.disposeIntermediateTensorInfo(g),x}var s,r,i,o;t.d(n,"a",(function(){return a})),s=t(616),r=t(2013),i=t(730),o=t(636)},1245:function(e,n,t){"use strict";function a(e){const{inputs:n,backend:t,attrs:a}=e,{x:c,indices:u}=n,{axis:p,batchDims:d}=a,l=s.Si.parseAxisParam(p,c.shape)[0];if(Object(s.of)().get("DEBUG")){const e=t.readSync(u.dataId),n=c.shape[l];for(let t=0;t<e.length;++t){const a=e[t];s.Si.assert(a<=n-1&&a>=0,(()=>`GatherV2: the index value ${a} is not in [0, ${n-1}]`))}}const b=s.ie.segment_util.collectGatherOpShapeInfo(c,u,l,d),h=s.Si.sizeFromShape(u.shape),f=[],m=Object(o.a)({inputs:{x:c},backend:t,attrs:{shape:[b.batchSize,b.outerSize,b.dimSize,b.sliceSize]}}),k=Object(o.a)({inputs:{x:u},backend:t,attrs:{shape:[b.batchSize,h/b.batchSize]}});f.push(m),f.push(k);const g=[b.batchSize,b.outerSize,h/b.batchSize,b.sliceSize];if(t.shouldExecuteOnCPU([c,u])||"string"===c.dtype){const e=t.bufferSync(k),n=t.bufferSync(m),a=Object(i.m)(n,e,g);return f.forEach((e=>t.disposeIntermediateTensorInfo(e))),t.makeTensorInfo(b.outputShape,a.dtype,a.values)}const x=new r.a(m.shape,g),v=t.runWebGLProgram(x,[m,k],m.dtype);f.push(v);const I=Object(o.a)({inputs:{x:v},backend:t,attrs:{shape:b.outputShape}});return f.forEach((e=>t.disposeIntermediateTensorInfo(e))),I}var s,r,i,o;t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return c})),s=t(616),r=t(2023),i=t(628),o=t(636);const c={kernelName:s.yb,backendName:"webgl",kernelFunc:a}},1282:function(e,n,t){"use strict";function a(e,n,t){const s=e[0].dtype;if("complex64"===s){const s=e.map((e=>Object(b.a)({inputs:{input:e},backend:t}))),r=e.map((e=>Object(l.a)({inputs:{input:e},backend:t}))),i=a(s,n,t),o=a(r,n,t),c=Object(d.a)({inputs:{real:i,imag:o},backend:t});return s.forEach((e=>t.disposeIntermediateTensorInfo(e))),r.forEach((e=>t.disposeIntermediateTensorInfo(e))),t.disposeIntermediateTensorInfo(i),t.disposeIntermediateTensorInfo(o),c}let f=t.shouldExecuteOnCPU(e);if("string"===s&&(f=!0),f){const a=e.map((e=>{const a=[-1,r.Si.sizeFromShape(e.shape.slice(n))];return Object(h.a)({inputs:{x:e},backend:t,attrs:{shape:a}})})),i=a.map((e=>({vals:t.readSync(e.dataId),shape:e.shape}))),o=r.ie.computeOutShape(a.map((e=>e.shape)),1),u=1===a[0].shape[0],p=Object(c.g)(i,o,s,u),d=r.ie.computeOutShape(e.map((e=>e.shape)),n),l=t.makeTensorInfo(d,s,p);return a.forEach((e=>t.disposeIntermediateTensorInfo(e))),l}const m=e.filter((e=>r.Si.sizeFromShape(e.shape)>0)),k=Object(r.of)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&m[0].shape.length>1;if(1===m.length){const n=k?new u.i(e[0].shape,u.c):new p.f(e[0].shape,u.c);return t.runWebGLProgram(n,e,s)}const g=Object(r.of)().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(m.length>g){const e=[];for(let r=0;r<m.length;r+=g){const s=m.slice(r,r+g);e.push(a(s,n,t))}const s=a(e,n,t);for(const n of e)t.disposeIntermediateTensorInfo(n);return s}if(k){const e=new o.a(m.map((e=>e.shape)),n);return t.runWebGLProgram(e,m,s)}const{tensors2D:x,outShape:v}=function(e,n,t){const a=r.ie.computeOutShape(e.map((e=>e.shape)),n);return{tensors2D:e.map((e=>Object(h.a)({inputs:{x:e},attrs:{shape:[-1,r.Si.sizeFromShape(e.shape.slice(n))]},backend:t}))),outShape:a}}(m,n,t),I=new i.a(x.map((e=>e.shape))),O=t.runWebGLProgram(I,x,s);x.forEach((e=>t.disposeIntermediateTensorInfo(e)));const S=Object(h.a)({inputs:{x:O},attrs:{shape:v},backend:t});return t.disposeIntermediateTensorInfo(O),S}function s(e){const{inputs:n,backend:t,attrs:s}=e,{axis:i}=s,o=r.Si.parseAxisParam(i,n[0].shape)[0],c=n.map((e=>e.shape));r.ie.assertParamsConsistent(c,o);const u=r.ie.computeOutShape(n.map((e=>e.shape)),o);if(0===r.Si.sizeFromShape(u))return t.makeTensorInfo(u,n[0].dtype,[]);const p=n.filter((e=>r.Si.sizeFromShape(e.shape)>0));return 1===p.length?Object(f.a)({inputs:{x:p[0]},backend:t}):a(p,o,t)}var r=t(616),i=t(1981),o=t(1980),c=t(628),u=t(667),p=t(781),d=t(730),l=t(897),b=t(827),h=t(636),f=t(686);t.d(n,"a",(function(){return s})),t.d(n,"b",(function(){return m}));const m={kernelName:r.H,backendName:"webgl",kernelFunc:s}},1972:function(e,n,t){"use strict";var a,s,r,i,o,c,u;t.d(n,"a",(function(){return p})),a=t(616),s=t(628),r=t(730),i=t(686),o=t(1235),c=t(827),u=t(1973);const p={kernelName:a.C,backendName:"webgl",kernelFunc:function e(n){const{inputs:t,backend:p,attrs:d}=n,{x:l}=t,{dtype:b}=d;if("complex64"===b){if("complex64"===l.dtype)return Object(i.a)({inputs:{x:l},backend:p});const n=a.aj(l.shape),t=e({inputs:{x:l},backend:p,attrs:{dtype:"float32"}}),s=Object(r.a)({inputs:{real:t,imag:n},backend:p});return n.dispose(),p.disposeIntermediateTensorInfo(t),s}if("complex64"===l.dtype){const n=Object(c.a)({inputs:{input:l},backend:p}),t=e({inputs:{x:n},backend:p,attrs:{dtype:b}});return p.disposeIntermediateTensorInfo(n),t}if(!a.Si.hasEncodingLoss(l.dtype,b)){const e=Object(i.a)({inputs:{x:l},backend:p});return{dataId:e.dataId,shape:e.shape,dtype:b}}if(p.shouldExecuteOnCPU([l])){const e=p.texData.get(l.dataId).values,[n,t,a]=Object(s.e)(e,l.shape,l.dtype,b);return p.makeTensorInfo(n,t,a)}if("int32"===b)return Object(u.a)(l,p);if("bool"===b){const e=p.makeTensorInfo([],"bool",a.Si.getTypedArrayFromDType("bool",1)),n={a:l,b:e},t=Object(o.a)({inputs:n,backend:p});return p.disposeIntermediateTensorInfo(e),t}throw Error(`Error in Cast: failed to cast ${l.dtype} to ${b}`)}}},1974:function(e,n,t){"use strict";var a,s,r;t.d(n,"a",(function(){return c})),a=t(616),s=t(626),r=t(628);const i="return ceil(x);",o=Object(s.d)({opSnippet:i,packedOpSnippet:i,cpuKernelImpl:r.f}),c={kernelName:a.D,backendName:"webgl",kernelFunc:o}},1975:function(e,n,t){"use strict";var a,s,r;t.d(n,"a",(function(){return i})),a=t(616),s=t(1977),r=t(1976);const i={kernelName:a.E,backendName:"webgl",kernelFunc:function(e){const{inputs:n,backend:t,attrs:i}=e,{x:o}=n,{clipValueMin:c,clipValueMax:u}=i;let p;p=Object(a.of)().getBool("WEBGL_PACK_CLIP")?new r.a(o.shape):new s.a(o.shape);const d=[[c],[u]];return t.runWebGLProgram(p,[o],o.dtype,d)}}},1978:function(e,n,t){"use strict";function a(e,n){return{dataId:n.dataId,dtype:n.dtype,shape:e.shape}}var s,r;t.d(n,"a",(function(){return i})),s=t(616),r=t(1979);const i={kernelName:s.G,backendName:"webgl",kernelFunc:function(e){const{inputs:n,backend:t}=e,{x:s}=n,i=t.texData.get(s.dataId),o=new r.a(s.shape),c=[a(s,i.complexTensorInfos.real),a(s,i.complexTensorInfos.imag)];return t.runWebGLProgram(o,c,c[0].dtype)}}},1982:function(e,n,t){"use strict";var a,s,r,i,o;t.d(n,"a",(function(){return c})),a=t(616),s=t(1035),r=t(1237),i=t(1236),o=t(636);const c={kernelName:a.I,backendName:"webgl",kernelFunc:function(e){const{inputs:n,backend:t,attrs:c}=e,{x:u,filter:p}=n,{strides:d,pad:l,dataFormat:b,dilations:h,dimRoundingMode:f}=c,m=a.ie.convertConv2DDataFormat(b),k=a.ie.computeConv2DInfo(u.shape,p.shape,d,h,l,f,!1,m);let g;if(1!==k.filterHeight||1!==k.filterWidth||1!==k.dilationHeight||1!==k.dilationWidth||1!==k.strideHeight||1!==k.strideWidth||"SAME"!==k.padInfo.type&&"VALID"!==k.padInfo.type)if(k.strideWidth<=2&&"channelsLast"===m&&Object(a.of)().getBool("WEBGL_EXP_CONV")){const e=new r.a(k),n=[[k.padInfo.top,k.padInfo.left],[k.strideHeight,k.strideWidth],[k.dilationHeight,k.dilationWidth],[k.inHeight,k.inWidth]];g=t.runWebGLProgram(e,[u,p],"float32",n)}else if(Object(a.of)().getBool("WEBGL_CONV_IM2COL"))g=Object(i.b)({x:u,filter:p,convInfo:k,backend:t});else{const e=new s.a(k);g=t.runWebGLProgram(e,[u,p],"float32")}else g=Object(i.a)({x:u,filter:p,convInfo:k,backend:t});const x=Object(o.a)({inputs:{x:g},backend:t,attrs:{shape:k.outShape}});return t.disposeIntermediateTensorInfo(g),x}}},1984:function(e,n,t){"use strict";var a,s;t.d(n,"a",(function(){return r})),a=t(616),s=t(898);const r={kernelName:a.J,backendName:"webgl",kernelFunc:function(e){const{inputs:n,backend:t,attrs:r}=e,{x:i,dy:o}=n,{strides:c,pad:u,dataFormat:p,dimRoundingMode:d,filterShape:l}=r,b=a.ie.convertConv2DDataFormat(p),h=a.ie.computeConv2DInfo(i.shape,l,c,1,u,d,!1,b),f=new s.a(h);return t.runWebGLProgram(f,[i,o],"float32")}}},1985:function(e,n,t){"use strict";var a,s,r;t.d(n,"a",(function(){return i})),a=t(616),s=t(898),r=t(1986);const i={kernelName:a.K,backendName:"webgl",kernelFunc:function(e){const{inputs:n,backend:t,attrs:i}=e,{dy:o,filter:c}=n,{inputShape:u,strides:p,pad:d,dataFormat:l,dimRoundingMode:b}=i,h=a.ie.convertConv2DDataFormat(l),f=a.ie.computeConv2DInfo(u,c.shape,p,1,d,b,!1,h);if(Object(a.of)().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&"channelsLast"===h){const e=[[f.strideHeight,f.strideWidth]],n=new r.a(f);return t.runWebGLProgram(n,[o,c],"float32",e)}{const e=new s.b(f);return t.runWebGLProgram(e,[o,c],"float32")}}}},1987:function(e,n,t){"use strict";var a,s;t.d(n,"a",(function(){return r})),a=t(616),s=t(1035);const r={kernelName:a.L,backendName:"webgl",kernelFunc:function(e){const{inputs:n,backend:t,attrs:r}=e,{x:i,filter:o}=n,{strides:c,pad:u,dilations:p}=r,d=a.ie.computeConv3DInfo(i.shape,o.shape,c,p,u),l=new s.b(d);return t.runWebGLProgram(l,[i,o],"float32")}}},1988:function(e,n,t){"use strict";var a,s;t.d(n,"a",(function(){return r})),a=t(616),s=t(898);const r={kernelName:a.M,backendName:"webgl",kernelFunc:function(e){const{inputs:n,backend:t,attrs:r}=e,{x:i,dy:o}=n,{strides:c,pad:u,filterShape:p}=r,d=a.ie.computeConv3DInfo(i.shape,p,c,1,u),l=new s.c(d);return t.runWebGLProgram(l,[i,o],"float32")}}},1989:function(e,n,t){"use strict";var a,s;t.d(n,"a",(function(){return r})),a=t(616),s=t(898);const r={kernelName:a.N,backendName:"webgl",kernelFunc:function(e){const{inputs:n,backend:t,attrs:r}=e,{dy:i,filter:o}=n,{pad:c,strides:u,inputShape:p}=r,d=a.ie.computeConv3DInfo(p,o.shape,u,1,c),l=new s.d(d);return t.runWebGLProgram(l,[i,o],"float32")}}},1990:function(e,n,t){"use strict";var a,s,r;t.d(n,"a",(function(){return u})),a=t(616),s=t(683);const i=(r=t(626)).a+"\n  return cos(x);\n",o=`\n  vec4 result = cos(x);\n  bvec4 isNaN = isnan(x);\n  ${s.b}\n  return result;\n`,c=Object(r.d)({opSnippet:i,packedOpSnippet:o}),u={kernelName:a.O,backendName:"webgl",kernelFunc:c}},1991:function(e,n,t){"use strict";var a,s;t.d(n,"a",(function(){return i})),a=t(616),s=t(626);const r=Object(s.d)({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),i={kernelName:a.P,backendName:"webgl",kernelFunc:r}},1992:function(e,n,t){"use strict";var a,s;t.d(n,"a",(function(){return r})),a=t(616),s=t(1993);const r={kernelName:a.Q,backendName:"webgl",kernelFunc:e=>{const{inputs:n,backend:t,attrs:a}=e,{image:r,boxes:i,boxInd:o}=n,{cropSize:c,method:u,extrapolationValue:p}=a,d=new s.a(r.shape,i.shape,c,u,p);return t.runWebGLProgram(d,[r,i,o],"float32")}}},1994:function(e,n,t){"use strict";var a,s,r;t.d(n,"a",(function(){return i})),a=t(616),s=t(1036),r=t(1238);const i={kernelName:a.R,backendName:"webgl",kernelFunc:function(e){const{inputs:n,backend:t,attrs:a}=e,{x:i}=n,{axis:o,exclusive:c,reverse:u}=a;return Object(r.a)(s.a.Prod,i,t,o,c,u)}}},1995:function(e,n,t){"use strict";var a,s,r;t.d(n,"a",(function(){return i})),a=t(616),s=t(1036),r=t(1238);const i={kernelName:a.S,backendName:"webgl",kernelFunc:function(e){const{inputs:n,backend:t,attrs:a}=e,{x:i}=n,{axis:o,exclusive:c,reverse:u}=a;return Object(r.a)(s.a.Sum,i,t,o,c,u)}}},1996:function(e,n,t){"use strict";var a,s;t.d(n,"a",(function(){return r})),a=t(616),s=t(628);const r={kernelName:a.U,backendName:"webgl",kernelFunc:function(e){const{inputs:n,backend:t,attrs:a}=e,{x:r,weights:i}=n,{size:o,binaryOutput:c}=a;if(1===r.shape.length){const e=t.readSync(r.dataId),n=t.readSync(i.dataId),a=Object(s.b)(e,n,i.dtype,i.shape,o);return t.makeTensorInfo([o],i.dtype,a)}if(2===r.shape.length){const e=t.bufferSync(r),n=t.bufferSync(i),a=Object(s.c)(e,n,o,c);return t.makeTensorInfo(a.shape,i.dtype,a.values)}throw Error("Error in denseBincount: input must be at most rank 2, but got rank"+r.shape.length+".")}}},1997:function(e,n,t){"use strict";var a,s;t.d(n,"a",(function(){return r})),a=t(616),s=t(1998);const r={kernelName:a.V,backendName:"webgl",kernelFunc:function(e){const{inputs:n,backend:t,attrs:a}=e,{x:r}=n,{blockSize:i,dataFormat:o}=a,c=r.shape[0],u=("NHWC"===o?r.shape[1]:r.shape[2])*i,p=("NHWC"===o?r.shape[2]:r.shape[3])*i,d=("NHWC"===o?r.shape[3]:r.shape[1])/(i*i),l="NHWC"===o?[c,u,p,d]:[c,d,u,p],b=new s.a(l,i,o);return t.runWebGLProgram(b,[r],r.dtype)}}},1999:function(e,n,t){"use strict";var a,s,r;t.d(n,"a",(function(){return i})),a=t(616),s=t(1240),r=t(1239);const i={kernelName:a.W,backendName:"webgl",kernelFunc:function(e){const{inputs:n,backend:t,attrs:i}=e,{x:o,filter:c}=n,{strides:u,pad:p,dilations:d,dimRoundingMode:l}=i;let b=d;null==b&&(b=[1,1]),a.Si.assert(a.ie.eitherStridesOrDilationsAreOne(u,b),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${u} and dilations '${b}'`));const h=a.ie.computeConv2DInfo(o.shape,c.shape,u,b,p,l,!0);let f;f=Object(a.of)().getBool("WEBGL_PACK_DEPTHWISECONV")&&h.strideWidth<=2&&h.outChannels/h.inChannels==1?new r.a(h):new s.a(h);const m=[[h.padInfo.top,h.padInfo.left],[h.strideHeight,h.strideWidth],[h.dilationHeight,h.dilationWidth],[h.inHeight,h.inWidth]];return t.runWebGLProgram(f,[o,c],"float32",m)}}},2e3:function(e,n,t){"use strict";var a,s;t.d(n,"a",(function(){return r})),a=t(616),s=t(1241);const r={kernelName:a.X,backendName:"webgl",kernelFunc:function(e){const{inputs:n,backend:t,attrs:r}=e,{x:i,dy:o}=n,{strides:c,dilations:u,pad:p,dimRoundingMode:d,filterShape:l}=r,b=a.ie.computeConv2DInfo(i.shape,l,c,u,p,d,!0),h=new s.a(b);return t.runWebGLProgram(h,[i,o],"float32")}}},2001:function(e,n,t){"use strict";var a,s;t.d(n,"a",(function(){return r})),a=t(616),s=t(1241);const r={kernelName:a.Y,backendName:"webgl",kernelFunc:function(e){const{inputs:n,backend:t,attrs:r}=e,{dy:i,filter:o}=n,{strides:c,dilations:u,pad:p,dimRoundingMode:d,inputShape:l}=r,b=a.ie.computeConv2DInfo(l,o.shape,c,u,p,d,!0),h=new s.b(b);return t.runWebGLProgram(h,[i,o],"float32")}}},2002:function(e,n,t){"use strict";var a,s,r;t.d(n,"a",(function(){return i})),a=t(616),s=t(2003),r=t(636);const i={kernelName:a.Z,backendName:"webgl",kernelFunc:function(e){const{inputs:n,backend:t}=e,{x:i}=n,o=[...i.shape,...i.shape],c=a.Si.sizeFromShape(i.shape),u=Object(r.a)({inputs:{x:i},backend:t,attrs:{shape:[c]}}),p=new s.a(c),d=t.runWebGLProgram(p,[u],u.dtype),l=Object(r.a)({inputs:{x:d},backend:t,attrs:{shape:o}});return t.disposeIntermediateTensorInfo(u),t.disposeIntermediateTensorInfo(d),l}}},2004:function(e,n,t){"use strict";var a,s,r;t.d(n,"a",(function(){return i})),a=t(616),s=t(2005),r=t(636);const i={kernelName:a.ab,backendName:"webgl",kernelFunc:function(e){const{inputs:n,backend:t,attrs:i}=e,{x:o,filter:c}=n,{strides:u,pad:p,dilations:d}=i,l=a.ie.computeDilation2DInfo(o.shape,c.shape,u,p,"NHWC",d);let b;const h=new s.a(l);b=t.runWebGLProgram(h,[o,c],"float32");const f=Object(r.a)({inputs:{x:b},backend:t,attrs:{shape:l.outShape}});return t.disposeIntermediateTensorInfo(b),f}}},2006:function(e,n,t){"use strict";var a,s,r,i,o;t.d(n,"a",(function(){return c})),a=t(616),s=t(1034),r=t(636),i=t(908),o=t(684);const c={kernelName:a.fb,backendName:"webgl",kernelFunc:function(e){const{inputs:n,backend:t,attrs:c}=e,{equation:u}=c,p=n,{allDims:d,summedDims:l,idDims:b}=a.ie.decodeEinsumEquation(u,p.length);a.ie.checkEinsumDimSizes(d.length,b,p);const{path:h,steps:f}=a.ie.getEinsumComputePath(l,b),m=f.length;let k=null,g=d.length;const x=[];for(let v=0;v<m;++v){for(const e of f[v]){const{permutationIndices:n,expandDims:i}=a.ie.getEinsumPermutation(g,b[e]);let c;a.ie.isIdentityPermutation(n)?c=p[e]:(c=Object(o.a)({inputs:{x:p[e]},backend:t,attrs:{perm:n}}),x.push(c));const u=c.shape.slice();for(let e=0;e<i.length;++e)u.splice(i[e],0,1);a.Si.arraysEqual(c.shape,u)||(c=Object(r.a)({inputs:{x:c},backend:t,attrs:{shape:u}}),x.push(c)),null===k?k=c:(k=Object(s.a)({inputs:{a:c,b:k},backend:t}),x.push(k))}v<m-1&&(h[v]>=0&&(k=Object(i.a)({inputs:{x:k},backend:t,attrs:{axis:h[v]-(d.length-g),keepDims:!1}}),x.push(k)),g--)}for(const a of x)a!==k&&t.disposeIntermediateTensorInfo(a);return k}}},2007:function(e,n,t){"use strict";var a,s;t.d(n,"a",(function(){return i})),a=t(616),s=t(626);const r=Object(s.d)({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"}),i={kernelName:a.gb,backendName:"webgl",kernelFunc:r}},2008:function(e,n,t){"use strict";var a,s,r;t.d(n,"a",(function(){return i})),a=t(616),s=t(710),r=t(683);const i={kernelName:a.hb,backendName:"webgl",kernelFunc:e=>{const{inputs:n,backend:t}=e,{dy:i,y:o}=n,c=Object(a.of)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new r.a("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",i.shape,o.shape):new s.a("return (b >= 0.0) ? a : a * (b + 1.0);",i.shape,o.shape);return t.runWebGLProgram(c,[i,o],i.dtype)}}},2009:function(e,n,t){"use strict";var a,s,r;t.d(n,"a",(function(){return o})),a=t(616),s=t(626),r=t(628);const i=Object(s.b)({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:r.h}),o={kernelName:a.jb,backendName:"webgl",kernelFunc:i}},2010:function(e,n,t){"use strict";var a,s;t.d(n,"a",(function(){return o})),a=t(616),s=t(626);const r=`\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = ${a.ie.ERF_P};\n  float a1 = ${a.ie.ERF_A1};\n  float a2 = ${a.ie.ERF_A2};\n  float a3 = ${a.ie.ERF_A3};\n  float a4 = ${a.ie.ERF_A4};\n  float a5 = ${a.ie.ERF_A5};\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n`,i=Object(s.d)({opSnippet:r}),o={kernelName:a.kb,backendName:"webgl",kernelFunc:i}},2011:function(e,n,t){"use strict";var a,s,r;t.d(n,"a",(function(){return c})),a=t(616),s=t(626),r=t(628);const i="return exp(x) - 1.0;",o=Object(s.d)({opSnippet:i,packedOpSnippet:i,cpuKernelImpl:r.j}),c={kernelName:a.nb,backendName:"webgl",kernelFunc:o}},2012:function(e,n,t){"use strict";var a,s;t.d(n,"a",(function(){return r})),a=t(616),s=t(1244);const r={kernelName:a.ob,backendName:"webgl",kernelFunc:function(e){const{inputs:n,backend:t}=e,{input:a}=n;return Object(s.a)(a,!1,t)}}},2015:function(e,n,t){"use strict";var a,s;t.d(n,"a",(function(){return r})),a=t(616),s=t(2016);const r={kernelName:a.qb,backendName:"webgl",kernelFunc:({inputs:e,backend:n})=>{const{image:t}=e,a=n,r=new s.a(t.shape);return a.runWebGLProgram(r,[t],t.dtype)}}},2017:function(e,n,t){"use strict";var a,s,r;t.d(n,"a",(function(){return c})),a=t(616),s=t(626),r=t(628);const i="return floor(x);",o=Object(s.d)({opSnippet:i,packedOpSnippet:i,cpuKernelImpl:r.k}),c={kernelName:a.rb,backendName:"webgl",kernelFunc:o}},2018:function(e,n,t){"use strict";var a,s;t.d(n,"a",(function(){return i})),a=t(616),s=t(626);const r=Object(s.b)({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),i={kernelName:a.sb,backendName:"webgl",kernelFunc:r}},2019:function(e,n,t){"use strict";var a,s,r,i,o,c;t.d(n,"a",(function(){return u})),a=t(616),s=t(1035),r=t(1237),i=t(626),o=t(1236),c=t(636);const u={kernelName:a.vb,backendName:"webgl",kernelFunc:function(e){const{inputs:n,backend:t,attrs:u}=e,{x:p,filter:d,bias:l,preluActivationWeights:b}=n,{strides:h,pad:f,dataFormat:m,dilations:k,dimRoundingMode:g,activation:x,leakyreluAlpha:v}=u,I=a.ie.convertConv2DDataFormat(m),O=a.ie.computeConv2DInfo(p.shape,d.shape,h,k,f,g,!1,I);let S;const N=[],w=null!=l,j=null!=b,W="leakyrelu"===x,y=()=>{const e=[p,d],n=(e,n)=>{if("NCHW"===n&&1===e.shape.length&&1!==e.shape[0]){const n=Object(c.a)({inputs:{x:e},backend:t,attrs:{shape:[e.shape[0],1,1]}});return N.push(n),n}return e};if(w&&e.push(n(l,m)),j&&e.push(n(b,m)),W){const n=t.makeTensorInfo([],"float32",a.Si.createScalarValue(v,"float32"));e.push(n),N.push(n)}return e};if(1!==O.filterHeight||1!==O.filterWidth||1!==O.dilationHeight||1!==O.dilationWidth||1!==O.strideHeight||1!==O.strideWidth||"SAME"!==O.padInfo.type&&"VALID"!==O.padInfo.type)if(O.strideWidth<=2&&"channelsLast"===I&&Object(a.of)().getBool("WEBGL_EXP_CONV")){const e=x?Object(i.c)(x,!0):null,n=new r.a(O,w,e,j,W),a=[[O.padInfo.top,O.padInfo.left],[O.strideHeight,O.strideWidth],[O.dilationHeight,O.dilationWidth],[O.inHeight,O.inWidth]],s=y();S=t.runWebGLProgram(n,s,"float32",a)}else if(Object(a.of)().getBool("WEBGL_CONV_IM2COL"))S=Object(o.b)({x:p,filter:d,convInfo:O,backend:t,bias:l,activation:x,preluActivationWeights:b,leakyreluAlpha:v});else{const e=x?Object(i.c)(x,!1):null,n=new s.a(O,w,e,j,W),a=y();S=t.runWebGLProgram(n,a,"float32")}else S=Object(o.a)({x:p,filter:d,convInfo:O,backend:t,bias:l,activation:x,preluActivationWeights:b,leakyreluAlpha:v});const F=Object(c.a)({inputs:{x:S},backend:t,attrs:{shape:O.outShape}});return N.push(S),N.forEach((e=>t.disposeIntermediateTensorInfo(e))),F}}},2020:function(e,n,t){"use strict";var a,s,r,i;t.d(n,"a",(function(){return o})),a=t(616),s=t(1240),r=t(1239),i=t(626);const o={kernelName:a.wb,backendName:"webgl",kernelFunc:function(e){const{inputs:n,backend:t,attrs:o}=e,{x:c,filter:u,bias:p,preluActivationWeights:d}=n,{strides:l,pad:b,dilations:h,dimRoundingMode:f,activation:m,leakyreluAlpha:k}=o,g=[];let x=h;null==x&&(x=[1,1]),a.Si.assert(a.ie.eitherStridesOrDilationsAreOne(l,x),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${l} and dilations '${x}'`));const v=a.ie.computeConv2DInfo(c.shape,u.shape,l,x,b,f,!0),I=Object(a.of)().getBool("WEBGL_PACK_DEPTHWISECONV")&&v.strideWidth<=2&&v.outChannels/v.inChannels==1,O=m?Object(i.c)(m,I):null,S=[c,u],N=null!=p,w=null!=d,j="leakyrelu"===m;if(N&&S.push(p),w&&S.push(d),j){const e=t.makeTensorInfo([],"float32",a.Si.createScalarValue(k,"float32"));S.push(e),g.push(e)}let W;W=I?new r.a(v,N,O,w,j):new s.a(v,N,O,w,j);const y=[[v.padInfo.top,v.padInfo.left],[v.strideHeight,v.strideWidth],[v.dilationHeight,v.dilationWidth],[v.inHeight,v.inWidth]],F=t.runWebGLProgram(W,S,"float32",y);return g.forEach((e=>t.disposeIntermediateTensorInfo(e))),F}}},2021:function(e,n,t){"use strict";var a,s,r,i;t.d(n,"a",(function(){return o})),a=t(616),s=t(2022),r=t(628),i=t(636);const o={kernelName:a.xb,backendName:"webgl",kernelFunc:function(e){const{inputs:n,backend:t}=e,{params:o,indices:c}=n,u=c.shape,p=u[u.length-1],d=a.Si.sizeFromShape(o.shape),[l,b,h,f]=a.ie.prepareAndValidate(o,c),m=Object(i.a)({inputs:{x:c},backend:t,attrs:{shape:[b,p]}}),k=Object(i.a)({inputs:{x:o},backend:t,attrs:{shape:[a.Si.sizeFromShape(o.shape)/h,h]}});if(t.shouldExecuteOnCPU([o,c])||"string"===o.dtype){const e=t.readSync(c.dataId),n=t.bufferSync(o),a=Object(r.l)(e,n,o.dtype,b,p,h,f,o.shape,d);return t.makeTensorInfo(l,o.dtype,a.values)}const g=new s.a(p,f,[b,h],o.shape),x=t.runWebGLProgram(g,[k,m],k.dtype),v=Object(i.a)({inputs:{x},backend:t,attrs:{shape:l}});return t.disposeIntermediateTensorInfo(m),t.disposeIntermediateTensorInfo(k),t.disposeIntermediateTensorInfo(x),v}}},2024:function(e,n,t){"use strict";var a,s,r;t.d(n,"a",(function(){return o})),a=t(616),s=t(626),r=t(628);const i=Object(s.b)({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:r.o,dtype:"bool"}),o={kernelName:a.zb,backendName:"webgl",kernelFunc:i}},2025:function(e,n,t){"use strict";var a,s,r;t.d(n,"a",(function(){return o})),a=t(616),s=t(626),r=t(628);const i=Object(s.b)({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:r.n}),o={kernelName:a.Ab,backendName:"webgl",kernelFunc:i}},2263:function(e,n,t){"use strict";var a=t(616),s=t(692),r=t(693);class i{constructor(e){this.variableNames=["A"];const n=Object(r.a)(),[t,a]=e;this.outputShape=e,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${a}.0, ${t}.0);\n\n        vec4 values = ${n.texture2D}(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    `}}class o{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const n=Object(r.a)(),[t,a]=e;this.outputShape=e,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(${a}.0, ${t}.0);\n            vec4 values = ${n.texture2D}(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ${n.output} = result;\n      }\n    `}}t.d(n,"a",(function(){return c}));const c={kernelName:a.tb,backendName:"webgl",kernelFunc:function(e){const{inputs:n,backend:t,attrs:r}=e;let{pixels:c}=n;const{numChannels:d}=r,l="undefined"!=typeof HTMLVideoElement&&c instanceof HTMLVideoElement,b="undefined"!=typeof HTMLImageElement&&c instanceof HTMLImageElement,[h,f]=l?[c.videoWidth,c.videoHeight]:[c.width,c.height],m=[f,h],k=[f,h,d];if(b||l){const e=Object(a.of)().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");null!=u&&e===p||(p=e,u=document.createElement("canvas").getContext("2d",{willReadFrequently:p})),u.canvas.width=h,u.canvas.height=f,u.drawImage(c,0,0,h,f),c=u.canvas}const g=t.makeTensorInfo(m,"int32");t.texData.get(g.dataId).usage=s.c.PIXELS,t.gpgpu.uploadPixelDataToTexture(t.getTexture(g.dataId),c);const x=Object(a.of)().getBool("WEBGL_PACK")?new o(k):new i(k),v=t.runWebGLProgram(x,[g],"int32");return t.disposeData(g.dataId),v}};let u,p=Object(a.of)().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU")},730:function(e,n,t){"use strict";function a(e){const{inputs:n,backend:t}=e,{real:a,imag:s}=n,i=t.makeTensorInfo(a.shape,"complex64"),o=t.texData.get(i.dataId),c=Object(r.a)({inputs:{x:a},backend:t}),u=Object(r.a)({inputs:{x:s},backend:t});return o.complexTensorInfos={real:c,imag:u},i}var s,r;t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return i})),s=t(616),r=t(686);const i={kernelName:s.F,backendName:"webgl",kernelFunc:a}},828:function(e,n,t){"use strict";function a(e){const{backend:n,attrs:t}=e,{shape:a,value:i}=t;let{dtype:o}=t;if(o=o||s.Si.inferDtype(i),"string"===o){const e=s.Si.getArrayFromDType(o,s.Si.sizeFromShape(a));return e.fill(i),n.makeTensorInfo(a,o,e)}{const e=new r.a(a,i),t=[[i]];return n.runWebGLProgram(e,[],o,t)}}var s,r;t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return i})),s=t(616),r=t(2014);const i={kernelName:s.pb,backendName:"webgl",kernelFunc:a}}}]);