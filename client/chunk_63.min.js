/*! For license information please see chunk_63.min.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{1101:function(n,t,r){"use strict";function e(n){return h.fromString(n,!0,16)}function o(n){return n.xor(n.shru(47))}function u(n,t,r){const e=n.slice(t,t+r);return h.fromBytes(Array.from(e),!0,!0)}function i(n,t){return u(n,t,8)}function d(n,t){return u(n,t,4)}function c(n,t){return 0===t?n:n.shru(t).or(n.shl(64-t))}function f(n,t,r=e("9ddfea08eb382d69")){let o=n.xor(t).mul(r);o=o.xor(o.shru(47));let u=t.xor(o).mul(r);return u=u.xor(u.shru(47)),u=u.mul(r),u}function s(n,t,r,e){return function(n,t,r,e,o,u){o=o.add(n),u=c(u.add(o).add(e),21);const i=o;return o=(o=o.add(t)).add(r),u=u.add(c(o,44)),[o.add(e),u.add(i)]}(i(n,t),i(n,t+8),i(n,t+16),i(n,t+24),r,e)}function a(n,t=n.length){const r=h.fromNumber(81,!0);if(t<=32)return t<=16?function(n,t=n.length){if(t>=8){const r=p.add(2*t),e=i(n,0).add(p),o=i(n,t-8);return f(c(o,37).mul(r).add(e),c(e,25).add(o).mul(r),r)}if(t>=4){const r=p.add(2*t);return f(d(n,0).shl(3).add(t),d(n,t-4),r)}if(t>0){const r=n[0]+(n[t>>1]<<8),e=t+(n[t-1]<<2);return o(p.mul(r).xor(g.mul(e))).mul(p)}return p}(n,t):function(n,t=n.length){const r=p.add(2*t),e=i(n,0).mul(b),o=i(n,8),u=i(n,t-8).mul(r),d=i(n,t-16).mul(p);return f(c(e.add(o),43).add(c(u,30)).add(d),e.add(c(o.add(p),18)).add(u),r)}(n,t);if(t<=64)return function(n,t=n.length){const r=p.add(2*t),e=i(n,0).mul(p),o=i(n,8),u=i(n,t-8).mul(r),d=i(n,t-16).mul(p),s=c(e.add(o),43).add(c(u,30)).add(d),a=f(s,e.add(c(o.add(p),18)).add(u),r),l=i(n,16).mul(r),h=i(n,24),g=s.add(i(n,t-32)).mul(r),b=a.add(i(n,t-24)).mul(r);return f(c(l.add(h),43).add(c(g,30)).add(b),l.add(c(h.add(e),18)).add(g),r)}(n,t);let e=r,u=r.mul(b).add(113),a=o(u.mul(p).add(113)).mul(p),l=[h.UZERO,h.UZERO],y=[h.UZERO,h.UZERO];e=e.mul(p).add(i(n,0));let w=0;const m=64*(t-1>>6),S=m+(t-1&63)-63;do{e=c(e.add(u).add(l[0]).add(i(n,w+8)),37).mul(b),u=c(u.add(l[1]).add(i(n,w+48)),42).mul(b),e=e.xor(y[1]),u=u.add(l[0]).add(i(n,w+40)),a=c(a.add(y[0]),33).mul(b),l=s(n,w,l[1].mul(b),e.add(y[0])),y=s(n,w+32,a.add(y[1]),u.add(i(n,w+16))),[a,e]=[e,a],w+=64}while(w!==m);const A=b.add(a.and(255).shl(1));return w=S,y[0]=y[0].add(t-1&63),l[0]=l[0].add(y[0]),y[0]=y[0].add(l[0]),e=c(e.add(u).add(l[0]).add(i(n,w+8)),37).mul(A),u=c(u.add(l[1]).add(i(n,w+48)),42).mul(A),e=e.xor(y[1].mul(9)),u=u.add(l[0].mul(9).add(i(n,w+40))),a=c(a.add(y[0]),33).mul(A),l=s(n,w,l[1].mul(A),e.add(y[0])),y=s(n,w+32,a.add(y[1]),u.add(i(n,w+16))),[a,e]=[e,a],f(f(l[0],y[0],A).add(o(u).mul(g)).add(a),f(l[1],y[1],A).add(e),A)}var l;r.d(t,"b",(function(){return e})),r.d(t,"a",(function(){return a})),l=r(1501);const h=r.n(l).a||l,g=e("c3a5c85c97cb3127"),b=e("b492b66fbe98f273"),p=e("9ae16a3b2f90404f")},1102:function(n,t,r){"use strict";function e(){if(!Object(u.c)().getBool("IS_BROWSER"))throw Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const n="undefined"==typeof window?self:window,t=n.indexedDB||n.mozIndexedDB||n.webkitIndexedDB||n.msIndexedDB||n.shimIndexedDB;if(null==t)throw Error("The current browser does not appear to support IndexedDB.");return t}function o(n){const t=n.result;t.createObjectStore(s,{keyPath:"modelPath"}),t.createObjectStore(a,{keyPath:"modelPath"})}var u,i,d,c;r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return g})),r(795),u=r(657),i=r(672),d=r(694),c=r(714);const f="tensorflowjs",s="models_store",a="model_info_store";class l{constructor(n){if(this.indexedDB=e(),null==n||!n)throw Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=n}async save(n){if(n.modelTopology instanceof ArrayBuffer)throw Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,n)}async load(){return this.databaseAction(this.modelPath)}databaseAction(n,t){return new Promise(((n,r)=>{const e=this.indexedDB.open(f,1);e.onupgradeneeded=()=>o(e),e.onsuccess=()=>{const o=e.result;if(null==t){const t=o.transaction(s,"readonly"),e=t.objectStore(s).get(this.modelPath);e.onsuccess=()=>{if(null==e.result)return o.close(),r(Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));n(e.result.modelArtifacts)},e.onerror=n=>(o.close(),r(e.error)),t.oncomplete=()=>o.close()}else{t.weightData=c.a.join(t.weightData);const e=Object(i.j)(t),d=o.transaction(a,"readwrite");let f,l,h=d.objectStore(a);try{f=h.put({modelPath:this.modelPath,modelArtifactsInfo:e})}catch(u){return r(u)}f.onsuccess=()=>{l=o.transaction(s,"readwrite");const i=l.objectStore(s);let c;try{c=i.put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:e})}catch(u){return r(u)}c.onsuccess=()=>n({modelArtifactsInfo:e}),c.onerror=n=>{h=d.objectStore(a);const t=h.delete(this.modelPath);t.onsuccess=()=>(o.close(),r(c.error)),t.onerror=n=>(o.close(),r(c.error))}},f.onerror=n=>(o.close(),r(f.error)),d.oncomplete=()=>{null==l?o.close():l.oncomplete=()=>o.close()}}},e.onerror=n=>r(e.error)}))}}l.URL_SCHEME="indexeddb://";const h=n=>{return Object(u.c)().getBool("IS_BROWSER")&&!Array.isArray(n)&&n.startsWith(l.URL_SCHEME)?(t=n.slice(l.URL_SCHEME.length),new l(t)):null;var t};d.a.registerSaveRouter(h),d.a.registerLoadRouter(h);class g{constructor(){this.indexedDB=e()}async listModels(){return new Promise(((n,t)=>{const r=this.indexedDB.open(f,1);r.onupgradeneeded=()=>o(r),r.onsuccess=()=>{const e=r.result,o=e.transaction(a,"readonly"),u=o.objectStore(a).getAll();u.onsuccess=()=>{const t={};for(const n of u.result)t[n.modelPath]=n.modelArtifactsInfo;n(t)},u.onerror=n=>(e.close(),t(u.error)),o.oncomplete=()=>e.close()},r.onerror=n=>t(r.error)}))}async removeModel(n){var t;return n=(t=n).startsWith(l.URL_SCHEME)?t.slice(l.URL_SCHEME.length):t,new Promise(((t,r)=>{const e=this.indexedDB.open(f,1);e.onupgradeneeded=()=>o(e),e.onsuccess=()=>{const o=e.result,u=o.transaction(a,"readwrite"),i=u.objectStore(a),d=i.get(n);let c;d.onsuccess=()=>{if(null==d.result)return o.close(),r(Error(`Cannot find model with path '${n}' in IndexedDB.`));{const e=i.delete(n),u=()=>{c=o.transaction(s,"readwrite");const e=c.objectStore(s).delete(n);e.onsuccess=()=>t(d.result.modelArtifactsInfo),e.onerror=n=>r(d.error)};e.onsuccess=u,e.onerror=n=>(u(),o.close(),r(d.error))}},d.onerror=n=>(o.close(),r(d.error)),u.oncomplete=()=>{null==c?o.close():c.oncomplete=()=>o.close()}},e.onerror=n=>r(e.error)}))}}},1281:function(n,t,r){"use strict";function e(n){return new Promise((n=>setTimeout(n))).then(n)}function o(n){return new y(n)}function u(n){return null!=n.match(w.URL_SCHEME_REGEX)}function i(n,t){return new w(n,t)}function d(n,t){return i(n,t)}var c,f,s,a,l,h,g,b;r.r(t),r(1102),r(1104),r(795),c=r(657),f=r(672),s=r(694),a=r(714);class p{constructor(n){if(!Object(c.c)().getBool("IS_BROWSER"))throw Error("browserDownloads() cannot proceed because the current environment is not a browser.");n.startsWith(p.URL_SCHEME)&&(n=n.slice(p.URL_SCHEME.length)),null!=n&&0!==n.length||(n="model"),this.modelJsonFileName=n+".json",this.weightDataFileName=n+".weights.bin"}async save(n){if("undefined"==typeof document)throw Error("Browser downloads are not supported in this environment since `document` is not present");const t=a.a.join(n.weightData),r=window.URL.createObjectURL(new Blob([t],{type:"application/octet-stream"}));if(n.modelTopology instanceof ArrayBuffer)throw Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const t=[{paths:["./"+this.weightDataFileName],weights:n.weightSpecs}],o=Object(f.k)(n,t),u=window.URL.createObjectURL(new Blob([JSON.stringify(o)],{type:"application/json"})),i=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor;if(i.download=this.modelJsonFileName,i.href=u,await e((()=>i.dispatchEvent(new MouseEvent("click")))),null!=n.weightData){const n=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;n.download=this.weightDataFileName,n.href=r,await e((()=>n.dispatchEvent(new MouseEvent("click"))))}return{modelArtifactsInfo:Object(f.j)(n)}}}}p.URL_SCHEME="downloads://";class y{constructor(n){if(null==n||n.length<1)throw Error("When calling browserFiles, at least 1 file is required, but received "+n);this.jsonFile=n[0],this.weightsFiles=n.slice(1)}async load(){return new Promise(((n,t)=>{const r=new FileReader;r.onload=r=>{const e=JSON.parse(r.target.result),o=e.modelTopology;if(null==o)return void t(Error("modelTopology field is missing from file "+this.jsonFile.name));if(null==e.weightsManifest)return void t(Error("weightManifest field is missing from file "+this.jsonFile.name));if(0===this.weightsFiles.length)return void n({modelTopology:o});const u=Object(f.h)(e,(n=>this.loadWeights(n)));n(u)},r.onerror=n=>t(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),r.readAsText(this.jsonFile)}))}loadWeights(n){const t=[],r=[];for(const u of n)t.push(...u.weights),r.push(...u.paths);const e=this.checkManifestAndWeightFiles(n),o=r.map((n=>this.loadWeightsFile(n,e[n])));return Promise.all(o).then((n=>[t,n]))}loadWeightsFile(n,t){return new Promise(((r,e)=>{const o=new FileReader;o.onload=n=>{const t=n.target.result;r(t)},o.onerror=t=>e(`Failed to weights data from file of path '${n}'.`),o.readAsArrayBuffer(t)}))}checkManifestAndWeightFiles(n){const t=[],r=this.weightsFiles.map((n=>Object(f.c)(n.name))),e={};for(const o of n)o.paths.forEach((n=>{const o=Object(f.c)(n);if(-1!==t.indexOf(o))throw Error(`Duplicate file basename found in weights manifest: '${o}'`);if(t.push(o),-1===r.indexOf(o))throw Error(`Weight file with basename '${o}' is not provided.`);e[n]=this.weightsFiles[r.indexOf(o)]}));if(t.length!==this.weightsFiles.length)throw Error(`Mismatch in the number of files in weights manifest (${t.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return e}}s.a.registerSaveRouter((n=>Object(c.c)().getBool("IS_BROWSER")&&!Array.isArray(n)&&n.startsWith(p.URL_SCHEME)?function(n="model"){return new p(n)}(n.slice(p.URL_SCHEME.length)):null)),l=r(661),h=r(909);class w{constructor(n,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.weightUrlConverter=t.weightUrlConverter,null!=t.fetchFunc?(Object(l.c)("function"==typeof t.fetchFunc,(()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)")),this.fetch=t.fetchFunc):this.fetch=Object(c.c)().platform.fetch,Object(l.c)(null!=n&&n.length>0,(()=>"URL path for http must not be null, undefined or empty.")),Array.isArray(n)&&Object(l.c)(2===n.length,(()=>`URL paths for http must have a length of 2, (actual length is ${n.length}).`)),this.path=n,null!=t.requestInit&&null!=t.requestInit.body)throw Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{},this.loadOptions=t}async save(n){if(n.modelTopology instanceof ArrayBuffer)throw Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;const r=[{paths:["./model.weights.bin"],weights:n.weightSpecs}],e=Object(f.k)(n,r);if(t.body.append("model.json",new Blob([JSON.stringify(e)],{type:"application/json"}),"model.json"),null!=n.weightData){const r=a.a.join(n.weightData);t.body.append("model.weights.bin",new Blob([r],{type:"application/octet-stream"}),"model.weights.bin")}const o=await this.fetch(this.path,t);if(o.ok)return{modelArtifactsInfo:Object(f.j)(n),responses:[o]};throw Error("BrowserHTTPRequest.save() failed due to HTTP response status "+o.status+".")}async loadModelJSON(){const n=await this.fetch(this.path,this.requestInit);if(!n.ok)throw Error(`Request to ${this.path} failed with status code `+n.status+". Please verify this URL points to the model JSON of the model to load.");let t;try{t=await n.json()}catch(o){let n=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?n+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":n+=" Please make sure the server is serving valid JSON for this request.",Error(n)}const r=t.modelTopology,e=t.weightsManifest;if(null==r&&null==e)throw Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return t}async load(){if(this.loadOptions.streamWeights)return this.loadStream();const n=await this.loadModelJSON();return Object(f.h)(n,(n=>this.loadWeights(n)))}async loadStream(){const n=await this.loadModelJSON(),t=await this.getWeightUrls(n.weightsManifest),r=Object(f.l)(n.weightsManifest);return Object.assign(Object.assign({},n),{weightSpecs:r,getWeightStream:()=>Object(h.c)(t,this.loadOptions)})}async getWeightUrls(n){const t=Array.isArray(this.path)?this.path[1]:this.path,[r,e]=function(n){const t=n.lastIndexOf("/"),r=n.lastIndexOf("?");return[n.substring(0,t)+"/",r>t?n.substring(r):""]}(t),o=this.weightPathPrefix||r,u=[],i=[];for(const d of n)for(const n of d.paths)null!=this.weightUrlConverter?i.push(this.weightUrlConverter(n)):u.push(o+n+e);return this.weightUrlConverter&&u.push(...await Promise.all(i)),u}async loadWeights(n){const t=await this.getWeightUrls(n);return[Object(f.l)(n),await Object(h.b)(t,this.loadOptions)]}}w.URL_SCHEME_REGEX=/^https?:\/\//;const m=(n,t)=>{if("undefined"==typeof fetch&&(null==t||null==t.fetchFunc))return null;{let r=!0;if(r=Array.isArray(n)?n.every((n=>u(n))):u(n),r)return i(n,t)}return null};s.a.registerSaveRouter(m),s.a.registerLoadRouter(m),g=r(799),b=r(765),r.d(t,"copyModel",(function(){return b.b})),r.d(t,"listModels",(function(){return b.c})),r.d(t,"moveModel",(function(){return b.d})),r.d(t,"removeModel",(function(){return b.e})),r.d(t,"browserFiles",(function(){return o})),r.d(t,"browserHTTPRequest",(function(){return d})),r.d(t,"CompositeArrayBuffer",(function(){return a.a})),r.d(t,"concatenateArrayBuffers",(function(){return f.d})),r.d(t,"decodeWeights",(function(){return f.e})),r.d(t,"decodeWeightsStream",(function(){return f.f})),r.d(t,"encodeWeights",(function(){return f.g})),r.d(t,"fromMemory",(function(){return g.a})),r.d(t,"fromMemorySync",(function(){return g.b})),r.d(t,"getLoadHandlers",(function(){return s.b})),r.d(t,"getModelArtifactsForJSON",(function(){return f.h})),r.d(t,"getModelArtifactsForJSONSync",(function(){return f.i})),r.d(t,"getModelArtifactsInfoForJSON",(function(){return f.j})),r.d(t,"getSaveHandlers",(function(){return s.c})),r.d(t,"getWeightSpecs",(function(){return f.l})),r.d(t,"http",(function(){return i})),r.d(t,"isHTTPScheme",(function(){return u})),r.d(t,"loadWeights",(function(){return h.a})),r.d(t,"registerLoadRouter",(function(){return s.d})),r.d(t,"registerSaveRouter",(function(){return s.e})),r.d(t,"weightsLoaderFactory",(function(){return h.d})),r.d(t,"withSaveHandler",(function(){return g.c})),r.d(t,"withSaveHandlerSync",(function(){return g.d}))},616:function(n,t,r){"use strict";r(1500);var e=r(1508),o=r(1054);r.d(t,"a",(function(){return o.a})),r.d(t,"b",(function(){return o.b})),r.d(t,"c",(function(){return o.c})),r.d(t,"d",(function(){return o.d})),r.d(t,"e",(function(){return o.e})),r.d(t,"f",(function(){return o.f})),r.d(t,"g",(function(){return o.g})),r.d(t,"h",(function(){return o.h})),r.d(t,"i",(function(){return o.i})),r.d(t,"j",(function(){return o.j})),r.d(t,"k",(function(){return o.k})),r.d(t,"l",(function(){return o.l})),r.d(t,"m",(function(){return o.m})),r.d(t,"n",(function(){return o.n})),r.d(t,"o",(function(){return o.o})),r.d(t,"p",(function(){return o.p})),r.d(t,"q",(function(){return o.q})),r.d(t,"r",(function(){return o.r})),r.d(t,"s",(function(){return o.s})),r.d(t,"t",(function(){return o.t})),r.d(t,"u",(function(){return o.u})),r.d(t,"v",(function(){return o.v})),r.d(t,"w",(function(){return o.w})),r.d(t,"x",(function(){return o.x})),r.d(t,"y",(function(){return o.y})),r.d(t,"z",(function(){return o.z})),r.d(t,"A",(function(){return o.A})),r.d(t,"B",(function(){return o.B})),r.d(t,"C",(function(){return o.C})),r.d(t,"D",(function(){return o.D})),r.d(t,"E",(function(){return o.E})),r.d(t,"F",(function(){return o.F})),r.d(t,"G",(function(){return o.G})),r.d(t,"H",(function(){return o.H})),r.d(t,"I",(function(){return o.I})),r.d(t,"J",(function(){return o.J})),r.d(t,"K",(function(){return o.K})),r.d(t,"L",(function(){return o.L})),r.d(t,"M",(function(){return o.M})),r.d(t,"N",(function(){return o.N})),r.d(t,"O",(function(){return o.O})),r.d(t,"P",(function(){return o.P})),r.d(t,"Q",(function(){return o.Q})),r.d(t,"R",(function(){return o.R})),r.d(t,"S",(function(){return o.S})),r.d(t,"T",(function(){return o.T})),r.d(t,"U",(function(){return o.U})),r.d(t,"V",(function(){return o.V})),r.d(t,"W",(function(){return o.W})),r.d(t,"X",(function(){return o.X})),r.d(t,"Y",(function(){return o.Y})),r.d(t,"Z",(function(){return o.Z})),r.d(t,"ab",(function(){return o.ab})),r.d(t,"bb",(function(){return o.bb})),r.d(t,"cb",(function(){return o.cb})),r.d(t,"db",(function(){return o.db})),r.d(t,"eb",(function(){return o.eb})),r.d(t,"fb",(function(){return o.fb})),r.d(t,"gb",(function(){return o.gb})),r.d(t,"hb",(function(){return o.hb})),r.d(t,"ib",(function(){return o.ib})),r.d(t,"jb",(function(){return o.jb})),r.d(t,"kb",(function(){return o.kb})),r.d(t,"lb",(function(){return o.lb})),r.d(t,"mb",(function(){return o.mb})),r.d(t,"nb",(function(){return o.nb})),r.d(t,"ob",(function(){return o.ob})),r.d(t,"pb",(function(){return o.pb})),r.d(t,"qb",(function(){return o.qb})),r.d(t,"rb",(function(){return o.rb})),r.d(t,"sb",(function(){return o.sb})),r.d(t,"tb",(function(){return o.tb})),r.d(t,"ub",(function(){return o.ub})),r.d(t,"vb",(function(){return o.vb})),r.d(t,"wb",(function(){return o.wb})),r.d(t,"xb",(function(){return o.xb})),r.d(t,"yb",(function(){return o.yb})),r.d(t,"zb",(function(){return o.zb})),r.d(t,"Ab",(function(){return o.Ab})),r.d(t,"Bb",(function(){return o.Bb})),r.d(t,"Cb",(function(){return o.Cb})),r.d(t,"Db",(function(){return o.Db})),r.d(t,"Eb",(function(){return o.Eb})),r.d(t,"Fb",(function(){return o.Fb})),r.d(t,"Gb",(function(){return o.Gb})),r.d(t,"Hb",(function(){return o.Hb})),r.d(t,"Ib",(function(){return o.Ib})),r.d(t,"Jb",(function(){return o.Jb})),r.d(t,"Kb",(function(){return o.Kb})),r.d(t,"Lb",(function(){return o.Lb})),r.d(t,"Mb",(function(){return o.Mb})),r.d(t,"Nb",(function(){return o.Nb})),r.d(t,"Ob",(function(){return o.Ob})),r.d(t,"Pb",(function(){return o.Pb})),r.d(t,"Qb",(function(){return o.Qb})),r.d(t,"Rb",(function(){return o.Rb})),r.d(t,"Sb",(function(){return o.Sb})),r.d(t,"Tb",(function(){return o.Tb})),r.d(t,"Ub",(function(){return o.Ub})),r.d(t,"Vb",(function(){return o.Vb})),r.d(t,"Wb",(function(){return o.Wb})),r.d(t,"Xb",(function(){return o.Xb})),r.d(t,"Yb",(function(){return o.Yb})),r.d(t,"Zb",(function(){return o.Zb})),r.d(t,"ac",(function(){return o.ac})),r.d(t,"bc",(function(){return o.bc})),r.d(t,"cc",(function(){return o.cc})),r.d(t,"dc",(function(){return o.dc})),r.d(t,"ec",(function(){return o.ec})),r.d(t,"fc",(function(){return o.fc})),r.d(t,"gc",(function(){return o.gc})),r.d(t,"hc",(function(){return o.hc})),r.d(t,"ic",(function(){return o.ic})),r.d(t,"jc",(function(){return o.jc})),r.d(t,"kc",(function(){return o.kc})),r.d(t,"lc",(function(){return o.lc})),r.d(t,"mc",(function(){return o.mc})),r.d(t,"nc",(function(){return o.nc})),r.d(t,"oc",(function(){return o.oc})),r.d(t,"pc",(function(){return o.pc})),r.d(t,"qc",(function(){return o.qc})),r.d(t,"rc",(function(){return o.rc})),r.d(t,"sc",(function(){return o.sc})),r.d(t,"tc",(function(){return o.tc})),r.d(t,"uc",(function(){return o.uc})),r.d(t,"vc",(function(){return o.vc})),r.d(t,"wc",(function(){return o.wc})),r.d(t,"xc",(function(){return o.xc})),r.d(t,"yc",(function(){return o.yc})),r.d(t,"zc",(function(){return o.zc})),r.d(t,"Ac",(function(){return o.Ac})),r.d(t,"Bc",(function(){return o.Bc})),r.d(t,"Cc",(function(){return o.Cc})),r.d(t,"Dc",(function(){return o.Dc})),r.d(t,"Ec",(function(){return o.Ec})),r.d(t,"Fc",(function(){return o.Fc})),r.d(t,"Gc",(function(){return o.Gc})),r.d(t,"Hc",(function(){return o.Hc})),r.d(t,"Ic",(function(){return o.Ic})),r.d(t,"Jc",(function(){return o.Jc})),r.d(t,"Kc",(function(){return o.Kc})),r.d(t,"Lc",(function(){return o.Lc})),r.d(t,"Mc",(function(){return o.Mc})),r.d(t,"Nc",(function(){return o.Nc})),r.d(t,"Oc",(function(){return o.Oc})),r.d(t,"Pc",(function(){return o.Pc})),r.d(t,"Qc",(function(){return o.Qc})),r.d(t,"Rc",(function(){return o.Rc})),r.d(t,"Sc",(function(){return o.Sc})),r.d(t,"Tc",(function(){return o.Tc})),r.d(t,"Uc",(function(){return o.Uc})),r.d(t,"Vc",(function(){return o.Vc})),r.d(t,"Wc",(function(){return o.Wc})),r.d(t,"Xc",(function(){return o.Xc})),r.d(t,"Yc",(function(){return o.Yc})),r.d(t,"Zc",(function(){return o.Zc})),r.d(t,"ad",(function(){return o.ad})),r.d(t,"bd",(function(){return o.bd})),r.d(t,"cd",(function(){return o.cd})),r.d(t,"dd",(function(){return o.dd})),r.d(t,"ed",(function(){return o.ed})),r.d(t,"fd",(function(){return o.fd})),r.d(t,"gd",(function(){return o.gd})),r.d(t,"hd",(function(){return o.hd})),r.d(t,"id",(function(){return o.id})),r.d(t,"jd",(function(){return o.jd})),r.d(t,"kd",(function(){return o.kd})),r.d(t,"ld",(function(){return o.ld})),r.d(t,"md",(function(){return o.md})),r.d(t,"nd",(function(){return o.nd})),r.d(t,"od",(function(){return o.od})),r.d(t,"pd",(function(){return o.pd})),r.d(t,"qd",(function(){return o.qd})),r.d(t,"rd",(function(){return o.rd})),r.d(t,"sd",(function(){return o.sd})),r.d(t,"td",(function(){return o.td})),r.d(t,"ud",(function(){return o.ud})),r.d(t,"vd",(function(){return o.vd})),r.d(t,"wd",(function(){return o.wd})),r.d(t,"xd",(function(){return o.xd})),r.d(t,"yd",(function(){return o.yd})),r.d(t,"zd",(function(){return o.zd})),r.d(t,"Ad",(function(){return o.Ad})),r.d(t,"Bd",(function(){return o.Bd})),r.d(t,"Cd",(function(){return o.Cd})),r.d(t,"Dd",(function(){return o.Dd})),r.d(t,"Ed",(function(){return o.Ed})),r.d(t,"Fd",(function(){return o.Fd})),r.d(t,"Gd",(function(){return o.Gd})),r.d(t,"Hd",(function(){return o.Hd})),r.d(t,"Id",(function(){return o.Id})),r.d(t,"Jd",(function(){return o.Jd})),r.d(t,"Kd",(function(){return o.Kd})),r.d(t,"Ld",(function(){return o.Ld})),r.d(t,"Md",(function(){return o.Md})),r.d(t,"Nd",(function(){return o.Nd})),r.d(t,"Od",(function(){return o.Od})),r.d(t,"Pd",(function(){return o.Pd})),r.d(t,"Qd",(function(){return o.Qd})),r.d(t,"Rd",(function(){return o.Rd})),r.d(t,"Sd",(function(){return o.Sd})),r.d(t,"Td",(function(){return o.Td})),r.d(t,"Ud",(function(){return o.Ud})),r.d(t,"Vd",(function(){return o.Vd})),r.d(t,"Wd",(function(){return o.Wd})),r.d(t,"Xd",(function(){return o.Xd})),r.d(t,"Yd",(function(){return o.Yd})),r.d(t,"Zd",(function(){return o.Zd})),r.d(t,"ae",(function(){return o.ae})),r.d(t,"be",(function(){return o.be})),r.d(t,"ce",(function(){return o.ce})),r.d(t,"de",(function(){return o.de})),r.d(t,"ee",(function(){return o.ee})),r.d(t,"fe",(function(){return o.fe})),r.d(t,"ge",(function(){return o.ge})),r.d(t,"he",(function(){return o.he})),r.d(t,"ie",(function(){return o.ie})),r.d(t,"je",(function(){return o.je})),r.d(t,"ke",(function(){return o.ke})),r.d(t,"le",(function(){return o.le})),r.d(t,"me",(function(){return o.me})),r.d(t,"ne",(function(){return o.ne})),r.d(t,"oe",(function(){return o.oe})),r.d(t,"pe",(function(){return o.pe})),r.d(t,"qe",(function(){return o.qe})),r.d(t,"re",(function(){return o.re})),r.d(t,"se",(function(){return o.se})),r.d(t,"te",(function(){return o.te})),r.d(t,"ue",(function(){return o.ue})),r.d(t,"ve",(function(){return o.ve})),r.d(t,"we",(function(){return o.we})),r.d(t,"xe",(function(){return o.xe})),r.d(t,"ye",(function(){return o.ye})),r.d(t,"ze",(function(){return o.ze})),r.d(t,"Ae",(function(){return o.Ae})),r.d(t,"Be",(function(){return o.Be})),r.d(t,"Ce",(function(){return o.Ce})),r.d(t,"De",(function(){return o.De})),r.d(t,"Ee",(function(){return o.Ee})),r.d(t,"Fe",(function(){return o.Fe})),r.d(t,"Ge",(function(){return o.Ge})),r.d(t,"He",(function(){return o.He})),r.d(t,"Ie",(function(){return o.Ie})),r.d(t,"Je",(function(){return o.Je})),r.d(t,"Ke",(function(){return o.Ke})),r.d(t,"Le",(function(){return o.Le})),r.d(t,"Me",(function(){return o.Me})),r.d(t,"Ne",(function(){return o.Ne})),r.d(t,"Oe",(function(){return o.Oe})),r.d(t,"Pe",(function(){return o.Pe})),r.d(t,"Qe",(function(){return o.Qe})),r.d(t,"Re",(function(){return o.Re})),r.d(t,"Se",(function(){return o.Se})),r.d(t,"Te",(function(){return o.Te})),r.d(t,"Ue",(function(){return o.Ue})),r.d(t,"Ve",(function(){return o.Ve})),r.d(t,"We",(function(){return o.We})),r.d(t,"Xe",(function(){return o.Xe})),r.d(t,"Ye",(function(){return o.Ye})),r.d(t,"Ze",(function(){return o.Ze})),r.d(t,"af",(function(){return o.af})),r.d(t,"bf",(function(){return o.bf})),r.d(t,"cf",(function(){return o.cf})),r.d(t,"df",(function(){return o.df})),r.d(t,"ef",(function(){return o.ef})),r.d(t,"ff",(function(){return o.ff})),r.d(t,"gf",(function(){return o.gf})),r.d(t,"hf",(function(){return o.hf})),r.d(t,"if",(function(){return o.if})),r.d(t,"jf",(function(){return o.jf})),r.d(t,"kf",(function(){return o.kf})),r.d(t,"lf",(function(){return o.lf})),r.d(t,"mf",(function(){return o.mf})),r.d(t,"nf",(function(){return o.nf})),r.d(t,"of",(function(){return o.of})),r.d(t,"pf",(function(){return o.pf})),r.d(t,"qf",(function(){return o.qf})),r.d(t,"rf",(function(){return o.rf})),r.d(t,"sf",(function(){return o.sf})),r.d(t,"tf",(function(){return o.tf})),r.d(t,"uf",(function(){return o.uf})),r.d(t,"vf",(function(){return o.vf})),r.d(t,"wf",(function(){return o.wf})),r.d(t,"xf",(function(){return o.xf})),r.d(t,"yf",(function(){return o.yf})),r.d(t,"zf",(function(){return o.zf})),r.d(t,"Af",(function(){return o.Af})),r.d(t,"Bf",(function(){return o.Bf})),r.d(t,"Cf",(function(){return o.Cf})),r.d(t,"Df",(function(){return o.Df})),r.d(t,"Ef",(function(){return o.Ef})),r.d(t,"Ff",(function(){return o.Ff})),r.d(t,"Gf",(function(){return o.Gf})),r.d(t,"Hf",(function(){return o.Hf})),r.d(t,"If",(function(){return o.If})),r.d(t,"Jf",(function(){return o.Jf})),r.d(t,"Kf",(function(){return o.Kf})),r.d(t,"Lf",(function(){return o.Lf})),r.d(t,"Mf",(function(){return o.Mf})),r.d(t,"Nf",(function(){return o.Nf})),r.d(t,"Of",(function(){return o.Of})),r.d(t,"Pf",(function(){return o.Pf})),r.d(t,"Qf",(function(){return o.Qf})),r.d(t,"Rf",(function(){return o.Rf})),r.d(t,"Sf",(function(){return o.Sf})),r.d(t,"Tf",(function(){return o.Tf})),r.d(t,"Uf",(function(){return o.Uf})),r.d(t,"Vf",(function(){return o.Vf})),r.d(t,"Wf",(function(){return o.Wf})),r.d(t,"Xf",(function(){return o.Xf})),r.d(t,"Yf",(function(){return o.Yf})),r.d(t,"Zf",(function(){return o.Zf})),r.d(t,"ag",(function(){return o.ag})),r.d(t,"bg",(function(){return o.bg})),r.d(t,"cg",(function(){return o.cg})),r.d(t,"dg",(function(){return o.dg})),r.d(t,"eg",(function(){return o.eg})),r.d(t,"fg",(function(){return o.fg})),r.d(t,"gg",(function(){return o.gg})),r.d(t,"hg",(function(){return o.hg})),r.d(t,"ig",(function(){return o.ig})),r.d(t,"jg",(function(){return o.jg})),r.d(t,"kg",(function(){return o.kg})),r.d(t,"lg",(function(){return o.lg})),r.d(t,"mg",(function(){return o.mg})),r.d(t,"ng",(function(){return o.ng})),r.d(t,"og",(function(){return o.og})),r.d(t,"pg",(function(){return o.pg})),r.d(t,"qg",(function(){return o.qg})),r.d(t,"rg",(function(){return o.rg})),r.d(t,"sg",(function(){return o.sg})),r.d(t,"tg",(function(){return o.tg})),r.d(t,"ug",(function(){return o.ug})),r.d(t,"vg",(function(){return o.vg})),r.d(t,"wg",(function(){return o.wg})),r.d(t,"xg",(function(){return o.xg})),r.d(t,"yg",(function(){return o.yg})),r.d(t,"zg",(function(){return o.zg})),r.d(t,"Ag",(function(){return o.Ag})),r.d(t,"Bg",(function(){return o.Bg})),r.d(t,"Cg",(function(){return o.Cg})),r.d(t,"Dg",(function(){return o.Dg})),r.d(t,"Eg",(function(){return o.Eg})),r.d(t,"Fg",(function(){return o.Fg})),r.d(t,"Gg",(function(){return o.Gg})),r.d(t,"Hg",(function(){return o.Hg})),r.d(t,"Ig",(function(){return o.Ig})),r.d(t,"Jg",(function(){return o.Jg})),r.d(t,"Kg",(function(){return o.Kg})),r.d(t,"Lg",(function(){return o.Lg})),r.d(t,"Mg",(function(){return o.Mg})),r.d(t,"Ng",(function(){return o.Ng})),r.d(t,"Og",(function(){return o.Og})),r.d(t,"Pg",(function(){return o.Pg})),r.d(t,"Qg",(function(){return o.Qg})),r.d(t,"Rg",(function(){return o.Rg})),r.d(t,"Sg",(function(){return o.Sg})),r.d(t,"Tg",(function(){return o.Tg})),r.d(t,"Ug",(function(){return o.Ug})),r.d(t,"Vg",(function(){return o.Vg})),r.d(t,"Wg",(function(){return o.Wg})),r.d(t,"Xg",(function(){return o.Xg})),r.d(t,"Yg",(function(){return o.Yg})),r.d(t,"Zg",(function(){return o.Zg})),r.d(t,"ah",(function(){return o.ah})),r.d(t,"bh",(function(){return o.bh})),r.d(t,"ch",(function(){return o.ch})),r.d(t,"dh",(function(){return o.dh})),r.d(t,"eh",(function(){return o.eh})),r.d(t,"fh",(function(){return o.fh})),r.d(t,"gh",(function(){return o.gh})),r.d(t,"hh",(function(){return o.hh})),r.d(t,"ih",(function(){return o.ih})),r.d(t,"jh",(function(){return o.jh})),r.d(t,"kh",(function(){return o.kh})),r.d(t,"lh",(function(){return o.lh})),r.d(t,"mh",(function(){return o.mh})),r.d(t,"nh",(function(){return o.nh})),r.d(t,"oh",(function(){return o.oh})),r.d(t,"ph",(function(){return o.ph})),r.d(t,"qh",(function(){return o.qh})),r.d(t,"rh",(function(){return o.rh})),r.d(t,"sh",(function(){return o.sh})),r.d(t,"th",(function(){return o.th})),r.d(t,"uh",(function(){return o.uh})),r.d(t,"vh",(function(){return o.vh})),r.d(t,"wh",(function(){return o.wh})),r.d(t,"xh",(function(){return o.xh})),r.d(t,"yh",(function(){return o.yh})),r.d(t,"zh",(function(){return o.zh})),r.d(t,"Ah",(function(){return o.Ah})),r.d(t,"Bh",(function(){return o.Bh})),r.d(t,"Ch",(function(){return o.Ch})),r.d(t,"Dh",(function(){return o.Dh})),r.d(t,"Eh",(function(){return o.Eh})),r.d(t,"Fh",(function(){return o.Fh})),r.d(t,"Gh",(function(){return o.Gh})),r.d(t,"Hh",(function(){return o.Hh})),r.d(t,"Ih",(function(){return o.Ih})),r.d(t,"Jh",(function(){return o.Jh})),r.d(t,"Kh",(function(){return o.Kh})),r.d(t,"Lh",(function(){return o.Lh})),r.d(t,"Mh",(function(){return o.Mh})),r.d(t,"Nh",(function(){return o.Nh})),r.d(t,"Oh",(function(){return o.Oh})),r.d(t,"Ph",(function(){return o.Ph})),r.d(t,"Qh",(function(){return o.Qh})),r.d(t,"Rh",(function(){return o.Rh})),r.d(t,"Sh",(function(){return o.Sh})),r.d(t,"Th",(function(){return o.Th})),r.d(t,"Uh",(function(){return o.Uh})),r.d(t,"Vh",(function(){return o.Vh})),r.d(t,"Wh",(function(){return o.Wh})),r.d(t,"Xh",(function(){return o.Xh})),r.d(t,"Yh",(function(){return o.Yh})),r.d(t,"Zh",(function(){return o.Zh})),r.d(t,"ai",(function(){return o.ai})),r.d(t,"bi",(function(){return o.bi})),r.d(t,"ci",(function(){return o.ci})),r.d(t,"di",(function(){return o.di})),r.d(t,"ei",(function(){return o.ei})),r.d(t,"fi",(function(){return o.fi})),r.d(t,"gi",(function(){return o.gi})),r.d(t,"hi",(function(){return o.hi})),r.d(t,"ii",(function(){return o.ii})),r.d(t,"ji",(function(){return o.ji})),r.d(t,"ki",(function(){return o.ki})),r.d(t,"li",(function(){return o.li})),r.d(t,"mi",(function(){return o.mi})),r.d(t,"ni",(function(){return o.ni})),r.d(t,"oi",(function(){return o.oi})),r.d(t,"pi",(function(){return o.pi})),r.d(t,"qi",(function(){return o.qi})),r.d(t,"ri",(function(){return o.ri})),r.d(t,"si",(function(){return o.si})),r.d(t,"ti",(function(){return o.ti})),r.d(t,"ui",(function(){return o.ui})),r.d(t,"vi",(function(){return o.vi})),r.d(t,"wi",(function(){return o.wi})),r.d(t,"xi",(function(){return o.xi})),r.d(t,"yi",(function(){return o.yi})),r.d(t,"zi",(function(){return o.zi})),r.d(t,"Ai",(function(){return o.Ai})),r.d(t,"Bi",(function(){return o.Bi})),r.d(t,"Ci",(function(){return o.Ci})),r.d(t,"Di",(function(){return o.Di})),r.d(t,"Ei",(function(){return o.Ei})),r.d(t,"Fi",(function(){return o.Fi})),r.d(t,"Gi",(function(){return o.Gi})),r.d(t,"Hi",(function(){return o.Hi})),r.d(t,"Ii",(function(){return o.Ii})),r.d(t,"Ji",(function(){return o.Ji})),r.d(t,"Ki",(function(){return o.Ki})),r.d(t,"Li",(function(){return o.Li})),r.d(t,"Mi",(function(){return o.Mi})),r.d(t,"Ni",(function(){return o.Ni})),r.d(t,"Oi",(function(){return o.Oi})),r.d(t,"Pi",(function(){return o.Pi})),r.d(t,"Qi",(function(){return o.Qi})),r.d(t,"Ri",(function(){return o.Ri})),r.d(t,"Si",(function(){return o.Si})),r.d(t,"Ti",(function(){return o.Ti})),r.d(t,"Ui",(function(){return o.Ui})),r.d(t,"Vi",(function(){return o.Vi})),r.d(t,"Wi",(function(){return o.Wi})),r.d(t,"Xi",(function(){return o.Xi})),r.d(t,"Yi",(function(){return o.Yi})),r.d(t,"Zi",(function(){return o.Zi})),r.d(t,"aj",(function(){return o.aj})),r.d(t,"bj",(function(){return o.bj})),Object(e.a)()},672:function(n,t,r){"use strict";!function(n){async function e(n,t){const r=[],e=[],o=Array.isArray(n)?n.map((n=>n.name)):Object.keys(n);for(let u=0;u<o.length;++u){const i=o[u],d=Array.isArray(n)?n[u].tensor:n[i];if("float32"!==d.dtype&&"int32"!==d.dtype&&"bool"!==d.dtype&&"string"!==d.dtype&&"complex64"!==d.dtype)throw Error(`Unsupported dtype in weight '${i}': ${d.dtype}`);const c={name:i,shape:d.shape,dtype:d.dtype};if("string"===d.dtype){const n=new Promise((async n=>{const t=await d.bytes(),r=t.reduce(((n,t)=>n+t.length),0)+M*t.length,e=new Uint8Array(r);let o=0;for(let u=0;u<t.length;u++){const n=t[u],r=new Uint8Array(new Uint32Array([n.length]).buffer);e.set(r,o),o+=M,e.set(n,o),o+=n.length}n(e)}));e.push(n)}else e.push(d.data());null!=t&&(c.group=t),r.push(c)}return{data:s(await Promise.all(e)),specs:r}}function o(n,t){const r=new v.a(n),e={};let o=0;for(const i of t){const n=u(i,((n,t)=>r.slice(o+n,o+t)));e[i.name]=d(i,r.slice(o,o+n)),o+=n}return e}function u(n,t){const r=Object(E.O)(n.shape);let e;if("quantization"in n){const t=n.quantization;e=j.a[t.dtype]}else{if("string"===n.dtype){let n=0;for(let e=0;e<r;e++)n+=M+new Uint32Array(t(n,n+M))[0];return n}e=j.a[n.dtype]}return r*e}async function i(n,t){const r=Object(E.O)(n.shape);let e;if("quantization"in n){const t=n.quantization;e=j.a[t.dtype]}else{if("string"===n.dtype){let n=0;for(let e=0;e<r;e++)n+=M+new Uint32Array(await t(n,n+M))[0];return n}e=j.a[n.dtype]}return r*e}function d(n,t){const r=n.name,e=n.dtype,o=n.shape,u=Object(E.O)(o);let i,d=0;if("quantization"in n){const o=n.quantization;if("uint8"===o.dtype||"uint16"===o.dtype){if(!("min"in o)||!("scale"in o))throw Error(`Weight ${n.name} with quantization ${o.dtype} doesn't have corresponding metadata min and scale.`)}else{if("float16"!==o.dtype)throw Error(`Weight ${n.name} has unknown quantization dtype ${o.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);if("float32"!==e)throw Error(`Weight ${n.name} is quantized with ${o.dtype} which only supports weights of type float32 not ${e}.`)}const c=j.a[o.dtype],f="uint8"===o.dtype?new Uint8Array(t):new Uint16Array(t);if("float32"===e)if("uint8"===o.dtype||"uint16"===o.dtype){i=new Float32Array(f.length);for(let n=0;n<f.length;n++){const t=f[n];i[n]=t*o.scale+o.min}}else{if("float16"!==o.dtype)throw Error(`Unsupported quantization type ${o.dtype} for weight type float32.`);{const n=function(){const n=function(){const n=n=>{let t=n<<13,r=0;for(;0==(8388608&t);)r-=8388608,t<<=1;return t&=-8388609,r+=947912704,t|r},t=new Uint32Array(2048);t[0]=0;for(let r=1;r<1024;r++)t[r]=n(r);for(let r=1024;r<2048;r++)t[r]=939524096+(r-1024<<13);return t}(),t=function(){const n=new Uint32Array(64);n[0]=0,n[31]=1199570944,n[32]=2147483648,n[63]=3347054592;for(let t=1;t<31;t++)n[t]=t<<23;for(let t=33;t<63;t++)n[t]=2147483648+(t-32<<23);return n}(),r=function(){const n=new Uint32Array(64);for(let t=0;t<64;t++)n[t]=1024;return n[0]=n[32]=0,n}();return e=>{const o=new ArrayBuffer(4*e.length),u=new Uint32Array(o);for(let i=0;i<e.length;i++){const o=e[i],d=n[r[o>>10]+(1023&o)]+t[o>>10];u[i]=d}return new Float32Array(o)}}();i=n(f)}}else{if("int32"!==e)throw Error(`Unsupported dtype in weight '${r}': ${e}`);if("uint8"!==o.dtype&&"uint16"!==o.dtype)throw Error(`Unsupported quantization type ${o.dtype} for weight type int32.`);i=new Int32Array(f.length);for(let n=0;n<f.length;n++){const t=f[n];i[n]=Math.round(t*o.scale+o.min)}}d+=u*c}else if("string"===e){const r=Object(E.O)(n.shape);i=[];for(let n=0;n<r;n++){const n=new Uint32Array(t.slice(d,d+M))[0];d+=M;const r=new Uint8Array(t.slice(d,d+n));i.push(r),d+=n}}else{const n=j.a[e];if("float32"===e)i=new Float32Array(t);else if("int32"===e)i=new Int32Array(t);else{if("bool"!==e){if("complex64"===e){i=new Float32Array(t);const n=new Float32Array(i.length/2),r=new Float32Array(i.length/2);for(let t=0;t<n.length;t++)n[t]=i[2*t],r[t]=i[2*t+1];const e=Object(O.a)(n,o,"float32"),u=Object(O.a)(r,o,"float32"),d=Object(A.a)(e,u);return e.dispose(),u.dispose(),d}throw Error(`Unsupported dtype in weight '${r}': ${e}`)}i=new Uint8Array(t)}d+=u*n}return Object(O.a)(i,o,e)}async function c(n,t,r){let e=new Uint8Array(t);for(;e.byteLength<r;){const{done:t,value:o}=await n.read();if(t&&null==o){const n=r-e.byteLength;throw Error(`Reader is done but ${n} bytes are still expected`)}const u=new Uint8Array(e.length+o.byteLength);u.set(e,0),u.set(new Uint8Array(o),e.length),e=u}return e.buffer}async function f(n,t){const r={},e=n.getReader();let o=new ArrayBuffer(0);for(const u of t){const n=await i(u,(async(n,t)=>(o=await c(e,o,t),o.slice(n,t))));o=await c(e,o,n);const t=o.slice(0,n);o=o.slice(n);const f=d(u,t);if(r[u.name]=f,"webgpu"===Object(U.k)()){const n=Object(U.a)();"uploadToGPU"in n&&Object(E.O)(f.shape)>=Object(B.c)().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&n.uploadToGPU(f.dataId)}}return r}function s(n){if(null===n)throw Error("Invalid input value: "+JSON.stringify(n));let t=0;const r=[];n.forEach((n=>{if(t+=n.byteLength,r.push(n.byteLength===n.buffer.byteLength?n:new n.constructor(n)),!(n instanceof Float32Array||n instanceof Int32Array||n instanceof Uint8Array))throw Error("Unsupported TypedArray subtype: "+n.constructor.name)}));const e=new Uint8Array(t);let o=0;return r.forEach((n=>{e.set(new Uint8Array(n.buffer),o),o+=n.byteLength})),e.buffer}function a(t){return F?n.byteLength(t,"utf8"):new Blob([t]).size}function l(t){if(F)return n.from(t).toString("base64");const r=new Uint8Array(t);let e="";for(let n=0,o=r.length;n<o;n++)e+=String.fromCharCode(r[n]);return btoa(e)}function h(t){if(F){const r=n.from(t,"base64");return r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)}const r=atob(t),e=new Uint8Array(r.length);for(let n=0;n<r.length;++n)e.set([r.charCodeAt(n)],n);return e.buffer}function g(n){return v.a.join(n)}function b(n){for(n=n.trim();n.endsWith("/");)n=n.slice(0,n.length-1);const t=n.split("/");return t[t.length-1]}function p(n,t){const r={modelTopology:n.modelTopology,format:n.format,generatedBy:n.generatedBy,convertedBy:n.convertedBy,weightsManifest:t};return null!=n.signature&&(r.signature=n.signature),null!=n.userDefinedMetadata&&(r.userDefinedMetadata=n.userDefinedMetadata),null!=n.modelInitializer&&(r.modelInitializer=n.modelInitializer),null!=n.initializerSignature&&(r.initializerSignature=n.initializerSignature),null!=n.trainingConfig&&(r.trainingConfig=n.trainingConfig),r}function y(n,t,r){const e={modelTopology:n.modelTopology,format:n.format,generatedBy:n.generatedBy,convertedBy:n.convertedBy};if(null!=n.trainingConfig&&(e.trainingConfig=n.trainingConfig),null!=n.weightsManifest){if(!t)throw Error("modelJSON has weightsManifest but weightSpecs is null");if(!r)throw Error("modelJSON has weightsManifest but weightData is null");e.weightSpecs=t,e.weightData=r}return null!=n.signature&&(e.signature=n.signature),null!=n.userDefinedMetadata&&(e.userDefinedMetadata=n.userDefinedMetadata),null!=n.modelInitializer&&(e.modelInitializer=n.modelInitializer),null!=n.initializerSignature&&(e.initializerSignature=n.initializerSignature),e}async function w(n,t){let r,e;return null!=n.weightsManifest&&([r,e]=await t(n.weightsManifest)),y(n,r,e)}function m(n){if(n.modelTopology instanceof ArrayBuffer)throw Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==n.modelTopology?0:a(JSON.stringify(n.modelTopology)),weightSpecsBytes:null==n.weightSpecs?0:a(JSON.stringify(n.weightSpecs)),weightDataBytes:null==n.weightData?0:new v.a(n.weightData).byteLength}}function S(n){const t=[];for(const r of n)t.push(...r.weights);return t}var A,O,E,j,v,U,B;r.d(t,"g",(function(){return e})),r.d(t,"e",(function(){return o})),r.d(t,"f",(function(){return f})),r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return h})),r.d(t,"d",(function(){return g})),r.d(t,"c",(function(){return b})),r.d(t,"k",(function(){return p})),r.d(t,"i",(function(){return y})),r.d(t,"h",(function(){return w})),r.d(t,"j",(function(){return m})),r.d(t,"l",(function(){return S})),A=r(716),O=r(796),E=r(661),j=r(1103),v=r(714),U=r(676),B=r(657);const M=4,F=void 0!==n&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa)}(r(66).Buffer)},714:function(n,t,r){"use strict";r.d(t,"a",(function(){return o}));var e=r(621);class o{static join(n){return new o(n).slice()}constructor(n){if(this.shards=[],this.previousShardIndex=0,null==n)return;if(n instanceof Array||(n=[n]),0===(n=n.map((n=>e.isTypedArray(n)?n.buffer:n))).length)return;this.bufferUniformSize=n[0].byteLength;let t=0;for(let r=0;r<n.length;r++){const e=n[r];r!==n.length-1&&e.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const o=t+e.byteLength;this.shards.push({buffer:e,start:t,end:o}),t=o}0===this.shards.length&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(n=0,t=this.byteLength){if(0===this.shards.length)return new ArrayBuffer(0);if(n=isNaN(Number(n))?0:n,t=isNaN(Number(t))?0:t,n=Math.max(0,n),(t=Math.min(this.byteLength,t))<=n)return new ArrayBuffer(0);const r=this.findShardForByte(n);if(-1===r)throw Error("Could not find start shard for byte "+n);const e=new ArrayBuffer(t-n),o=new Uint8Array(e);let u=0;for(let i=r;i<this.shards.length;i++){const r=this.shards[i],e=n+u-r.start,d=u,c=Math.min(t,r.end)-r.start,f=new Uint8Array(r.buffer,e,c-e);if(o.set(f,d),u+=f.length,t<r.end)break}return e}findShardForByte(n){function t(t){return n<t.start?-1:n>=t.end?1:0}if(0===this.shards.length||n<0||n>=this.byteLength)return-1;if(null!=this.bufferUniformSize)return this.previousShardIndex=Math.floor(n/this.bufferUniformSize),this.previousShardIndex;if(0===t(this.shards[this.previousShardIndex]))return this.previousShardIndex;const r=function(n,t){let r=0,e=n.length;for(;r<=e;){const o=Math.floor((e-r)/2)+r,u=t(n[o]);if(0===u)return o;u<0?e=o:r=o+1}return-1}(this.shards,t);return-1===r?-1:(this.previousShardIndex=r,this.previousShardIndex)}}}}]);